---
title: <serviceSecurityAudit>
ms.date: 03/30/2017
ms.assetid: ba517369-a034-4f8e-a2c4-66517716062b
ms.openlocfilehash: 10888f26053014ffb1fec49d1dfe87c7fd09ab54
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/06/2020
ms.locfileid: "70399579"
---
# \<serviceSecurityAudit>
<span data-ttu-id="da1e1-101">Legt Einstellungen fest, die die Überwachung von Sicherheitsereignissen während der Dienstvorgänge ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="da1e1-101">Specifies settings that enable auditing of security events during service operations.</span></span>  
  
[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<system.serviceModel>**](system-servicemodel.md)\
&nbsp;&nbsp;&nbsp;&nbsp;[**\<behaviors>**](behaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<serviceBehaviors>**](servicebehaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<behavior>**](behavior-of-servicebehaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<serviceSecurityAudit>**  
  
## <a name="syntax"></a><span data-ttu-id="da1e1-102">Syntax</span><span class="sxs-lookup"><span data-stu-id="da1e1-102">Syntax</span></span>  
  
```xml  
<serviceSecurityAudit auditLogLocation="Default/Application/Security"
                      messageAuthenticationAuditLevel="None/Success/Failure/SuccessOrFailure"
                      serviceAuthorizationAuditLevel="None/Success/Failure/SuccessOrFailure"
                      suppressAuditFailure="Boolean" />
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="da1e1-103">Attribute und Elemente</span><span class="sxs-lookup"><span data-stu-id="da1e1-103">Attributes and Elements</span></span>  
 <span data-ttu-id="da1e1-104">In den folgenden Abschnitten werden Attribute sowie untergeordnete und übergeordnete Elemente beschrieben.</span><span class="sxs-lookup"><span data-stu-id="da1e1-104">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="da1e1-105">Attribute</span><span class="sxs-lookup"><span data-stu-id="da1e1-105">Attributes</span></span>  
  
|<span data-ttu-id="da1e1-106">attribute</span><span class="sxs-lookup"><span data-stu-id="da1e1-106">Attribute</span></span>|<span data-ttu-id="da1e1-107">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="da1e1-107">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="da1e1-108">auditLogLocation</span><span class="sxs-lookup"><span data-stu-id="da1e1-108">auditLogLocation</span></span>|<span data-ttu-id="da1e1-109">Gibt den Speicherort des Überwachungsprotokolls an.</span><span class="sxs-lookup"><span data-stu-id="da1e1-109">Specifies the location of the audit log.</span></span> <span data-ttu-id="da1e1-110">Gültige Werte sind:</span><span class="sxs-lookup"><span data-stu-id="da1e1-110">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="da1e1-111">-Standard: Sicherheitsereignisse werden in das Anwendungsprotokoll unter Windows XP und in das Ereignisprotokoll unter Windows Server 2003 und Windows Vista geschrieben.</span><span class="sxs-lookup"><span data-stu-id="da1e1-111">-   Default: Security events are written to the application log on Windows XP, and to the Event Log on Windows Server 2003 and Windows Vista.</span></span><br /><span data-ttu-id="da1e1-112">-Anwendung: Überwachungs Ereignisse werden in das Anwendungs Ereignisprotokoll geschrieben.</span><span class="sxs-lookup"><span data-stu-id="da1e1-112">-   Application: Audit events are written to the Application Event Log.</span></span><br /><span data-ttu-id="da1e1-113">-Security: Überwachungs Ereignisse werden in das Sicherheits Ereignisprotokoll geschrieben.</span><span class="sxs-lookup"><span data-stu-id="da1e1-113">-   Security: Audit events are written to the Security Event Log.</span></span><br /><br /> <span data-ttu-id="da1e1-114">Der Standardwert ist Default.</span><span class="sxs-lookup"><span data-stu-id="da1e1-114">The default value is Default.</span></span> <span data-ttu-id="da1e1-115">Weitere Informationen finden Sie unter <xref:System.ServiceModel.AuditLogLocation>.</span><span class="sxs-lookup"><span data-stu-id="da1e1-115">For more information, see <xref:System.ServiceModel.AuditLogLocation>.</span></span>|  
|<span data-ttu-id="da1e1-116">suppressAuditFailure</span><span class="sxs-lookup"><span data-stu-id="da1e1-116">suppressAuditFailure</span></span>|<span data-ttu-id="da1e1-117">Boolescher Wert, der das Verhalten für das Unterdrücken von Fehlern beim Schreiben in das Überwachungsprotokoll angibt.</span><span class="sxs-lookup"><span data-stu-id="da1e1-117">A Boolean value that specifies the behavior for suppressing failures of writing to the audit log.</span></span><br /><br /> <span data-ttu-id="da1e1-118">Anwendungen sollten über Schreibfehler im Überwachungsprotokoll benachrichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="da1e1-118">Applications should be notified for failures of writing to the audit log.</span></span> <span data-ttu-id="da1e1-119">Wenn die Anwendung nicht für das Verarbeiten von Überwachungsfehlern ausgelegt ist, sollten Sie dieses Attribut verwenden, um Fehler beim Schreiben in das Überwachungsprotokoll zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="da1e1-119">If your application is not designed to handle audit failures, you should use this attribute to suppress failures in writing to the audit log.</span></span><br /><br /> <span data-ttu-id="da1e1-120">Wenn dieses Attribut den Wert `true` hat, werden Ausnahmen (außer OutOfMemoryException, StackOverFlowException, ThreadAbortException und ArgumentException), die aus Versuchen, Überwachungsereignisse zu schreiben, hervorgehen, vom System verarbeitet und nicht an die Anwendung weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="da1e1-120">If this attribute is `true`, exceptions other than OutOfMemoryException, StackOverFlowException, ThreadAbortException, and ArgumentException that result from attempts to write audit events are handled by the system, and are not propagated to the application.</span></span> <span data-ttu-id="da1e1-121">Wenn dieses Attribut den Wert `false` hat, werden alle Ausnahmen, die aus Versuchen, Überwachungsereignisse zu schreiben, hervorgehen, an die Anwendung weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="da1e1-121">If this attribute is `false`, all exceptions that result from attempts to write audit events are passed up to the application.</span></span><br /><br /> <span data-ttu-id="da1e1-122">Der Standardwert lautet `true`.</span><span class="sxs-lookup"><span data-stu-id="da1e1-122">The default is `true`.</span></span>|  
|<span data-ttu-id="da1e1-123">serviceAuthorizationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="da1e1-123">serviceAuthorizationAuditLevel</span></span>|<span data-ttu-id="da1e1-124">Gibt die Typen von Autorisierungsereignissen an, die im Überwachungsprotokoll aufgezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="da1e1-124">Specifies the types of authorization events that are recorded in the audit log.</span></span> <span data-ttu-id="da1e1-125">Gültige Werte sind:</span><span class="sxs-lookup"><span data-stu-id="da1e1-125">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="da1e1-126">-None: Es wird keine Überwachung von Dienst Autorisierungs Ereignissen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="da1e1-126">-   None: No auditing of service authorization events is performed.</span></span><br /><span data-ttu-id="da1e1-127">-Success: Es werden nur erfolgreiche Dienst Autorisierungs Ereignisse überwacht.</span><span class="sxs-lookup"><span data-stu-id="da1e1-127">-   Success: Only successful service authorization events are audited.</span></span><br /><span data-ttu-id="da1e1-128">-Fehler: nur Fehler Dienst-Autorisierungs Ereignisse werden überwacht.</span><span class="sxs-lookup"><span data-stu-id="da1e1-128">-   Failure: Only failure service authorization events are audited.</span></span><br /><span data-ttu-id="da1e1-129">-Erfolgreiorfailure: sowohl Erfolgs-als auch Fehler Dienst-Autorisierungs Ereignisse werden überwacht.</span><span class="sxs-lookup"><span data-stu-id="da1e1-129">-   SuccessOrFailure: Both success and failure service authorization events are audited.</span></span><br /><br /> <span data-ttu-id="da1e1-130">Der Standardwert lautet „Keine“.</span><span class="sxs-lookup"><span data-stu-id="da1e1-130">The default value is None.</span></span> <span data-ttu-id="da1e1-131">Weitere Informationen finden Sie unter <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="da1e1-131">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
|<span data-ttu-id="da1e1-132">messageAuthenticationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="da1e1-132">messageAuthenticationAuditLevel</span></span>|<span data-ttu-id="da1e1-133">Gibt den Typ der protokollierten Nachrichtenauthentifizierungs-Überwachungsereignisse an.</span><span class="sxs-lookup"><span data-stu-id="da1e1-133">Specifies the type of message authentication audit events logged.</span></span> <span data-ttu-id="da1e1-134">Gültige Werte sind:</span><span class="sxs-lookup"><span data-stu-id="da1e1-134">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="da1e1-135">-None: Es werden keine Überwachungs Ereignisse generiert.</span><span class="sxs-lookup"><span data-stu-id="da1e1-135">-   None: No audit events are generated.</span></span><br /><span data-ttu-id="da1e1-136">-Erfolg: Es werden nur erfolgreiche Sicherheitsereignisse (vollständige Validierung einschließlich Validierung der Nachrichten Signatur, Chiffre Validierung und tokenüberprüfung) protokolliert.</span><span class="sxs-lookup"><span data-stu-id="da1e1-136">-   Success: Only successful security (full validation including message signature validation, cipher, and token validation) events are logged.</span></span><br /><span data-ttu-id="da1e1-137">-Fehler: nur Fehlerereignisse werden protokolliert.</span><span class="sxs-lookup"><span data-stu-id="da1e1-137">-   Failure: Only failure events are logged.</span></span><br /><span data-ttu-id="da1e1-138">-Erfolgreiorfailure: sowohl Erfolgs-als auch Fehlerereignisse werden protokolliert.</span><span class="sxs-lookup"><span data-stu-id="da1e1-138">-   SuccessOrFailure: Both success and failure events are logged.</span></span><br /><br /> <span data-ttu-id="da1e1-139">Der Standardwert lautet „Keine“.</span><span class="sxs-lookup"><span data-stu-id="da1e1-139">The default value is None.</span></span> <span data-ttu-id="da1e1-140">Weitere Informationen finden Sie unter <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="da1e1-140">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="da1e1-141">Untergeordnete Elemente</span><span class="sxs-lookup"><span data-stu-id="da1e1-141">Child Elements</span></span>  
 <span data-ttu-id="da1e1-142">Keine</span><span class="sxs-lookup"><span data-stu-id="da1e1-142">None.</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="da1e1-143">Übergeordnete Elemente</span><span class="sxs-lookup"><span data-stu-id="da1e1-143">Parent Elements</span></span>  
  
|<span data-ttu-id="da1e1-144">Element</span><span class="sxs-lookup"><span data-stu-id="da1e1-144">Element</span></span>|<span data-ttu-id="da1e1-145">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="da1e1-145">Description</span></span>|  
|-------------|-----------------|  
|[\<behavior>](behavior-of-endpointbehaviors.md)|<span data-ttu-id="da1e1-146">Gibt ein Verhaltenselement an.</span><span class="sxs-lookup"><span data-stu-id="da1e1-146">Specifies a behavior element.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="da1e1-147">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="da1e1-147">Remarks</span></span>  
 <span data-ttu-id="da1e1-148">Dieses Konfigurationselement wird verwendet, um Windows Communication Foundation (WCF)-Authentifizierungs Ereignisse zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="da1e1-148">This configuration element is used to audit Windows Communication Foundation (WCF) authentication events.</span></span> <span data-ttu-id="da1e1-149">Ist die Überwachung aktiviert, können entweder erfolgreiche oder fehlgeschlagene Authentifizierungsversuche (oder beides) überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="da1e1-149">When auditing is enabled, either successful or failed authentication attempts (or both) can be audited.</span></span> <span data-ttu-id="da1e1-150">Die Ereignisse werden in eines der drei Ereignisprotokolle geschrieben: das Anwendungs-, Sicherheits- oder Standardprotokoll für die Betriebssystemversion.</span><span class="sxs-lookup"><span data-stu-id="da1e1-150">The events are written to one of three event logs: application, security, or the default log for the operating system version.</span></span> <span data-ttu-id="da1e1-151">Die Ereignisprotokolle können alle mit der Windows-Ereignisanzeige angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="da1e1-151">The event logs can all be viewed using the Windows Event viewer.</span></span>  
  
 <span data-ttu-id="da1e1-152">Ein ausführliches Beispiel für die Verwendung dieses Konfigurations Elements finden Sie unter [Service Auditing Behavior](../../../wcf/samples/service-auditing-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="da1e1-152">For a detailed example of using this configuration element, see [Service Auditing Behavior](../../../wcf/samples/service-auditing-behavior.md).</span></span>  
  
 <span data-ttu-id="da1e1-153">Standardmäßig können unter Windows XP die Überwachungsereignisse im Anwendungsprotokoll und unter Windows Server 2003 und Windows Vista im Sicherheitsprotokoll angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="da1e1-153">By default, on Windows XP the audit events can be seen in the Application Log; while on Windows Server 2003 and Windows Vista, the audit events can be seen in the Security Log.</span></span> <span data-ttu-id="da1e1-154">Der Speicherort von Überwachungsereignissen kann durch Festlegen des `auditLogLocation`-Attributs auf "Application" oder "Security" angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="da1e1-154">The location of audit events can be specified by setting the `auditLogLocation` attribute to 'Application' or 'Security'.</span></span> <span data-ttu-id="da1e1-155">Weitere Informationen finden Sie unter Vorgehensweise: Überwachen von [Sicherheits Ereignissen](../../../wcf/feature-details/how-to-audit-wcf-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="da1e1-155">For more information, see [How to: Audit Security Events](../../../wcf/feature-details/how-to-audit-wcf-security-events.md).</span></span> <span data-ttu-id="da1e1-156">Wenn die Ereignisse in das Sicherheitsprotokoll geschrieben werden, sollte das LocalSecurityPolicy-> Objektzugriff aktivieren auf "Erfolg" und "Fehler" festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="da1e1-156">If the events are written in the Security Log, the LocalSecurityPolicy-> Enable Object Access should be set for "Success" and "Failure".</span></span>  
  
 <span data-ttu-id="da1e1-157">Im Ereignisprotokoll ist die Quelle der Überwachungsereignisse "ServiceModel Audit 3.0.0.0".</span><span class="sxs-lookup"><span data-stu-id="da1e1-157">When looking at the event log, the source of the audit events is "ServiceModel Audit 3.0.0.0".</span></span> <span data-ttu-id="da1e1-158">Nachrichtenauthentifizierungsüberwachungs-Datensätze weisen die Kategorie "MessageAuthentication" auf, während Dienstautorisierungsüberwachungs-Datensätze die Kategorie 'ServiceAuthorization' aufweisen.</span><span class="sxs-lookup"><span data-stu-id="da1e1-158">Message authentication audit records have a category of "MessageAuthentication" while service authorization audit records have a category of 'ServiceAuthorization'.</span></span>  
  
 <span data-ttu-id="da1e1-159">Ereignisse der Nachrichtenauthentifizierungsüberwachung zeigen an, ob die Nachricht manipuliert wurde, abgelaufen ist und ob der Client für den Dienst authentifiziert werden kann.</span><span class="sxs-lookup"><span data-stu-id="da1e1-159">Message authentication audit events cover whether the message was tampered with, whether the message has expired and whether the client can authenticate to the service.</span></span> <span data-ttu-id="da1e1-160">Sie enthalten Informationen darüber, ob die Authentifizierung erfolgreich war oder fehlgeschlagen ist, sowie Informationen über die Identität des Clients und über den Endpunkt, an den die Nachricht zusammen mit der der Nachricht zugewiesenen Aktion gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="da1e1-160">They provide information about whether the authentication succeeded or failed along with the identity of the client and the endpoint the message was sent to along with the action associated with the message.</span></span>  
  
 <span data-ttu-id="da1e1-161">Ereignisse der Dienstautorisierungsüberwachung enthalten die Autorisierungsentscheidung, die vom Dienstautorisierungs-Manager getroffen wird.</span><span class="sxs-lookup"><span data-stu-id="da1e1-161">Service authorization audit events cover the authorization decision made by a service authorization manager.</span></span> <span data-ttu-id="da1e1-162">Sie enthalten Informationen darüber, ob die Autorisierung erfolgreich war oder fehlgeschlagen ist, sowie die Identität des Clients, den Endpunkt, an den die Nachricht gesendet wurde, die der Nachricht zugeordnete Aktion, den Bezeichner des Autorisierungs Kontexts, der von der eingehenden Nachricht generiert wurde, und den Typ des Autorisierungs-Managers, der die Zugriffs Entscheidung getroffen</span><span class="sxs-lookup"><span data-stu-id="da1e1-162">They provide information about whether authorization succeeded or failed along with the identity of the client, the endpoint the message was sent to, the action associated with the message, the identifier of the authorization context that was generated from the incoming message and the type of the authorization manager that made the access decision.</span></span>  
  
## <a name="example"></a><span data-ttu-id="da1e1-163">Beispiel</span><span class="sxs-lookup"><span data-stu-id="da1e1-163">Example</span></span>  
  
```xml  
<system.serviceModel>
  <behaviors>
    <serviceBehaviors>
      <behavior name="NewBehavior">
        <serviceSecurityAudit auditLogLocation="Application"
                              suppressAuditFailure="true"
                              serviceAuthorizationAuditLevel="Success"
                              messageAuthenticationAuditLevel="Success" />
      </behavior>
    </serviceBehaviors>
  </behaviors>
</system.serviceModel>
```  
  
## <a name="see-also"></a><span data-ttu-id="da1e1-164">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="da1e1-164">See also</span></span>

- <xref:System.ServiceModel.Configuration.ServiceSecurityAuditElement>
- <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior>
- [<span data-ttu-id="da1e1-165">Sicherheitsverhalten</span><span class="sxs-lookup"><span data-stu-id="da1e1-165">Security Behaviors</span></span>](../../../wcf/feature-details/security-behaviors-in-wcf.md)
- [<span data-ttu-id="da1e1-166">Auditing</span><span class="sxs-lookup"><span data-stu-id="da1e1-166">Auditing</span></span>](../../../wcf/feature-details/auditing-security-events.md)
- [<span data-ttu-id="da1e1-167">Vorgehensweise: Überwachen von Sicherheitsereignissen</span><span class="sxs-lookup"><span data-stu-id="da1e1-167">How to: Audit Security Events</span></span>](../../../wcf/feature-details/how-to-audit-wcf-security-events.md)
- [<span data-ttu-id="da1e1-168">Dienstüberwachungsverhalten</span><span class="sxs-lookup"><span data-stu-id="da1e1-168">Service Auditing Behavior</span></span>](../../../wcf/samples/service-auditing-behavior.md)
