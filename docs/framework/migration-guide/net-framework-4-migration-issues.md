---
title: Migrationsprobleme in .NET Framework 4
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
ms.openlocfilehash: 8e83859733f021afbe074a7b4818b155d74efdff
ms.sourcegitcommit: 9a4488a3625866335e83a20da5e9c5286b1f034c
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 05/15/2020
ms.locfileid: "83420460"
---
# <a name="net-framework-4-migration-issues"></a><span data-ttu-id="56ac6-102">Migrationsprobleme in .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="56ac6-102">.NET Framework 4 migration issues</span></span>

<span data-ttu-id="56ac6-103">In diesem Artikel werden Migrationsprobleme zwischen .NET Framework Version 3.5 Service Pack 1 und .NET Framework 4 beschrieben. Dabei werden auch Probleme aufgrund von Programmfehlerbehebungen, Änderungen zur Einhaltung von Standards und zur Gewährleistung der Sicherheit sowie Änderungen auf Grundlage von Kundenfeedback besprochen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-103">This article describes migration issues between .NET Framework version 3.5 Service Pack 1 and .NET Framework version 4, including fixes, changes for standards compliance and security, and changes based on customer feedback.</span></span> <span data-ttu-id="56ac6-104">Für die meisten dieser Änderungen sind keine Programmieränderungen in den Anwendungen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="56ac6-104">Most of these changes do not require any programming modifications in your applications.</span></span> <span data-ttu-id="56ac6-105">Falls Änderungen erforderlich sind, finden Sie entsprechende Informationen in der Tabellenspalte **Empfohlene Änderungen**.</span><span class="sxs-lookup"><span data-stu-id="56ac6-105">For those that may involve modifications, see the **Recommended changes** column of the table.</span></span> <span data-ttu-id="56ac6-106">Relevante Änderungen werden nach Bereich untergliedert, z.B. für ASP.NET und Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="56ac6-106">Notable changes are broken down by area, for example, ASP.NET and Windows Presentation Foundation (WPF).</span></span>

<span data-ttu-id="56ac6-107">Einen allgemeineren Überblick über die in diesem Artikel behandelten Probleme finden Sie im [Leitfaden zur Migration zu .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="56ac6-107">For a higher-level overview of the issues in this article, see [Migration Guide to .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).</span></span>

<span data-ttu-id="56ac6-108">Informationen zu neuen Features finden Sie unter [Neuerungen in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="56ac6-108">For information about new features, see [What's New in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).</span></span>

## <a name="aspnet-and-web"></a><span data-ttu-id="56ac6-109">ASP.NET und Web</span><span class="sxs-lookup"><span data-stu-id="56ac6-109">ASP.NET and Web</span></span>

<span data-ttu-id="56ac6-110">Namespaces: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls></span><span class="sxs-lookup"><span data-stu-id="56ac6-110">Namespaces: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls></span></span>

<span data-ttu-id="56ac6-111">Assembly: System.Web (in „System.Web.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-111">Assembly: System.Web (in System.Web.dll)</span></span>

| <span data-ttu-id="56ac6-112">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-112">Feature</span></span>  | <span data-ttu-id="56ac6-113">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-113">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-114">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-114">Recommended changes</span></span> |
| -------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-115">**Browserdefinitionsdateien**</span><span class="sxs-lookup"><span data-stu-id="56ac6-115">**Browser definition files**</span></span> | <span data-ttu-id="56ac6-116">Die Browserdefinitionsdateien wurden aktualisiert und enthalten jetzt Informationen zu neuen und aktualisierten Browsern und Geräten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-116">The browser definition files have been updated to include information about new and updated browsers and devices.</span></span> <span data-ttu-id="56ac6-117">Ältere Browser und Geräte wie Netscape Navigator wurden entfernt und neuere Browser und Geräte wie Google Chrome und Apple iPhone hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-117">Older browsers and devices such as Netscape Navigator have been removed, and newer browsers and devices such as Google Chrome and Apple iPhone have been added.</span></span><br><br><span data-ttu-id="56ac6-118">Wenn Ihre Anwendung benutzerdefinierte Browserdefinitionen enthält, die von einer der entfernten Browserdefinitionen erben, wird ein Fehler angezeigt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-118">If your application contains custom browser definitions that inherit from one of the browser definitions that have been removed, you will see an error.</span></span><br><br><span data-ttu-id="56ac6-119">Das <xref:System.Web.HttpBrowserCapabilities>-Objekt (von der `Request.Browse`-Eigenschaft der Seite verfügbar gemacht) wird durch die Browserdefinitionsdateien gesteuert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-119">The <xref:System.Web.HttpBrowserCapabilities> object (which is exposed by the page's `Request.Browse` property) is driven by the browser definition files.</span></span> <span data-ttu-id="56ac6-120">Aus diesem Grund können die Informationen, die durch den Zugriff auf eine Eigenschaft dieses Objekts in ASP.NET 4 zurückgegeben werden, von den Informationen abweichen, die in einer früheren Version von ASP.NET zurückgegeben wurden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-120">Therefore, the information that is returned by accessing a property of this object in ASP.NET 4 might be different than the information that was returned in an earlier version of ASP.NET.</span></span> | <span data-ttu-id="56ac6-121">Wenn Ihre Anwendung auf den alten Browserdefinitionsdateien basiert, können Sie diese aus dem folgenden Ordner kopieren:</span><span class="sxs-lookup"><span data-stu-id="56ac6-121">If your application relies on the old browser definition files, you can copy them from the following folder:</span></span><br><br><span data-ttu-id="56ac6-122">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\Browser*</span><span class="sxs-lookup"><span data-stu-id="56ac6-122">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\Browsers*</span></span><br><br><span data-ttu-id="56ac6-123">Kopieren Sie die Dateien in den entsprechenden Ordner *\\CONFIG\\Browser* für ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="56ac6-123">Copy the files into the corresponding *\\CONFIG\\Browsers* folder for ASP.NET 4.</span></span> <span data-ttu-id="56ac6-124">Führen Sie nach dem Kopieren der Dateien das Befehlszeilentool [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) aus.</span><span class="sxs-lookup"><span data-stu-id="56ac6-124">After you copy the files, run the [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) command-line tool.</span></span> <span data-ttu-id="56ac6-125">Weitere Informationen finden Sie auf der Website [https://www.asp.net/mobile](/aspnet/mobile/overview).</span><span class="sxs-lookup"><span data-stu-id="56ac6-125">For more information, see the [https://www.asp.net/mobile](/aspnet/mobile/overview) Web site.</span></span> |
| <span data-ttu-id="56ac6-126">**Untergeordnete Anwendungen werden unter Mischversionen von ASP.NET ausgeführt**</span><span class="sxs-lookup"><span data-stu-id="56ac6-126">**Child applications running under mixed versions of ASP.NET**</span></span> | <span data-ttu-id="56ac6-127">ASP.NET 4-Anwendungen, die als untergeordnete Anwendungen konfiguriert wurden, die frühere Versionen von ASP.NET ausführen, können möglicherweise aufgrund von Konfigurations- oder Kompilierungsfehlern nicht starten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-127">ASP.NET 4 applications that are configured as children of applications that run earlier versions of ASP.NET might fail to start because of configuration or compilation errors.</span></span> <span data-ttu-id="56ac6-128">Der genauen Fehler, der auftritt, hängt davon ab, ob die Anwendung unter IIS 6.0 oder unter IIS 7 oder IIS 7.5 ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-128">The specific error that occurs depends on whether the application runs under IIS 6.0, or under IIS 7 or IIS 7.5.</span></span> | <span data-ttu-id="56ac6-129">An den Konfigurationsdateien der betroffenen Anwendungen lassen sich Änderungen vornehmen, damit das Konfigurationssystem die ASP.NET 4-Anwendung ordnungsgemäß erkennt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-129">You can make changes to the configuration files of the affected applications so that the configuration system correctly recognizes the ASP.NET 4 application.</span></span> <span data-ttu-id="56ac6-130">Informationen zu den Änderungen, die Sie vornehmen müssen, finden Sie auf der ASP.NET-Website im Dokument [ASP.NET 4 Breaking Changes (Grundlegende Änderungen in ASP.NET 4 )](/aspnet/whitepapers/aspnet4/breaking-changes) im Abschnitt „ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications“ (Untergeordnete ASP.NET 4-Anwendungen können unter ASP.NET 2.0 oder ASP.NET 3.5-Anwendungen nicht gestartet werden).</span><span class="sxs-lookup"><span data-stu-id="56ac6-130">For information about the changes you must make, see the section "ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="56ac6-131">**Änderungen an der ClientID**</span><span class="sxs-lookup"><span data-stu-id="56ac6-131">**ClientID changes**</span></span> | <span data-ttu-id="56ac6-132">Mit der neuen `clientIDMode`-Einstellung in ASP.NET 4 haben Sie die Möglichkeit anzugeben, wie ASP.NET das `id`-Attribut für HTML-Elemente generiert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-132">The new `clientIDMode` setting in ASP.NET 4 lets you specify how ASP.NET generates the `id` attribute for HTML elements.</span></span> <span data-ttu-id="56ac6-133">In früheren Versionen von ASP.NET entsprach das Standardverhalten der `AutoID`-Einstellung von `clientIDMode`.</span><span class="sxs-lookup"><span data-stu-id="56ac6-133">In previous versions of ASP.NET, the default behavior was equivalent to the `AutoID` setting of `clientIDMode`.</span></span> <span data-ttu-id="56ac6-134">Die Standardeinstellung ist jetzt `Predictable`.</span><span class="sxs-lookup"><span data-stu-id="56ac6-134">The default setting is now `Predictable`.</span></span> <span data-ttu-id="56ac6-135">Weitere Informationen finden Sie unter [Steuerelementidentifikation in Web Forms](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="56ac6-135">For more information, see [ASP.NET Web Server Control Identification](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29).</span></span> | <span data-ttu-id="56ac6-136">Wenn Sie Ihre Anwendung mit Visual Studio von ASP.NET 2.0 oder ASP.NET 3.5 aktualisieren, fügt das Tool der Datei „Web.config“ automatisch eine Einstellung hinzu, die das Verhalten früherer Versionen von .NET Framework beibehält.</span><span class="sxs-lookup"><span data-stu-id="56ac6-136">If you use Visual Studio to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves the behavior of earlier versions of .NET Framework.</span></span> <span data-ttu-id="56ac6-137">Wenn Sie für eine Anwendung jedoch ein Upgrade durchführen, indem Sie .NET Framework 4 als Ziel für den Anwendungspool in IIS festlegen, verwendet ASP.NET standardmäßig den neuen Modus.</span><span class="sxs-lookup"><span data-stu-id="56ac6-137">However, if you upgrade an application by changing the application pool in IIS to target .NET Framework 4, ASP.NET uses the new mode by default.</span></span> <span data-ttu-id="56ac6-138">Um den neuen Client-ID-Modus zu deaktivieren, fügen Sie die folgende Einstellung in der Datei „Web.config“ hinzu:</span><span class="sxs-lookup"><span data-stu-id="56ac6-138">To disable the new client ID mode, add the following setting to the Web.config file:</span></span><br><br>`<pages clientIDMode="AutoID" />` |
| <span data-ttu-id="56ac6-139">**Codezugriffssicherheit (Code Access Security, CAS)**</span><span class="sxs-lookup"><span data-stu-id="56ac6-139">**Code access security (CAS)**</span></span> | <span data-ttu-id="56ac6-140">ASP.NET 2.0-Funktionen, die in ASP.NET 3.5 hinzugefügt wurden, verwenden das Codezugriffssicherheitsmodell (CAS) von .NET Framework 1.1 und .NET Framework 2.0.</span><span class="sxs-lookup"><span data-stu-id="56ac6-140">ASP.NET 2.0 NET features that were added in ASP.NET 3.5 use the .NET Framework 1.1 and .NET Framework 2.0 code access security (CAS) model.</span></span> <span data-ttu-id="56ac6-141">Die Implementierung von CAS wurde in ASP.NET 4 aber erheblich überholt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-141">However, the implementation of CAS in ASP.NET 4 has been substantially overhauled.</span></span> <span data-ttu-id="56ac6-142">Daher können teilweise vertrauenswürdige ASP.NET-Anwendungen, die vertrauenswürdigen Code verwenden, der im globalen Assemblycache ausgeführt wird, mit verschiedenen Sicherheitsausnahmen Fehler auslösen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-142">As a result, partial-trust ASP.NET applications that rely on trusted code running in the global assembly cache might fail with various security exceptions.</span></span> <span data-ttu-id="56ac6-143">Teilweise vertrauenswürdige Anwendungen, die umfangreiche Änderungen an den CAS-Richtlinien des Computers verwenden, lösen möglicherweise auch Fehler und Sicherheitsausnahmen aus.</span><span class="sxs-lookup"><span data-stu-id="56ac6-143">Partial-trust applications that rely on extensive modifications to machine CAS policy might also fail and throw security exceptions.</span></span> | <span data-ttu-id="56ac6-144">Sie können das Verhalten von teilweise vertrauenswürdigen ASP.NET 4-Anwendungen auf das von ASP.NET 1.1 und 2.0 zurücksetzen. Nutzen Sie dazu das neue `legacyCasModel`-Attribut im `trust`-Konfigurationselement, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="56ac6-144">You can revert partial-trust ASP.NET 4 applications to the behavior of ASP.NET 1.1 and 2.0 by using the new `legacyCasModel` attribute in the `trust` configuration element, as shown in the following example:</span></span><br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br><span data-ttu-id="56ac6-145">Wichtig: Eine Zurücksetzung auf ein älteres CAS-Modell bringt möglicherweise Sicherheitseinschränkungen mit sich.</span><span class="sxs-lookup"><span data-stu-id="56ac6-145">Important: Reverting to the older CAS model might represent reduced security.</span></span><br><br><span data-ttu-id="56ac6-146">Weitere Informationen zu dem neuen ASP.NET 4-Modell für Codezugriffssicherheit finden Sie unter [Codezugriffssicherheit für ASP.NET 4-Anwendungen](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="56ac6-146">For more information about the new ASP.NET 4 code access security model, see [Code Access Security in ASP.NET 4 Applications](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)).</span></span> |
| <span data-ttu-id="56ac6-147">**Konfigurationsdateien**</span><span class="sxs-lookup"><span data-stu-id="56ac6-147">**Configuration files**</span></span> | <span data-ttu-id="56ac6-148">Die Stammkonfigurationsdateien für .NET Framework und ASP.NET 4 (die Datei „machine.config“ und die Stammdatei „Web.config“) wurden aktualisiert und enthalten jetzt die meisten Standardkonfigurationsinformationen aus den Web.config-Dateien in ASP.NET 3.5.</span><span class="sxs-lookup"><span data-stu-id="56ac6-148">The root configuration files (the machine.config file and the root Web.config file) for .NET Framework and ASP.NET 4 have been updated to include most of the boilerplate configuration information that was found in the application Web.config files in ASP.NET 3.5.</span></span> <span data-ttu-id="56ac6-149">Wegen der Komplexität von verwalteten IIS 7 und IIS 7.5-Konfigurationssystemen kann die Ausführung von ASP.NET 3.5-Anwendungen unter ASP.NET 4 sowie unter IIS 7 und IIS 7.5 entweder ASP.NET-Fehler oder IIS-Fehler hervorrufen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-149">Because of the complexity of the managed IIS 7 and IIS 7.5 configuration systems, running ASP.NET 3.5 applications under ASP.NET 4 and under IIS 7 and IIS 7.5 can result in either ASP.NET errors or IIS errors.</span></span> | <span data-ttu-id="56ac6-150">Aktualisieren Sie ASP.NET 3.5-Anwendungen mithilfe der Upgrade-Tools für Projekte in Visual Studio auf ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="56ac6-150">Upgrade ASP.NET 3.5 applications to ASP.NET 4 by using the project upgrade tools in Visual Studio.</span></span> <span data-ttu-id="56ac6-151">Visual Studio 2010 ändert die „Web.config“-Datei der ASP.NET 3.5-Anwendung automatisch, sodass sie die entsprechenden Einstellungen für ASP.NET 4 enthält.</span><span class="sxs-lookup"><span data-stu-id="56ac6-151">Visual Studio 2010 automatically modifies the ASP.NET 3.5 application's Web.config file to contain the appropriate settings for ASP.NET 4.</span></span><br><br><span data-ttu-id="56ac6-152">ASP.NET 3.5-Anwendungen lassen sich aber auch ohne Neukompilierung mit .NET Framework 4 ausführen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-152">However, you can run ASP.NET 3.5 applications using .NET Framework 4 without recompilation.</span></span> <span data-ttu-id="56ac6-153">Dazu müssen Sie die Datei „Web.config“ der Anwendung möglicherweise manuell ändern, bevor die Anwendung unter .NET Framework 4 und IIS 7 oder IIS 7.5 ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-153">In that case, you might have to manually modify the application's Web.config file before you run the application under .NET Framework 4 and under IIS 7 or IIS 7.5.</span></span> <span data-ttu-id="56ac6-154">Die Änderung, die Sie vornehmen müssen, hängt von der Softwarekombination (einschließlich der Service Pack-Versionen (SP)) ab, mit der Sie arbeiten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-154">The specific change you must make depends on the combination of software you are working with, including Service Pack (SP) releases.</span></span> <span data-ttu-id="56ac6-155">Informationen zu den möglichen Softwarekombinationen, die dieser Änderung betroffen sind, finden Sie auf der ASP.NET-Website im Dokument [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) im Abschnitt „Configuration Errors Related to New ASP.NET 4 Root Configuration“ (Konfigurationsfehler im Zusammenhang mit der neuen ASP.NET 4-Stammkonfiguration).</span><span class="sxs-lookup"><span data-stu-id="56ac6-155">For information about the possible software combinations that are affected by this change and how to resolve problems with specific combinations, see the section "Configuration Errors Related to New ASP.NET 4 Root Configuration" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="56ac6-156">**Rendern von Steuerelementen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-156">**Control rendering**</span></span> | <span data-ttu-id="56ac6-157">In früheren Versionen von ASP.NET haben einige Steuerelemente Markup ausgegeben, das nicht deaktiviert werden konnte.</span><span class="sxs-lookup"><span data-stu-id="56ac6-157">In previous versions of ASP.NET, some controls emitted markup that you could not disable.</span></span> <span data-ttu-id="56ac6-158">Diese Art von Markup wird in ASP.NET 4 standardmäßig nicht mehr generiert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-158">By default, this type of markup is no longer generated in ASP.NET 4.</span></span> <span data-ttu-id="56ac6-159">Die Renderingänderungen wirken sich auf die folgenden Steuerelemente aus:</span><span class="sxs-lookup"><span data-stu-id="56ac6-159">The rendering changes affect the following controls:</span></span><br><br><span data-ttu-id="56ac6-160">\* Die Steuerelemente `Image` und `ImageButton` rendern ein `border="0"`-Attribut nicht mehr.</span><span class="sxs-lookup"><span data-stu-id="56ac6-160">\* The `Image` and `ImageButton` controls no longer render a `border="0"` attribute.</span></span><br><span data-ttu-id="56ac6-161">\* Die `BaseValidator`-Klasse und die Validierungssteuerelemente, die sich davon ableiten, rendern standardmäßig keinen rot formatierten Text mehr.</span><span class="sxs-lookup"><span data-stu-id="56ac6-161">\* The `BaseValidator` class and validation controls that derive from it no longer render red text by default.</span></span><br><span data-ttu-id="56ac6-162">\* Das Steuerelement `HtmlForm` rendert kein `name`-Attribut.</span><span class="sxs-lookup"><span data-stu-id="56ac6-162">\* The `HtmlForm` control does not render a `name` attribute.</span></span><br><span data-ttu-id="56ac6-163">\* Das Steuerelement `Table` rendert nicht mehr das Attribut `border="0"`.</span><span class="sxs-lookup"><span data-stu-id="56ac6-163">\* The `Table` control no longer renders a `border="0"` attribute.</span></span><br><br><span data-ttu-id="56ac6-164">Steuerelemente, die nicht für Benutzereingaben entworfen wurden (z.B. das Steuerelement `Label`), rendern nicht mehr das Attribut `disabled="disabled"`, wenn ihre `Enabled`-Eigenschaftensatz auf `false` festgelegt ist (oder wenn sie diese Einstellung von einem Containersteuerelement erben).</span><span class="sxs-lookup"><span data-stu-id="56ac6-164">Controls that are not designed for user input (for example, the `Label` control) no longer render the `disabled="disabled"` attribute if their `Enabled` property is set to `false` (or if they inherit this setting from a container control).</span></span> | <span data-ttu-id="56ac6-165">Wenn Sie ein Upgrade Ihrer Anwendung mit Visual Studio von ASP.NET 2.0 oder ASP.NET 3.5 vornehmen, fügt das Tool der Datei „Web.config“ automatisch eine Einstellung hinzu, die das Legacyrendering beibehält.</span><span class="sxs-lookup"><span data-stu-id="56ac6-165">If you use Visual Studio to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves legacy rendering.</span></span> <span data-ttu-id="56ac6-166">Wenn Sie für eine Anwendung jedoch ein Upgrade durchführen, indem Sie .NET Framework 4 als Ziel für den Anwendungspool in IIS festlegen, verwendet ASP.NET standardmäßig den neuen Renderingmodus.</span><span class="sxs-lookup"><span data-stu-id="56ac6-166">However, if you upgrade an application by changing the application pool in IIS to target .NET Framework 4, ASP.NET uses the new rendering mode by default.</span></span> <span data-ttu-id="56ac6-167">Um den neuen Renderingmodus zu deaktivieren, fügen Sie die folgende Einstellung in der Datei „Web.config“ hinzu:</span><span class="sxs-lookup"><span data-stu-id="56ac6-167">To disable the new rendering mode, add the following setting to the Web.config file:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| <span data-ttu-id="56ac6-168">**Ereignishandler in Standarddokumenten**</span><span class="sxs-lookup"><span data-stu-id="56ac6-168">**Event handlers in default documents**</span></span> | <span data-ttu-id="56ac6-169">ASP.NET 4 rendert den `action`-Attributwert des HTML-Formularelements (`form`-Element) als eine leere Zeichenfolge, wenn eine Anforderung an eine URL ohne Erweiterung erfolgt, der ein Standarddokument zugeordnet wurde.</span><span class="sxs-lookup"><span data-stu-id="56ac6-169">ASP.NET  4 renders the HTML `form` element's `action` attribute value as an empty string when a request is made to an extensionless URL that has a default document mapped to it.</span></span> <span data-ttu-id="56ac6-170">In früheren Versionen von ASP.NET folgte aus einer Anforderung an `http://contoso.com` eine Anforderung an „Default.aspx“.</span><span class="sxs-lookup"><span data-stu-id="56ac6-170">In earlier releases of ASP.NET, a request to `http://contoso.com` would result in a request to Default.aspx.</span></span> <span data-ttu-id="56ac6-171">In diesem Dokument wurde das öffnende `form`-Tag wie im folgenden Beispiel gerendert:</span><span class="sxs-lookup"><span data-stu-id="56ac6-171">In that document, the opening `form` tag would be rendered as in the following example:</span></span><br><br>`<form action="Default.aspx" />`<br><br><span data-ttu-id="56ac6-172">In ASP.NET 4 folgt aus einer Anforderung an `http://contoso.com` auch eine Anforderung an „Default.aspx“, allerdings rendert ASP.NET jetzt auch das öffnende HTML-`form`-Tag, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="56ac6-172">In ASP.NET 4, a request to `http://contoso.com` also results in a request to Default.aspx, but ASP.NET now renders the HTML opening `form` tag as in the following example:</span></span><br><br>`<form action="" />`<br><br><span data-ttu-id="56ac6-173">Wenn das `action`-Attribut eine leere Zeichenfolge ist, erstellt das IIS-`DefaultDocumentModule`-Objekt eine untergeordnete Anforderung an „Default.aspx“.</span><span class="sxs-lookup"><span data-stu-id="56ac6-173">When the `action` attribute is an empty string, the IIS `DefaultDocumentModule` object creates a child request to Default.aspx.</span></span> <span data-ttu-id="56ac6-174">In den meisten Situationen ist diese untergeordnete Anforderung für Anwendungscode transparent, und die Seite „Default.aspx“ wird normal ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-174">Under most conditions, this child request is transparent to application code, and the Default.aspx page runs normally.</span></span> <span data-ttu-id="56ac6-175">Allerdings kann eine mögliche Interaktion zwischen verwaltetem Code und IIS 7 oder IIS 7.5 im integrierten Modus dazu führen, dass verwaltete ASPX-Seiten während der untergeordnete Anforderung nicht mehr ordnungsgemäß ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-175">However, a potential interaction between managed code and IIS 7 or IIS 7.5 Integrated mode can cause managed .aspx pages to stop working properly during the child request.</span></span> <span data-ttu-id="56ac6-176">Unter den folgenden Umständen ruft die untergeordnete Anforderung an ein standardmäßiges ASPX-Dokument einen Fehler oder unerwartetes Verhalten hervor:</span><span class="sxs-lookup"><span data-stu-id="56ac6-176">If the following conditions occur, the child request to a default .aspx document will result in an error or in unexpected behavior:</span></span><br><br><span data-ttu-id="56ac6-177">\* Eine ASPX-Seite wird an den Browser gesendet, wobei der `action`-Attributsatz des `form`-Elements auf "" festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="56ac6-177">\* An .aspx page is sent to the browser with the `form` element's `action` attribute set to "".</span></span><br><span data-ttu-id="56ac6-178">\* Das Formular wird an ASP.NET zurückgesendet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-178">\* The form is posted back to ASP.NET.</span></span><br><span data-ttu-id="56ac6-179">\* Ein verwaltetes HTTP-Modul liest einen Teil des Einheitstextkörpers, z. B. `Request.Form` oder `Request.Params`.</span><span class="sxs-lookup"><span data-stu-id="56ac6-179">\* A managed HTTP module reads some part of the entity body, such as `Request.Form` or `Request.Params`.</span></span> <span data-ttu-id="56ac6-180">Aus diesem Grund wird der Einheitstextkörper der POST-Anforderung im verwalteten Arbeitsspeicher gelesen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-180">This causes the entity body of the POST request to be read into managed memory.</span></span> <span data-ttu-id="56ac6-181">Der Einheitstextkörper ist daher nicht mehr für native Codemodule verfügbar, die in IIS 7 oder IIS 7.5 im integrierten Modus ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-181">As a result, the entity body is no longer available to any native code modules that are running in IIS 7 or IIS 7.5 Integrated mode.</span></span><br><span data-ttu-id="56ac6-182">\* Das IIS-`DefaultDocumentModule`-Objekt wird schließlich ausgeführt und erstellt eine untergeordnete Anforderung an das Dokument „Default.aspx“.</span><span class="sxs-lookup"><span data-stu-id="56ac6-182">\* The IIS `DefaultDocumentModule` object eventually runs and creates a child request to the Default.aspx document.</span></span> <span data-ttu-id="56ac6-183">Da der Einheitstextkörper bereits von verwaltetem Code gelesen wurde, kann kein Einheitstextkörper an die untergeordnete Anforderung gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-183">However, because the entity body has already been read by a piece of managed code, there is no entity body available to send to the child request.</span></span><br><span data-ttu-id="56ac6-184">\* Wenn die HTTP-Pipeline für die untergeordnete Anforderung ausgeführt wird, wird der Handler für ASPX-Dateien während der Handlerausführungsphase ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-184">\* When the HTTP pipeline runs for the child request, the handler for .aspx files runs during the handler-execute phase.</span></span><br><br><span data-ttu-id="56ac6-185">Da kein Einheitstextkörper verfügbar ist, gibt es auch keine Formularvariablen und keinen Ansichtszustand.</span><span class="sxs-lookup"><span data-stu-id="56ac6-185">Because there is no entity body, there are no form variables and no view state.</span></span> <span data-ttu-id="56ac6-186">Aus diesem Grund hat der ASPX-Seitenhandler keine Informationen dazu, welches Ereignis (sofern vorhanden) ausgelöst werden soll.</span><span class="sxs-lookup"><span data-stu-id="56ac6-186">Therefore there is no information available for the .aspx page handler to determine what event (if any) should be raised.</span></span> <span data-ttu-id="56ac6-187">Daher werden keine Postback-Ereignishandler für die betroffene ASPX-Seite ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-187">As a result, none of the postback event handlers for the affected .aspx page run.</span></span> | <span data-ttu-id="56ac6-188">Informationen zur Umgehung von Problemen, die aufgrund der Änderung auftreten können, finden Sie auf der ASP.NET-Website im Dokument [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) unter „Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode“ (Ereignishandler wird in einem Standarddokument im integrierten Modus in IIS 7 oder IIS 7.5 möglicherweise nicht ausgelöst).</span><span class="sxs-lookup"><span data-stu-id="56ac6-188">For information about ways to work around problems that might arise as a result of this change, see "Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="56ac6-189">**Hashalgorithmus**</span><span class="sxs-lookup"><span data-stu-id="56ac6-189">**Hashing algorithm**</span></span> | <span data-ttu-id="56ac6-190">ASP.NET verwendet sowohl Verschlüsselung als auch Hashalgorithmen, um Daten wie Formularauthentifizierungscookies und den Ansichtsstatus zu sichern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-190">ASP.NET uses both encryption and hashing algorithms to help secure data such as forms authentication cookies and view state.</span></span> <span data-ttu-id="56ac6-191">Bei Hashvorgängen für Cookies und den Ansichtszustand verwendet ASP.NET 4 standardmäßig den Algorithmus <xref:System.Security.Cryptography.HMACSHA256>.</span><span class="sxs-lookup"><span data-stu-id="56ac6-191">By default, ASP.NET 4 uses the <xref:System.Security.Cryptography.HMACSHA256> algorithm for hash operations on cookies and view state.</span></span> <span data-ttu-id="56ac6-192">Frühere Versionen von ASP.NET haben die älteren Algorithmus <xref:System.Security.Cryptography.HMACSHA1> verwendet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-192">Earlier versions of ASP.NET used the older <xref:System.Security.Cryptography.HMACSHA1> algorithm.</span></span> | <span data-ttu-id="56ac6-193">Für Anwendungen, die ASP.NET 2.0 und ASP.NET 4 kombinieren und in denen Daten wie Formularauthentifizierungscookies in verschiedenen .NET Framework-Versionen unterstützt werden müssen, können Sie eine ASP.NET 4 Web-Anwendung mit dem älteren <xref:System.Security.Cryptography.HMACSHA1>-Algorithmus konfigurieren, indem Sie die folgende Einstellung in der Datei „Web.config“ hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-193">If you run applications that mix ASP.NET 2.0 and ASP.NET 4, where data such as forms authentication cookies must work across .NET Framework versions, configure an ASP.NET 4 Web application to use the older <xref:System.Security.Cryptography.HMACSHA1> algorithm by adding the following setting in the Web.config file:</span></span><br><br>`<machineKey validation="SHA1" />` |
| <span data-ttu-id="56ac6-194">**Hosten von Steuerelementen in Internet Explorer**</span><span class="sxs-lookup"><span data-stu-id="56ac6-194">**Hosting controls in Internet Explorer**</span></span> | <span data-ttu-id="56ac6-195">Windows Forms-Steuerelemente können nicht mehr in Internet Explorer gehostet werden, weil es bessere Lösungen für das Hosten von Steuerelementen im Web gibt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-195">You can no longer host Windows Forms controls in the Internet Explorer, because there are better solutions for hosting controls on the Web.</span></span> <span data-ttu-id="56ac6-196">Daher wurden die Assemblys „IEHost.dll“ und „IEExec.exe“ aus .NET Framework entfernt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-196">Therefore, the IEHost.dll and IEExec.exe assemblies have been removed from .NET Framework.</span></span> | <span data-ttu-id="56ac6-197">Mithilfe der folgenden Technologien lassen sich Steuerelement in Webanwendungen benutzerdefiniert entwickeln:</span><span class="sxs-lookup"><span data-stu-id="56ac6-197">You can use the following technologies for custom control development in Web applications:</span></span><br><br><span data-ttu-id="56ac6-198">\* Sie können eine Silverlight-Anwendung erstellen und so konfigurieren, dass sie außerhalb des Browsers ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-198">\* You can create a Silverlight application and configure it to run outside the browser.</span></span> <span data-ttu-id="56ac6-199">Weitere Informationen finden Sie unter [Out-of-Browser Support (Out-of-Browser-Unterstützung)](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).</span><span class="sxs-lookup"><span data-stu-id="56ac6-199">For more information, see [Out-of-Browser Support](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).</span></span><br><span data-ttu-id="56ac6-200">\* Sie haben die Möglichkeit, eine XAML-Browseranwendung (XBAP) zu erstellen, um WPF-Funktionen zu nutzen (erfordert .NET Framework auf Clientcomputern).</span><span class="sxs-lookup"><span data-stu-id="56ac6-200">\* You can build a XAML browser application (XBAP) to take advantage of WPF capabilities (requires .NET Framework on client machines).</span></span> <span data-ttu-id="56ac6-201">Weitere Informationen finden Sie unter [Übersicht über WPF-XAML-Browseranwendungen](../wpf/app-development/wpf-xaml-browser-applications-overview.md).</span><span class="sxs-lookup"><span data-stu-id="56ac6-201">For more information, see [WPF XAML Browser Applications Overview](../wpf/app-development/wpf-xaml-browser-applications-overview.md).</span></span> |
| <span data-ttu-id="56ac6-202">**Die Methoden „HtmlEncode“ und „UrlEncode“**</span><span class="sxs-lookup"><span data-stu-id="56ac6-202">**HtmlEncode and UrlEncode methods**</span></span> | <span data-ttu-id="56ac6-203">Die Methoden `HtmlEncode` und `UrlEncode` der Klassen <xref:System.Web.HttpUtility> und <xref:System.Web.HttpServerUtility> wurden aktualisiert und codieren das einfache Anführungszeichen (') jetzt wie folgt:</span><span class="sxs-lookup"><span data-stu-id="56ac6-203">The `HtmlEncode` and `UrlEncode` methods of the <xref:System.Web.HttpUtility> and <xref:System.Web.HttpServerUtility> classes have been updated to encode the single quotation mark character (') as follows:</span></span><br><br><span data-ttu-id="56ac6-204">\* Die Methode `HtmlEncode` codiert Vorkommen einfacher Anführungszeichen mit `&#39;`</span><span class="sxs-lookup"><span data-stu-id="56ac6-204">\* The `HtmlEncode` method encodes instances of the single quotation mark as `&#39;`</span></span><br><span data-ttu-id="56ac6-205">\* Die Methode `UrlEncode` codiert Vorkommen einfacher Anführungszeichen mit `%27`</span><span class="sxs-lookup"><span data-stu-id="56ac6-205">\* The `UrlEncode` method encodes instances of the single quotation mark as `%27`</span></span> | <span data-ttu-id="56ac6-206">Überprüfen Sie Ihren Code auf die Methoden `HtmlEncode` und `UrlEncode`, und achten Sie darauf, dass die Änderung der Codierung keine Auswirkungen auf Ihre Anwendung hat.</span><span class="sxs-lookup"><span data-stu-id="56ac6-206">Examine your code for places where you use the `HtmlEncode` and `UrlEncode` methods, and make sure that the change in encoding does not result in a change that would affect your application.</span></span> |
| <span data-ttu-id="56ac6-207">**HttpException-Fehler in ASP.NET 2.0-Anwendungen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-207">**HttpException errors in ASP.NET 2.0 applications**</span></span> | <span data-ttu-id="56ac6-208">Nachdem ASP.NET 4 für IIS 6 aktiviert wurde, generieren ASP.NET 2.0-Anwendungen, die auf IIS 6 (entweder unter Windows Server 2003 oder Windows Server 2003 R2) ausgeführt werden, möglicherweise Fehler wie den folgenden: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span><span class="sxs-lookup"><span data-stu-id="56ac6-208">After ASP.NET 4 has been enabled on IIS 6, ASP.NET 2.0 applications that run on IIS 6 (in either Windows Server 2003 or Windows Server 2003 R2) might generate errors such as the following: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span></span> | <span data-ttu-id="56ac6-209">\* Wenn ASP.NET 4 nicht erforderlich ist, um die Website auszuführen, ordnen Sie die Website ASP.NET 2.0 neu zu.</span><span class="sxs-lookup"><span data-stu-id="56ac6-209">\* If ASP.NET 4 is not required in order to run the Web site, remap the site to use ASP.NET 2.0 instead.</span></span><br><br><span data-ttu-id="56ac6-210">- oder -</span><span class="sxs-lookup"><span data-stu-id="56ac6-210">-or-</span></span><br><br><span data-ttu-id="56ac6-211">\* Wenn ASP.NET 4 für die Ausführung der Website erforderlich ist, verschieben Sie alle untergeordneten virtuellen ASP.NET 2.0-Verzeichnisse auf eine andere Website, die ASP.NET 2.0 zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="56ac6-211">\* If ASP.NET 4 is required in order to run the Web site, move any child ASP.NET 2.0 virtual directories to a different Web site that is mapped to ASP.NET 2.0.</span></span><br><br><span data-ttu-id="56ac6-212">- oder -</span><span class="sxs-lookup"><span data-stu-id="56ac6-212">-or-</span></span><br><br><span data-ttu-id="56ac6-213">\* Deaktivieren Sie URLs ohne Erweiterung.</span><span class="sxs-lookup"><span data-stu-id="56ac6-213">\* Disable extensionless URLs.</span></span> <span data-ttu-id="56ac6-214">Weitere Informationen finden Sie auf der ASP.NET-Website im Dokument [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) unter „ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd“ (ASP.NET 2.0-Anwendungen generieren möglicherweise HttpException-Fehler, die auf eurl.axd verweisen).</span><span class="sxs-lookup"><span data-stu-id="56ac6-214">For more information, see "ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="56ac6-215">**Mitgliedschaftstypen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-215">**Membership types**</span></span> | <span data-ttu-id="56ac6-216">Einige Typen (z.B. <xref:System.Web.Security.MembershipProvider>) der ASP.NET-Mitgliedschaft wurden aus der Assembly „System.Web.dll“ in „System.Web.ApplicationServices.dll“ verschoben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-216">Some types (for example, <xref:System.Web.Security.MembershipProvider>) that are used in ASP.NET membership have been moved from System.Web.dll to the System.Web.ApplicationServices.dll assembly.</span></span> <span data-ttu-id="56ac6-217">So sollten architektonische Schichtabhängigkeiten zwischen Typen im Client und erweiterten .NET Framework-SKUs gelöst werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-217">The types were moved in order to resolve architectural layering dependencies between types in the client and in extended .NET Framework SKUs.</span></span> | <span data-ttu-id="56ac6-218">Klassenbibliotheken, die von früheren Versionen von ASP.NET upgegradet wurden und Mitgliedschaftstypen verwenden, die verschoben wurden, können in einem ASP.NET 4-Projekt möglicherweise nicht kompiliert werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-218">Class libraries that have been upgraded from earlier versions of ASP.NET and that use membership types that have been moved might fail to compile when used in an ASP.NET 4 project.</span></span> <span data-ttu-id="56ac6-219">Wenn dies der Fall ist, fügen Sie im Klassenbibliotheksprojekt „System.Web.ApplicationServices.dll“ einen Verweis hinzu.</span><span class="sxs-lookup"><span data-stu-id="56ac6-219">If so, add a reference in the class library project to System.Web.ApplicationServices.dll.</span></span> |
| <span data-ttu-id="56ac6-220">**Änderungen an Menüsteuerelementen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-220">**Menu control changes**</span></span> | <span data-ttu-id="56ac6-221">Änderungen am Steuerelement <xref:System.Web.UI.WebControls.Menu> rufen das folgende Verhalten hervor:</span><span class="sxs-lookup"><span data-stu-id="56ac6-221">Changes to the <xref:System.Web.UI.WebControls.Menu> control result in the following behavior:</span></span><br><br><span data-ttu-id="56ac6-222">\* Wenn <xref:System.Web.UI.WebControls.MenuRenderingMode> auf `List` festgelegt ist, oder wenn <xref:System.Web.UI.WebControls.MenuRenderingMode> auf `Default` und <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> auf `4.0` oder höher festgelegt ist, hat die Eigenschaft <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> keine Auswirkungen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-222">\* If <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `List`, or if <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `Default` and <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> is set to `4.0` or later, the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property has no effect.</span></span><br><span data-ttu-id="56ac6-223">\* Wenn der Pfad, der in den Eigenschaften <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> und <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> festgelegt wird, einen umgekehrten Schrägstrich (\\) enthält, werden die Bilder nicht gerendert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-223">\* If the path that is set in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> and <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> properties contains a backslash (\\), the images do not render.</span></span> <span data-ttu-id="56ac6-224">(In früheren Versionen von ASP.NET durfte der Pfad einen umgekehrten Schrägstrich enthalten.)</span><span class="sxs-lookup"><span data-stu-id="56ac6-224">(In earlier versions of ASP.NET, the path could include a backslash.)</span></span> | <span data-ttu-id="56ac6-225">\* Anstatt die Eigenschaft <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> für einzelne Menüelemente festzulegen, sollten Sie <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> oder <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> des übergeordneten <xref:System.Web.UI.WebControls.Menu>-Steuerelements festlegen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-225">\* Instead of setting the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property for individual menu items, set the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> of the parent <xref:System.Web.UI.WebControls.Menu> control.</span></span><br><br><span data-ttu-id="56ac6-226">- oder -</span><span class="sxs-lookup"><span data-stu-id="56ac6-226">-or-</span></span><br><br><span data-ttu-id="56ac6-227">Legen Sie <xref:System.Web.UI.WebControls.MenuRenderingMode> auf `Table` fest, oder legen Sie <xref:System.Web.UI.WebControls.MenuRenderingMode> auf `Default` und <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> auf `3.5` fest.</span><span class="sxs-lookup"><span data-stu-id="56ac6-227">Set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Table`, or set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Default` and set <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> to `3.5`.</span></span> <span data-ttu-id="56ac6-228">Aufgrund dieser Einstellungen verwendet das <xref:System.Web.UI.WebControls.Menu>-Steuerelement das tabellenbasierte HTML-Layout, das in früheren Versionen von ASP.NET verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="56ac6-228">These settings cause the <xref:System.Web.UI.WebControls.Menu> control to use the HTML table-based layout that it used in earlier versions of ASP.NET.</span></span><br><span data-ttu-id="56ac6-229">\* Wenn der Pfad in den Eigenschaften <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> oder <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> einen umgekehrten Schrägstrich (\\) enthält, ersetzen Sie ihn durch einen Schrägstrich (/).</span><span class="sxs-lookup"><span data-stu-id="56ac6-229">\* If the path in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> property contains a backslash (\\), substitute a slash character (/).</span></span> |
| <span data-ttu-id="56ac6-230">**Mobile Assembly in der Datei „Web.config“**</span><span class="sxs-lookup"><span data-stu-id="56ac6-230">**Mobile assembly in Web.config file**</span></span> | <span data-ttu-id="56ac6-231">In früheren Versionen von ASP.NET war unter `system.web`/`compilation` im Abschnitt `assemblies` in der Stammdatei „Web.config“ ein Verweis auf die Assembly „System.Web.Mobile.dll“ enthalten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-231">In previous versions of ASP.NET, a reference to the System.Web.Mobile.dll assembly was included in the root Web.config file in the `assemblies` section under `system.web`/`compilation`.</span></span> <span data-ttu-id="56ac6-232">Um die Leistung zu verbessern, wurde der Verweis auf diese Assembly entfernt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-232">To improve performance, the reference to this assembly has been removed.</span></span><br><br><span data-ttu-id="56ac6-233">Hinweis: Die Assembly „System.Web.Mobile.dll“ und mobile ASP.NET-Steuerelemente sind in ASP.NET 4 enthalten, aber veraltet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-233">Note: The System.Web.Mobile.dll assembly and the ASP.NET mobile controls are included in ASP.NET 4, but they are deprecated.</span></span> | <span data-ttu-id="56ac6-234">Wenn Sie die Typen aus dieser Assembly verwenden möchten, fügen Sie in der „Web.config“-Stammdatei oder in einer „Web.config“-Anwendungsdatei einen Verweis auf die Assembly hinzu.</span><span class="sxs-lookup"><span data-stu-id="56ac6-234">If you want to use types from this assembly, add a reference to the assembly in either the root Web.config file or in an application Web.config file.</span></span> |
| <span data-ttu-id="56ac6-235">**Ausgabezwischenspeicherung**</span><span class="sxs-lookup"><span data-stu-id="56ac6-235">**Output caching**</span></span> | <span data-ttu-id="56ac6-236">Aufgrund eines Fehlers in ASP.NET 1.0 haben zwischengespeicherte Seiten mit der Einstellung `Location="ServerAndClient"` für die Ausgabenzwischenspeicherung einen `Vary:*`-HTTP-Header in der Antwort ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-236">In ASP.NET 1.0, a bug caused cached pages that specified `Location="ServerAndClient"` as an output&euro;"cache setting to emit a `Vary:*` HTTP header in the response.</span></span> <span data-ttu-id="56ac6-237">So wurde Clientbrowsern mitgeteilt, dass Seiten nie lokal zwischengespeichert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-237">This had the effect of telling client browsers to never cache the page locally.</span></span> <span data-ttu-id="56ac6-238">In ASP.NET Version 1.1 wurde die Methode <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> hinzugefügt, um aufgerufen werden kann, um den `Vary:*`-Header zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="56ac6-238">In ASP.NET 1.1, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method was added, which could be called in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="56ac6-239">Allerdings legen Problemberichte nahe, dass Entwickler keine Kenntnis von dem `SetOmitVaryStar`-Verhalten haben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-239">However, bug reports suggest that developers are unaware of the existing `SetOmitVaryStar` behavior.</span></span><br><br><span data-ttu-id="56ac6-240">In ASP.NET 4 wird der `Vary:*`-HTTP-Header nicht mehr in Antworten ausgegeben, die folgende Anweisung angeben:</span><span class="sxs-lookup"><span data-stu-id="56ac6-240">In ASP.NET 4, the `Vary:*` HTTP header is no longer emitted from responses that specify the following directive:</span></span><br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br><span data-ttu-id="56ac6-241">Daher wird die Methode <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> nicht mehr benötigt, um den `Vary:*`-Header zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="56ac6-241">As a result, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method is no longer needed in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="56ac6-242">In Anwendungen, die für das `Location`-Attribut „ServerAndClient“ angeben, können Seiten im Browser zwischengespeichert werden, ohne dass <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> aufgerufen werden muss.</span><span class="sxs-lookup"><span data-stu-id="56ac6-242">In applications that specify "ServerAndClient" for the `Location` attribute, pages will be cacheable in the browser without requiring that you call <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span></span> | <span data-ttu-id="56ac6-243">Wenn Seiten in der Anwendung `Vary:*` ausgeben müssen, rufen Sie die Methode <xref:System.Web.HttpResponse.AppendHeader%2A> wie im folgenden Beispiel dargestellt auf:</span><span class="sxs-lookup"><span data-stu-id="56ac6-243">If pages in the application must emit `Vary:*`, call the <xref:System.Web.HttpResponse.AppendHeader%2A> method as shown in the following example:</span></span><br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br><span data-ttu-id="56ac6-244">Alternativ können Sie den Wert des `Location`-Attribut der Ausgabezwischenspeicherung in „Server“ ändern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-244">Alternatively, you can change the value of the output caching `Location` attribute to "Server".</span></span> |
| <span data-ttu-id="56ac6-245">**Seitenanalyse**</span><span class="sxs-lookup"><span data-stu-id="56ac6-245">**Page parsing**</span></span> | <span data-ttu-id="56ac6-246">Der Seitenparser für ASP.NET-Webseiten (ASPX-Dateien) und -Benutzersteuerelemente (ASCX-Dateien) ist in ASP.NET 4 strenger und kennzeichnet mehr Markup als in früheren Versionen als ungültig als in früheren Versionen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-246">The page parser for ASP.NET Web pages (.aspx files) and user controls (.ascx files) is stricter in ASP.NET 4 than in earlier versions of ASP.NET, and it flags more markup as invalid than in earlier versions.</span></span> | <span data-ttu-id="56ac6-247">Nehmen wir z.B. die Fehlermeldungen, die bei der Ausführung einer Seite erstellt werden, und Fehler, die von ungültigem Markup hervorgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-247">Examine error messages that are produced when a page runs and fix errors that result from invalid markup.</span></span> |
| <span data-ttu-id="56ac6-248">**Passport-Typen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-248">**Passport types**</span></span> | <span data-ttu-id="56ac6-249">Die in ASP.NET 2.0 integrierte Unterstützung für Passport ist veraltet und aufgrund von Änderungen in Passport (jetzt Live ID SDK) wird die Unterstützung nicht weitergeführt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-249">The Passport support built into ASP.NET 2.0 is obsolete and is unsupported due to changes in Passport (now Live ID SDK).</span></span> <span data-ttu-id="56ac6-250">Daher werden die Typen im Zusammenhang mit Passport in <xref:System.Web.Security> jetzt mit dem `ObsoleteAttribute`-Attribut markiert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-250">As a result, the types related to Passport in <xref:System.Web.Security> are now marked with the `ObsoleteAttribute` attribute.</span></span> | <span data-ttu-id="56ac6-251">Ändern Sie jeglichen Code, der Passport-Typen im <xref:System.Web.Security>-Namespace verwendet (beispielsweise <xref:System.Web.Security.PassportIdentity>), um das Windows Live ID SDK zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-251">Change any code that uses Passport types in the <xref:System.Web.Security> namespace (for example, <xref:System.Web.Security.PassportIdentity>) to use the Windows Live ID SDK.</span></span> |
| <span data-ttu-id="56ac6-252">**PathInfo-Informationen in der FilePath-Eigenschaft**</span><span class="sxs-lookup"><span data-stu-id="56ac6-252">**PathInfo information in the FilePath property**</span></span> | <span data-ttu-id="56ac6-253">In ASP.NET 4 ist der `PathInfo`-Wert nicht mehr in den Rückgabewerten von Eigenschaften wie <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath> und <xref:System.Web.HttpRequest.CurrentExecutionFilePath> enthalten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-253">ASP.NET 4 no longer includes the `PathInfo` value in the return values from properties such as <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>, and <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span></span> <span data-ttu-id="56ac6-254">Die `PathInfo`-Informationen sind stattdessen in <xref:System.Web.HttpRequest.PathInfo> verfügbar.</span><span class="sxs-lookup"><span data-stu-id="56ac6-254">Instead, the `PathInfo` information is available in <xref:System.Web.HttpRequest.PathInfo>.</span></span> <span data-ttu-id="56ac6-255">Nehmen wir z.B. das folgenden URL-Fragment:</span><span class="sxs-lookup"><span data-stu-id="56ac6-255">For example, imagine the following URL fragment:</span></span><br><br>`/testapp/Action.mvc/SomeAction`<br><br><span data-ttu-id="56ac6-256">In früheren Versionen von ASP.NET hatten <xref:System.Web.HttpRequest>-Eigenschaften die folgenden Werte:</span><span class="sxs-lookup"><span data-stu-id="56ac6-256">In earlier versions of ASP.NET, <xref:System.Web.HttpRequest> properties have the following values:</span></span><br><br><span data-ttu-id="56ac6-257">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span><span class="sxs-lookup"><span data-stu-id="56ac6-257">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span></span><br><span data-ttu-id="56ac6-258">\* <xref:System.Web.HttpRequest.PathInfo>: (leer)</span><span class="sxs-lookup"><span data-stu-id="56ac6-258">\* <xref:System.Web.HttpRequest.PathInfo>: (empty)</span></span><br><br><span data-ttu-id="56ac6-259">In ASP.NET 4 haben <xref:System.Web.HttpRequest>-Eigenschaften stattdessen die folgenden Werte:</span><span class="sxs-lookup"><span data-stu-id="56ac6-259">In ASP.NET 4, <xref:System.Web.HttpRequest> properties instead have the following values:</span></span><br><br><span data-ttu-id="56ac6-260">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span><span class="sxs-lookup"><span data-stu-id="56ac6-260">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span></span><br><span data-ttu-id="56ac6-261">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span><span class="sxs-lookup"><span data-stu-id="56ac6-261">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span></span> | <span data-ttu-id="56ac6-262">Prüfen Sie den Code darauf, ob Eigenschaften der <xref:System.Web.HttpRequest>-Klasse verwendet werden, um Pfadinformationen zurückgeben. Ändern Sie ggf. im Code die Art und Weise, wie Pfadinformationen zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-262">Examine your code for places where you rely on properties of the <xref:System.Web.HttpRequest> class to return path information; change the code to reflect the changes in how path information is returned.</span></span> |
| <span data-ttu-id="56ac6-263">**Anforderungsvalidierung**</span><span class="sxs-lookup"><span data-stu-id="56ac6-263">**Request validation**</span></span> | <span data-ttu-id="56ac6-264">Um die Anforderungsvalidierung zu verbessern, wird die ASP.NET-Anforderungsvalidierung früher im Lebenszyklus aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-264">To improve request validation, the ASP.NET request validation is invoked earlier in the request life cycle.</span></span> <span data-ttu-id="56ac6-265">Daher wird die Anforderungsvalidierung für Anforderungen ausgeführt, die nicht an ASPX-Dateien gerichtet sind, z.B. für Aufrufe des Webdiensts und benutzerdefinierte Handler.</span><span class="sxs-lookup"><span data-stu-id="56ac6-265">As a result, request validation runs for requests that are not for .aspx files, such as for Web service calls and for custom handlers.</span></span> <span data-ttu-id="56ac6-266">Die Anforderungsvalidierung wird auch aktiv, wenn benutzerdefinierte HTTP-Module in der Pipeline zur Anforderungsverarbeitung ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-266">Request validation will also be active when custom HTTP modules are running in the request processing pipeline.</span></span><br><br><span data-ttu-id="56ac6-267">Aufgrund der Änderung lösen Anforderungen von anderen Ressourcen als ASPX-Dateien unter Umständen Anforderungsvalidierungsfehler aus.</span><span class="sxs-lookup"><span data-stu-id="56ac6-267">As a result of this change, requests for resources other than .aspx files might throw request validation errors.</span></span> <span data-ttu-id="56ac6-268">Benutzerdefinierter Code, der in der Anforderungspipeline ausgeführt wird (z.B. benutzerdefinierte HTTP-Module), kann auch Anforderungsvalidierungsfehler auslösen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-268">Custom code that runs in the request pipeline (for example, custom HTTP modules) might also throw request validation errors.</span></span> | <span data-ttu-id="56ac6-269">Bei Bedarf können Sie das alte Verhalten wiederherstellen, bei dem nur ASPX-Seiten die Anforderungsvalidierung mithilfe der folgenden Einstellung in der Webkonfigurationsdatei auslösen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-269">If necessary, you can revert to the old behavior of having only .aspx pages triggering request validation by using the following setting in the Web configuration file:</span></span><br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br><span data-ttu-id="56ac6-270">Warnung: Wenn Sie das alte Verhalten wiederherstellen, vergewissern Sie sich, dass der gesamte Code im vorhandenen Handler, in Modulen und in anderem benutzerdefinierten Code auf potenziell unsichere HTTP-Eingaben prüft, die XSS-Angriffsvektor sein können.</span><span class="sxs-lookup"><span data-stu-id="56ac6-270">Warning: If you revert to the old behavior, make sure that all code in existing handlers, modules, and other custom code performs checks for potentially unsafe HTTP inputs that could be XSS attack vectors.</span></span> |
| <span data-ttu-id="56ac6-271">**Routing**</span><span class="sxs-lookup"><span data-stu-id="56ac6-271">**Routing**</span></span> | <span data-ttu-id="56ac6-272">Wenn Sie eine Dateisystemwebsite in Visual Studio 2010 erstellen und die Website sich in einen Ordner mit einem Punkt (.) im Ordnernamen befindet, funktioniert das URL-Routing nicht zuverlässig.</span><span class="sxs-lookup"><span data-stu-id="56ac6-272">If you create a file system Web site in Visual Studio 2010 and the Web site is in a folder that contains a dot (.) in the folder name, URL routing will not work reliably.</span></span> <span data-ttu-id="56ac6-273">Einige virtuelle Pfade geben einen HTTP 404-Fehler zurück.</span><span class="sxs-lookup"><span data-stu-id="56ac6-273">An HTTP 404 error is returned from some virtual paths.</span></span> <span data-ttu-id="56ac6-274">Dies tritt auf, weil Visual Studio 2010 den Visual Studio Development Server mit einem falschen Pfad für das virtuelle Stammverzeichnis startet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-274">This occurs because Visual Studio 2010 launches the Visual Studio Development Server using an incorrect path for the root virtual directory.</span></span> | <span data-ttu-id="56ac6-275">\* Ändern Sie auf der Seite **Eigenschaften** für die dateibasierte Website das Attribut **Virtueller Pfad** auf „/“.</span><span class="sxs-lookup"><span data-stu-id="56ac6-275">\* In the **Properties** page for the file-based Web site, change the **Virtual Path** attribute to "/".</span></span><br><br><span data-ttu-id="56ac6-276">- oder -</span><span class="sxs-lookup"><span data-stu-id="56ac6-276">-or-</span></span><br><br><span data-ttu-id="56ac6-277">\* Erstellen Sie ein Webanwendungsprojekt statt eines Websiteprojekts.</span><span class="sxs-lookup"><span data-stu-id="56ac6-277">\* Create a Web application project instead of a Web site project.</span></span> <span data-ttu-id="56ac6-278">In Webanwendungsprojekten tritt dieses Problem nicht auf, und das URL-Routing funktioniert, selbst wenn der Name des Projektordners einen Punkt enthält.</span><span class="sxs-lookup"><span data-stu-id="56ac6-278">Web application projects do not have this issue, and URL routing works even if the project folder has a dot in its name.</span></span><br><br><span data-ttu-id="56ac6-279">- oder -</span><span class="sxs-lookup"><span data-stu-id="56ac6-279">-or-</span></span><br><br><span data-ttu-id="56ac6-280">\* Erstellen Sie eine in IIS gehostete, HTTP-basierte-Website.</span><span class="sxs-lookup"><span data-stu-id="56ac6-280">\* Create an HTTP-based Web site that is hosted in IIS.</span></span> <span data-ttu-id="56ac6-281">Die virtuellen Pfade und Projektdateiordner können bei in IIS-gehosteten Websites auch Punkte enthalten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-281">IIS-hosted Web sites can have dots in the virtual path as well as in the project file folder.</span></span> |
| <span data-ttu-id="56ac6-282">**SharePoint-Websites**</span><span class="sxs-lookup"><span data-stu-id="56ac6-282">**SharePoint sites**</span></span> | <span data-ttu-id="56ac6-283">Wenn Sie versuchen, eine ASP.NET 4-Website auszuführen, die als untergeordnetes Element einer SharePoint-Website bereitgestellt wird, die eine benutzerdefinierte, partielle Vertrauensebene namens `WSS_Minimal` enthält, wird die folgende Fehlermeldung angezeigt:</span><span class="sxs-lookup"><span data-stu-id="56ac6-283">If you try to run an ASP.NET 4 Web site that is deployed as a child of a SharePoint Web site that contains a custom partial-trust level named `WSS_Minimal`, you will see the following error:</span></span><br><br>`Could not find permission set named 'ASP.Net'.` | <span data-ttu-id="56ac6-284">Derzeit sind keine Versionen von SharePoint mit ASP.NET kompatibel.</span><span class="sxs-lookup"><span data-stu-id="56ac6-284">Currently, no versions of SharePoint are compatible with ASP.NET.</span></span> <span data-ttu-id="56ac6-285">Daher sollten Sie nicht versuchen, eine ASP.NET 4-Website als untergeordnetes Element einer SharePoint-Website auszuführen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-285">As a result, you should not attempt to run an ASP.NET 4 Web site as a child of a SharePoint Web site.</span></span> |
| <span data-ttu-id="56ac6-286">**XHTML 1.1-Standards**</span><span class="sxs-lookup"><span data-stu-id="56ac6-286">**XHTML 1.1 standards**</span></span> | <span data-ttu-id="56ac6-287">Damit neue Websites mit XHTML 1.1 kompatibel sind, generieren die ASP.NET-Steuerelemente in .NET Framework 4 XHTML 1.1-kompatibles HTML.</span><span class="sxs-lookup"><span data-stu-id="56ac6-287">To enable XHTML 1.1 compliance for new Web sites, the ASP.NET controls in .NET Framework 4 will generate XHTML 1.1 compliant HTML.</span></span> <span data-ttu-id="56ac6-288">Dieses Rendering wird mit der folgenden Option in der Datei „Web.config“ innerhalb der `<system.Web>`-Elements aktiviert:</span><span class="sxs-lookup"><span data-stu-id="56ac6-288">This rendering is enabled using the following option in the Web.config file inside the `<system.Web>` element:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br><span data-ttu-id="56ac6-289">Diese Option ist standardmäßig auf 4.0 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-289">This option is set by default to 4.0.</span></span> <span data-ttu-id="56ac6-290">In Webprojekten, für die ein Upgrade von Visual Studio 2008 ausgeführt wurde, ist die 3.5-Einstellung aus Kompatibilitätsgründen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-290">Web projects that are upgraded from Visual Studio 2008 have the 3.5 setting enabled for compatibility.</span></span> | <span data-ttu-id="56ac6-291">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-291">None.</span></span> |

## <a name="core"></a><span data-ttu-id="56ac6-292">Kernspeicher</span><span class="sxs-lookup"><span data-stu-id="56ac6-292">Core</span></span>

### <a name="general-features"></a><span data-ttu-id="56ac6-293">Allgemeine Funktionen</span><span class="sxs-lookup"><span data-stu-id="56ac6-293">General features</span></span>

| <span data-ttu-id="56ac6-294">Funktion</span><span class="sxs-lookup"><span data-stu-id="56ac6-294">Feature</span></span> | <span data-ttu-id="56ac6-295">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-295">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-296">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-296">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-297">**CardSpace**</span><span class="sxs-lookup"><span data-stu-id="56ac6-297">**CardSpace**</span></span> | <span data-ttu-id="56ac6-298">Windows CardSpace ist nicht mehr in .NET Framework enthalten, sondern wird getrennt bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-298">Windows CardSpace is no longer included in .NET Framework; it is provided separately.</span></span> | <span data-ttu-id="56ac6-299">Sie können CardSpace im [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=199868) herunterladen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-299">Download Windows CardSpace from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=199868).</span></span> |
| <span data-ttu-id="56ac6-300">**Konfigurationsdateien**</span><span class="sxs-lookup"><span data-stu-id="56ac6-300">**Configuration files**</span></span> | <span data-ttu-id="56ac6-301">Es wurden Korrekturen am Zugriff von .NET Framework auf Anwendungskonfigurationsdateien vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-301">Corrections have been made in how .NET Framework accesses application configuration files.</span></span> | <span data-ttu-id="56ac6-302">Wenn Ihre Anwendungskonfigurationsdatei *application-name.config* heißt, benennen Sie sie in *application-name.exe.config* um. Benennen Sie *MyApp.config* z.B. in *MyApp.exe.config* um.</span><span class="sxs-lookup"><span data-stu-id="56ac6-302">If your application configuration file is named *application-name.config*, rename it to *application-name.exe.config*. For example, rename *MyApp.config* to *MyApp.exe.config*.</span></span> |
| <span data-ttu-id="56ac6-303">**C#-Codecompiler**</span><span class="sxs-lookup"><span data-stu-id="56ac6-303">**C# code compiler**</span></span> | <span data-ttu-id="56ac6-304">Die Klassen `Compiler`, `CompilerError` und `ErrorLevel` aus dem <xref:Microsoft.CSharp>-Namespace sind nicht mehr verfügbar, und die zugehörige Assembly (cscompmgd.dll) ist nicht mehr in .NET Framework enthalten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-304">The `Compiler`, `CompilerError`, and `ErrorLevel` classes that were in the <xref:Microsoft.CSharp> namespace are no longer available, and their assembly (cscompmgd.dll) is no longer included in .NET Framework.</span></span> | <span data-ttu-id="56ac6-305">Verwenden Sie stattdessen die <xref:System.CodeDom.Compiler.CodeDomProvider>-Klasse und andere Klassen im <xref:System.CodeDom.Compiler>-Namespace.</span><span class="sxs-lookup"><span data-stu-id="56ac6-305">Use the <xref:System.CodeDom.Compiler.CodeDomProvider> class and other classes in the <xref:System.CodeDom.Compiler> namespace.</span></span> <span data-ttu-id="56ac6-306">Weitere Informationen finden Sie unter [Verwenden von CodeDOM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="56ac6-306">For more information, see [Using the CodeDOM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29).</span></span> |
| <span data-ttu-id="56ac6-307">**Hosting** (nicht verwaltete API)</span><span class="sxs-lookup"><span data-stu-id="56ac6-307">**Hosting** (unmanaged API)</span></span> | <span data-ttu-id="56ac6-308">Um die Hostingfunktionen zu verbessern, wurden einige der Hosting-Aktivierungs-APIs als veraltet gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-308">To improve hosting capabilities, some of the hosting activation APIs have been deprecated.</span></span> <span data-ttu-id="56ac6-309">Funktionen zur parallelen In-Process-Ausführung ermöglichen es Anwendungen, mehrere Versionen von .NET Framework im selben Prozess zu laden und zu starten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-309">In-process side-by-side execution features enable an application to load and start multiple versions of .NET Framework in the same process.</span></span> <span data-ttu-id="56ac6-310">Sie haben z. B. die Möglichkeit, Anwendungen auszuführen, die auf .NET Framework 2.0 SP1 und auf .NET Framework 4 basierende Add-Ins (oder Komponenten) im selben Prozess laden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-310">For example, you can run applications that load add-ins (or components) that are based on .NET Framework 2.0 SP1 and add-ins that are based on .NET Framework 4 in the same process.</span></span> <span data-ttu-id="56ac6-311">Ältere Komponenten verwenden weiterhin die ältere Version von .NET Framework, während neue Komponenten die neue Version verwenden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-311">Older components continue to use the older .NET Framework version, and new components use the new .NET Framework version.</span></span> | <span data-ttu-id="56ac6-312">Verwenden Sie die unter [Parallele In-Process-Ausführung](../deployment/in-process-side-by-side-execution.md) beschriebene Konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-312">Use the configurations described in [In-Process Side-by-Side Execution](../deployment/in-process-side-by-side-execution.md).</span></span> |
| <span data-ttu-id="56ac6-313">**Neues Sicherheitsmodell**</span><span class="sxs-lookup"><span data-stu-id="56ac6-313">**New security model**</span></span> | <span data-ttu-id="56ac6-314">Die Codezugriffssicherheitsrichtlinie wurde deaktiviert und durch ein vereinfachtes Modell ersetzt, wie in [Änderungen der Sicherheit in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-314">The code access security (CAS) policy has been turned off and replaced with a simplified model, as described in [Security Changes in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29).</span></span> | <span data-ttu-id="56ac6-315">Wenn Sie in Ihren Anwendungen von CAS abhängen, sind Änderungen unter Umständen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="56ac6-315">Modifications may be required if you depend on CAS in your applications.</span></span> <span data-ttu-id="56ac6-316">Weitere Informationen finden Sie unter [Kompatibilität und Migration von Richtlinien für die Codezugriffssicherheit](../misc/code-access-security-policy-compatibility-and-migration.md).</span><span class="sxs-lookup"><span data-stu-id="56ac6-316">For more information, see [Code Access Security Policy Compatibility and Migration](../misc/code-access-security-policy-compatibility-and-migration.md).</span></span> |

### <a name="date-and-time"></a><span data-ttu-id="56ac6-317">Datum und Uhrzeit</span><span class="sxs-lookup"><span data-stu-id="56ac6-317">Date and time</span></span>

<span data-ttu-id="56ac6-318">Namespace: <xref:System></span><span class="sxs-lookup"><span data-stu-id="56ac6-318">Namespace: <xref:System></span></span>

<span data-ttu-id="56ac6-319">Assembly: mscorlib (in „mscorlib.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-319">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="56ac6-320">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-320">Feature</span></span> | <span data-ttu-id="56ac6-321">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-321">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-322">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-322">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-323">**Sommerzeit**</span><span class="sxs-lookup"><span data-stu-id="56ac6-323">**Daylight savings**</span></span> | <span data-ttu-id="56ac6-324">Um Abweichungen von der Systemuhr zu vermeiden, verwenden Zeiteigenschaften (wie <xref:System.TimeZoneInfo.Local> und <xref:System.DateTime.Now>) nun Betriebssystemregeln anstelle von anderen .NET Framework-Daten für Vorgänge hinsichtlich Sommerzeit.</span><span class="sxs-lookup"><span data-stu-id="56ac6-324">To be consistent with the system clock, time properties (such as <xref:System.TimeZoneInfo.Local> and <xref:System.DateTime.Now>) now use operating system rules instead of other .NET Framework data for daylight saving time operations.</span></span> | <span data-ttu-id="56ac6-325">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-325">None.</span></span> |
| <span data-ttu-id="56ac6-326">**Formatierungszeichenfolge**</span><span class="sxs-lookup"><span data-stu-id="56ac6-326">**Formatting strings**</span></span> | <span data-ttu-id="56ac6-327">Um die kulturabhängige Formatierung zu unterstützen, enthält die <xref:System.TimeSpan>-Struktur neue Überladungen der Methoden `ToString`, `Parse` und `TryParse` sowie `ParseExact` und `TryParseExact`.</span><span class="sxs-lookup"><span data-stu-id="56ac6-327">To support culture-sensitive formatting, the <xref:System.TimeSpan> structure includes new overloads of the `ToString`, `Parse`, and `TryParse` methods in addition to new `ParseExact` and `TryParseExact` methods.</span></span> | <span data-ttu-id="56ac6-328">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-328">None.</span></span> |

### <a name="globalization"></a><span data-ttu-id="56ac6-329">Globalisierung</span><span class="sxs-lookup"><span data-stu-id="56ac6-329">Globalization</span></span>

<span data-ttu-id="56ac6-330">Eine Liste der neuen neutralen und spezifischen Kulturen finden Sie unter [Neues bei der Globalisierung und Lokalisierung](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="56ac6-330">For a list of new neutral and specific cultures, see [What's New in Globalization and Localization](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).</span></span>

<span data-ttu-id="56ac6-331">Namespace: <xref:System.Globalization></span><span class="sxs-lookup"><span data-stu-id="56ac6-331">Namespace: <xref:System.Globalization></span></span>

<span data-ttu-id="56ac6-332">Assembly: mscorlib (in „mscorlib.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-332">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="56ac6-333">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-333">Feature</span></span> | <span data-ttu-id="56ac6-334">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-334">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-335">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-335">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-336">**Namen von Kulturen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-336">**Culture names**</span></span> | <span data-ttu-id="56ac6-337">Die folgenden Namensänderungen wirken sich auf die deutsch- und Divehi-sprachigen sowie auf die afrikanischen Kulturen aus:</span><span class="sxs-lookup"><span data-stu-id="56ac6-337">The following name changes affect the German, Divehi, and African cultures:</span></span><br><br><span data-ttu-id="56ac6-338">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Der Währungsname für die Kultur „Deutsch (Schweiz)“ (de-CH) wurde von „sFr.“</span><span class="sxs-lookup"><span data-stu-id="56ac6-338">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: The currency name for the German (Switzerland) (de-CH) culture has changed from "sFr."</span></span> <span data-ttu-id="56ac6-339">in „Fr.“ geändert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-339">to "Fr.".</span></span><br><span data-ttu-id="56ac6-340">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Das lange Datumsmuster für die ethnische Gruppe „Divehi“ (Malediven) (dv-MV) wurde von „dd/MMMM/yyyy“ in „dd/MM/yyyy“ geändert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-340">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: The long date pattern for the Divehi (Maldives) (dv-MV) culture has changed from "dd/MMMM/yyyy" to "dd/MM/yyyy".</span></span><br><span data-ttu-id="56ac6-341">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: Der PM-</span><span class="sxs-lookup"><span data-stu-id="56ac6-341">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: The P.M.</span></span> <span data-ttu-id="56ac6-342">Kennzeichner der Kultur „Afrikaans (Südafrika)“ wurde von „nm“ in „PM“ geändert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-342">designator of the Afrikaans (South Africa) (af-ZA) culture has changed from "nm" to "PM".</span></span> | <span data-ttu-id="56ac6-343">Beachten Sie die Namensänderungen für Kulturen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-343">Note culture name changes.</span></span> |
| <span data-ttu-id="56ac6-344">**LICD-Parameter**</span><span class="sxs-lookup"><span data-stu-id="56ac6-344">**LCID parameter**</span></span> | <span data-ttu-id="56ac6-345">Damit das erwartete Verhalten in den Einstellungen des Automatisierungsserver auftritt, übergibt die CLR die aktuelle Kultur für den `LCID`-Parameter nicht mehr an nicht verwaltete COM-basierte Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-345">To be consistent with expected behavior in automation server settings, the CLR no longer passes the current culture for the `LCID` parameter to unmanaged COM-based applications.</span></span> <span data-ttu-id="56ac6-346">Stattdessen wird 1033 (en-US) für die Kultur übergeben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-346">Instead, it passes 1033 (en-us) for the culture.</span></span> | <span data-ttu-id="56ac6-347">Mit Ausnahme der nativen Anwendungen, die eine angegebene Kultur erfordern,sind keine Änderungen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="56ac6-347">No modifications necessary except for native applications that require a specified culture.</span></span> |
| <span data-ttu-id="56ac6-348">**Veraltete Kulturtypen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-348">**Obsolete culture types**</span></span> | <span data-ttu-id="56ac6-349">Die Kulturtypen <xref:System.Globalization.CultureTypes> und <xref:System.Globalization.CultureTypes> sind jetzt veraltet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-349">The <xref:System.Globalization.CultureTypes> and <xref:System.Globalization.CultureTypes> culture types are now obsolete.</span></span><br><br><span data-ttu-id="56ac6-350">Aus Gründen der Abwärtskompatibilität gibt <xref:System.Globalization.CultureTypes> jetzt neutrale und spezifische Kulturen zurück, die in früheren .NET Framework-Versionen enthalten waren, und <xref:System.Globalization.CultureTypes> gibt jetzt eine leere Liste zurück.</span><span class="sxs-lookup"><span data-stu-id="56ac6-350">For backward compatibility, <xref:System.Globalization.CultureTypes> now returns neutral and specific cultures that were included with the previous .NET Framework, and <xref:System.Globalization.CultureTypes> now returns an empty list.</span></span> | <span data-ttu-id="56ac6-351">Verwenden Sie andere Werte der <xref:System.Globalization.CultureTypes>-Enumeration.</span><span class="sxs-lookup"><span data-stu-id="56ac6-351">Use other values of the <xref:System.Globalization.CultureTypes> enumeration.</span></span> |
| <span data-ttu-id="56ac6-352">**Abrufen einer Kultur**</span><span class="sxs-lookup"><span data-stu-id="56ac6-352">**Retrieving culture**</span></span> | <span data-ttu-id="56ac6-353">Ab Windows 7 ruft .NET Framework 4 Kulturinformationen vom Betriebssystem ab, anstatt die Daten selbst zu speichern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-353">Beginning with Windows 7, .NET Framework 4 retrieves culture information from the operating system instead of storing the data itself.</span></span> <span data-ttu-id="56ac6-354">Darüber hinaus synchronisiert .NET Framework die Sortierung und Groß-/Kleinschreibung von Daten mit Windows.</span><span class="sxs-lookup"><span data-stu-id="56ac6-354">In addition, .NET Framework synchronizes with Windows for sorting and casing data.</span></span> | <span data-ttu-id="56ac6-355">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-355">None.</span></span> |
| <span data-ttu-id="56ac6-356">**Unicode 5.1-Standards**</span><span class="sxs-lookup"><span data-stu-id="56ac6-356">**Unicode 5.1 standards**</span></span> | <span data-ttu-id="56ac6-357">.NET Framework unterstützt jetzt alle Unicode 5.1-Zeichen, d. h. ungefähr 1.400 zusätzliche Zeichen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-357">.NET Framework now supports all Unicode 5.1 characters -- an addition of approximately 1400 characters.</span></span> <span data-ttu-id="56ac6-358">Diese Zeichen umfassen neue Symbole, Pfeile, diakritische Zeichen, Satzzeichen, mathematische Symbolen, CJK-Querstriche und -Ideogramme, zusätzliche numerische Zeichen aus dem Malaiischen und Telugu sowie verschiedene myanmarische, lateinische, arabische, griechische, mongolische und kyrillische Zeichen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-358">The additional characters include new symbols, arrows, diacritics, punctuation, mathematical symbols, CJK strokes and ideographs, additional Malayalam and Telugu numeric characters, and various Myanmar, Latin, Arabic, Greek, Mongolian, and Cyrillic characters.</span></span> <span data-ttu-id="56ac6-359">Die folgenden neuen Skripts werden mit Unicode 5.1 unterstützt: Sudanesisch, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu, Cham und malaiische Zeichen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-359">The following new scripts are supported with Unicode 5.1: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu, and Malayalam characters and Cham.</span></span> | <span data-ttu-id="56ac6-360">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-360">None.</span></span> |

### <a name="exceptions"></a><span data-ttu-id="56ac6-361">Ausnahmen</span><span class="sxs-lookup"><span data-stu-id="56ac6-361">Exceptions</span></span>

<span data-ttu-id="56ac6-362">Namespaces: <xref:System>, <xref:System.Runtime.ExceptionServices></span><span class="sxs-lookup"><span data-stu-id="56ac6-362">Namespaces: <xref:System>, <xref:System.Runtime.ExceptionServices></span></span>

<span data-ttu-id="56ac6-363">Assembly: mscorlib (in „mscorlib.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-363">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="56ac6-364">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-364">Feature</span></span> | <span data-ttu-id="56ac6-365">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-365">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-366">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-366">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-367">**Ausnahmen für beschädigte Prozessstatus**</span><span class="sxs-lookup"><span data-stu-id="56ac6-367">**Exceptions for corrupted process state**</span></span> | <span data-ttu-id="56ac6-368">Die CLR übergibt keine Ausnahmen mehr für beschädigte Prozessstatus an Ausnahmehandler in verwaltetem Code.</span><span class="sxs-lookup"><span data-stu-id="56ac6-368">The CLR no longer delivers exceptions for corrupted process state to exception handlers in managed code.</span></span> | <span data-ttu-id="56ac6-369">Diese Ausnahmen deuten darauf hin, dass der Status eines Prozesses beschädigt wurde.</span><span class="sxs-lookup"><span data-stu-id="56ac6-369">These exceptions indicate that the state of a process has been corrupted.</span></span> <span data-ttu-id="56ac6-370">Eine Ausführung Ihrer Anwendung in diesem Zustand ist nicht empfehlenswert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-370">We do not recommend that you run your application in this state.</span></span><br><br><span data-ttu-id="56ac6-371">Weitere Informationen finden Sie unter <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> und im Eintrag [Handling Corrupted State Exceptions (Behandeln beschädigter Statusausnahmen)](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) im MSDN-Magazin.</span><span class="sxs-lookup"><span data-stu-id="56ac6-371">For more information, see the <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> and the entry [Handling Corrupted State Exceptions](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) in the MSDN magazine.</span></span> |
| <span data-ttu-id="56ac6-372">**Ausnahmen der Ausführungs-Engine**</span><span class="sxs-lookup"><span data-stu-id="56ac6-372">**Execution engine exceptions**</span></span> | <span data-ttu-id="56ac6-373"><xref:System.ExecutionEngineException> ist jetzt veraltet, da der Prozess aufgrund einer abfangbaren Ausnahme weiterhin ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-373"><xref:System.ExecutionEngineException> is now obsolete, because a catchable exception will allow an unstable process to continue to run.</span></span> <span data-ttu-id="56ac6-374">Diese Änderung verbessert die Vorhersagbarkeit und Zuverlässigkeit in der Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="56ac6-374">This change improves predictability and reliability in the runtime.</span></span> | <span data-ttu-id="56ac6-375">Verwenden Sie <xref:System.InvalidOperationException>, um die Bedingung zu signalisieren.</span><span class="sxs-lookup"><span data-stu-id="56ac6-375">Use an <xref:System.InvalidOperationException> to signal the condition.</span></span> |

### <a name="reflection"></a><span data-ttu-id="56ac6-376">Spiegelung</span><span class="sxs-lookup"><span data-stu-id="56ac6-376">Reflection</span></span>

<span data-ttu-id="56ac6-377">Namespace: <xref:System.Reflection></span><span class="sxs-lookup"><span data-stu-id="56ac6-377">Namespace: <xref:System.Reflection></span></span>

<span data-ttu-id="56ac6-378">Assembly: mscorlib (in „mscorlib.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-378">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="56ac6-379">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-379">Feature</span></span> | <span data-ttu-id="56ac6-380">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-380">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-381">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-381">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-382">**Assembly-Hashalgorithmen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-382">**Assembly hash algorithms**</span></span> | <span data-ttu-id="56ac6-383">Die Eigenschaft <xref:System.Reflection.AssemblyName.HashAlgorithm> gibt jetzt <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm> zurück, da die Laufzeit den Hashalgorithmus der Assembly, auf die verwiesen wird, nicht kennt, wenn die Assembly nicht geladen wurde.</span><span class="sxs-lookup"><span data-stu-id="56ac6-383">The <xref:System.Reflection.AssemblyName.HashAlgorithm> property now returns <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, because the runtime does not know the hash algorithm of the referenced assembly when the assembly is not loaded.</span></span> <span data-ttu-id="56ac6-384">(Dies bezieht sich auf die Verwendung der Eigenschaft für eine Assembly, auf die verwiesen wird, z.B. die von der <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A>-Methode zurückgegebene.)</span><span class="sxs-lookup"><span data-stu-id="56ac6-384">(This refers to using the property on a referenced assembly such as that returned by the <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> method.)</span></span> | <span data-ttu-id="56ac6-385">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-385">None.</span></span> |
| <span data-ttu-id="56ac6-386">**Laden von Assemblys**</span><span class="sxs-lookup"><span data-stu-id="56ac6-386">**Assembly loading**</span></span> | <span data-ttu-id="56ac6-387">Um das redundante Laden von Assemblys zu vermeiden und den virtuellen Adressraum zu speichern, lädt die CLR nun Assemblys nur mit der Win32-`MapViewOfFile`-Funktion.</span><span class="sxs-lookup"><span data-stu-id="56ac6-387">To prevent redundant loading of assemblies and to save virtual address space, the CLR now loads assemblies by using only the Win32 `MapViewOfFile` function.</span></span> <span data-ttu-id="56ac6-388">Die `LoadLibrary`-Funktion wird nicht mehr zusätzlich aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-388">It no longer also calls the `LoadLibrary` function.</span></span><br><br><span data-ttu-id="56ac6-389">Diese Änderung betrifft Diagnoseanwendungen auf die folgende Art und Weise:</span><span class="sxs-lookup"><span data-stu-id="56ac6-389">This change affects diagnostic applications in the following ways:</span></span><br><br><span data-ttu-id="56ac6-390">\* Eine <xref:System.Diagnostics.ProcessModuleCollection> enthält keine Module aus einer Klassenbibliothek (DLL-Datei) mehr, wie aus einem Aufruf von `Process.GetCurrentProcess().Modules` abgerufen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-390">\* A <xref:System.Diagnostics.ProcessModuleCollection> will no longer contain any modules from a class library (.dll file), as obtained from a call to `Process.GetCurrentProcess().Modules`.</span></span><br><span data-ttu-id="56ac6-391">\* Für Win32-Anwendungen, die die `EnumProcessModules`-Funktion verwenden, werden nicht alle verwalteten Module aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-391">\* Win32 applications that use the `EnumProcessModules` function will not see all managed modules listed.</span></span> | <span data-ttu-id="56ac6-392">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-392">None.</span></span> |
| <span data-ttu-id="56ac6-393">**Deklarierender Typ**</span><span class="sxs-lookup"><span data-stu-id="56ac6-393">**Declaring type**</span></span> | <span data-ttu-id="56ac6-394">Die Eigenschaft <xref:System.Type.DeclaringType> gibt jetzt ordnungsgemäß NULL zurück, wenn der Typ keinen deklarierenden Typ hat.</span><span class="sxs-lookup"><span data-stu-id="56ac6-394">The <xref:System.Type.DeclaringType> property now correctly returns null when the type does not have a declaring type.</span></span> | <span data-ttu-id="56ac6-395">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-395">None.</span></span> |
| <span data-ttu-id="56ac6-396">**Delegaten**</span><span class="sxs-lookup"><span data-stu-id="56ac6-396">**Delegates**</span></span> | <span data-ttu-id="56ac6-397">Ein Delegat löst jetzt eine <xref:System.ArgumentNullException> statt einer <xref:System.NullReferenceException> aus, wenn ein NULL-Wert an den Konstruktor des Delegaten übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-397">A delegate now throws an <xref:System.ArgumentNullException> instead of a <xref:System.NullReferenceException> when a null value is passed to the delegate's constructor.</span></span> | <span data-ttu-id="56ac6-398">Stellen Sie sicher, dass jede Ausnahmebehandlung <xref:System.ArgumentNullException> abfängt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-398">Ensure that any exception handling catches <xref:System.ArgumentNullException>.</span></span> |
| <span data-ttu-id="56ac6-399">**Änderung des Speicherorts des globalen Assemblycaches**</span><span class="sxs-lookup"><span data-stu-id="56ac6-399">**Global assembly cache location change**</span></span> | <span data-ttu-id="56ac6-400">Für .NET Framework 4-Assemblys wurde der globale Assemblycache aus dem Windows-Verzeichnis (%WINDIR%) in das Unterverzeichnis „Microsoft.Net“ ( *%WINDIR%\\Microsoft.Net*) verschoben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-400">For .NET Framework 4 assemblies, the global assembly cache has been moved from the Windows directory (%WINDIR%) to the Microsoft.Net subdirectory (*%WINDIR%\\Microsoft.Net*).</span></span> <span data-ttu-id="56ac6-401">Assemblys aus früheren Versionen bleiben im älteren Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="56ac6-401">Assemblies from earlier versions remain in the older directory.</span></span><br><br><span data-ttu-id="56ac6-402">Die nicht verwaltete [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md)-Enumeration enthält das neue `ASM_CACHE_ROOT_EX`-Flag.</span><span class="sxs-lookup"><span data-stu-id="56ac6-402">The unmanaged [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) enumeration contains the new `ASM_CACHE_ROOT_EX` flag.</span></span> <span data-ttu-id="56ac6-403">Dieses Flag ruft den Cachespeicherort für .NET Framework 4-Assemblys mit der Funktion [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) ab.</span><span class="sxs-lookup"><span data-stu-id="56ac6-403">This flag gets the cache location for .NET Framework 4 assemblies, which can be obtained by the [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) function.</span></span> | <span data-ttu-id="56ac6-404">Keine, vorausgesetzt dass Anwendungen keine expliziten Pfade zu Assemblys verwenden (nicht empfohlen)</span><span class="sxs-lookup"><span data-stu-id="56ac6-404">None, assuming that applications do not use explicit paths to assemblies, which is not a recommended practice.</span></span> |
| <span data-ttu-id="56ac6-405">**Globaler Assemblycache (Tool)**</span><span class="sxs-lookup"><span data-stu-id="56ac6-405">**Global assembly cache tool**</span></span> | <span data-ttu-id="56ac6-406">[Gacutil.exe (Global Assembly Cache-Tool)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) unterstützt den Shell-Plug-In-Viewer nicht mehr.</span><span class="sxs-lookup"><span data-stu-id="56ac6-406">The [Gacutil.exe (Global Assembly Cache Tool)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) no longer supports the shell plugin viewer.</span></span> | <span data-ttu-id="56ac6-407">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-407">None.</span></span> |

### <a name="interoperability"></a><span data-ttu-id="56ac6-408">Interoperabilität</span><span class="sxs-lookup"><span data-stu-id="56ac6-408">Interoperability</span></span>

<span data-ttu-id="56ac6-409">Namespace: <xref:System.Runtime.InteropServices></span><span class="sxs-lookup"><span data-stu-id="56ac6-409">Namespace: <xref:System.Runtime.InteropServices></span></span>

<span data-ttu-id="56ac6-410">Assembly: mscorlib (in „mscorlib.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-410">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="56ac6-411">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-411">Feature</span></span> | <span data-ttu-id="56ac6-412">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-412">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-413">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-413">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-414">**Pufferlänge** (nicht verwaltete API)</span><span class="sxs-lookup"><span data-stu-id="56ac6-414">**Buffer length** (unmanaged API)</span></span> | <span data-ttu-id="56ac6-415">Um Arbeitsspeicher zu sparen, wurde die Funktionalität des `pBufferLengthOffset`-Parameters für die [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md)-Methode geändert und entspricht jetzt dem `pStringLengthOffset`-Parameter.</span><span class="sxs-lookup"><span data-stu-id="56ac6-415">To save memory, the functionality for the `pBufferLengthOffset` parameter for the [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) method has been changed to match the `pStringLengthOffset` parameter.</span></span> <span data-ttu-id="56ac6-416">Beide Parameter zeigen jetzt auf die Offsetposition der Länge der Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="56ac6-416">Both parameters now point to the offset location of the string's length.</span></span> <span data-ttu-id="56ac6-417">Die Pufferlänge wurde aus der Darstellung der Zeichenfolgenklasse entfernt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-417">Buffer length has been removed from the representation of the string class.</span></span> | <span data-ttu-id="56ac6-418">Entfernen Sie alle Abhängigkeiten von der Pufferlänge.</span><span class="sxs-lookup"><span data-stu-id="56ac6-418">Remove any dependency on the buffer length.</span></span> |
| <span data-ttu-id="56ac6-419">**JIT-Debuggen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-419">**JIT debugging**</span></span> | <span data-ttu-id="56ac6-420">Um die Registrierung für das Just-in-Time-Debuggen (JIT) zu vereinfachen, verwendet der .NET Framework-Debugger jetzt nur den AeDebug-Registrierungsschlüssel, der das JIT-Debuggingverhalten für nativen Code steuert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-420">To simplify registration for just-in-time (JIT) debugging, the .NET Framework debugger now uses only the AeDebug registry key, which controls the JIT debugging behavior for native code.</span></span> <span data-ttu-id="56ac6-421">Diese Änderung hat folgende Auswirkungen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-421">This change results in the following:</span></span><br><br><span data-ttu-id="56ac6-422">\* Sie können keine zwei verschiedenen Debugger mehr für verwalteten und nativen Code registrieren.</span><span class="sxs-lookup"><span data-stu-id="56ac6-422">\* You can no longer register two different debuggers for managed and native code.</span></span><br><span data-ttu-id="56ac6-423">\* Sie können den Debugger nicht mehr automatisch bei einem nicht interaktiven Prozess starten, aber Sie können Benutzer zu einem interaktiven Prozess auffordern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-423">\* You can no longer start the debugger automatically for a non-interactive process, but you can prompt the user for an interactive process.</span></span><br><span data-ttu-id="56ac6-424">\* Sie werden nicht mehr benachrichtigt, wenn der Debugger nicht gestartet werden kann oder kein registrierter Debugger vorhanden ist, der gestartet werden soll.</span><span class="sxs-lookup"><span data-stu-id="56ac6-424">\* You are no longer notified when the debugger fails to start, or when there is no registered debugger that should be started.</span></span><br><span data-ttu-id="56ac6-425">\* Automatisch gestartete Richtlinien, die von der Interaktivität der Anwendung abhängig sind, werden nicht mehr unterstützt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-425">\* Auto-launch policies that depend on the interactivity of the application are no longer supported.</span></span> | <span data-ttu-id="56ac6-426">Passen Sie Debuggingvorgänge nach Bedarf an.</span><span class="sxs-lookup"><span data-stu-id="56ac6-426">Adjust debugging operations as required.</span></span> |
| <span data-ttu-id="56ac6-427">**Plattformaufruf**</span><span class="sxs-lookup"><span data-stu-id="56ac6-427">**Platform invoke**</span></span> | <span data-ttu-id="56ac6-428">Um die Leistung der Interoperabilität mit nicht verwaltetem Code zu verbessern, rufen falsche Aufrufkonventionen bei einem Plattformaufruf jetzt einen Fehler in der Anwendung hervor.</span><span class="sxs-lookup"><span data-stu-id="56ac6-428">To improve performance in interoperability with unmanaged code, incorrect calling conventions in a platform invoke now cause the application to fail.</span></span> <span data-ttu-id="56ac6-429">In früheren Versionen behoben hat die Marshalling-Ebene diese Fehler im Stapel gelöst.</span><span class="sxs-lookup"><span data-stu-id="56ac6-429">In previous versions, the marshaling layer resolved these errors up the stack.</span></span> | <span data-ttu-id="56ac6-430">Beim Debuggen Ihrer Anwendungen in Microsoft Visual Studio werden Sie auf diese Fehler aufmerksam gemacht, damit Sie sie korrigieren können.</span><span class="sxs-lookup"><span data-stu-id="56ac6-430">Debugging your applications in Microsoft Visual Studio alerts you to these errors so you can correct them.</span></span><br><br><span data-ttu-id="56ac6-431">Bei nicht aktualisierbaren Binärdateien kann das [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md)-Element in der Anwendungskonfigurationsdatei einschließen, damit aufrufende Fehler im Stapel wie in früheren Versionen gelöst werden können.</span><span class="sxs-lookup"><span data-stu-id="56ac6-431">If you have binaries that cannot be updated, you can include the [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) element in your application's configuration file to enable calling errors to be resolved up the stack as in earlier versions.</span></span> <span data-ttu-id="56ac6-432">Allerdings kann dies auf die Leistung Ihrer Anwendung auswirken.</span><span class="sxs-lookup"><span data-stu-id="56ac6-432">However, this may affect the performance of your application.</span></span> |
| <span data-ttu-id="56ac6-433">**Entfernte Schnittstellen** (nicht verwaltete API)</span><span class="sxs-lookup"><span data-stu-id="56ac6-433">**Removed interfaces** (unmanaged API)</span></span> | <span data-ttu-id="56ac6-434">Um Verwirrung bei den Entwicklern zu vermeiden, wurden die folgenden Schnittstellen entfernt, da sie keine nützlichen Szenarios bereitstellen und die CLR keine Implementierung bereitgestellt oder übernommen hat:</span><span class="sxs-lookup"><span data-stu-id="56ac6-434">To avoid developer confusion, the following interfaces were removed, because they did not provide any useful run-time scenarios, and the CLR did not provide or accept any implementations:</span></span><br><br><span data-ttu-id="56ac6-435">\* **INativeImageINativeImageDependency**</span><span class="sxs-lookup"><span data-stu-id="56ac6-435">\* **INativeImageINativeImageDependency**</span></span><br><span data-ttu-id="56ac6-436">\* **INativeImageInstallInfo**</span><span class="sxs-lookup"><span data-stu-id="56ac6-436">\* **INativeImageInstallInfo**</span></span><br><span data-ttu-id="56ac6-437">\* **INativeImageEvaluate**</span><span class="sxs-lookup"><span data-stu-id="56ac6-437">\* **INativeImageEvaluate**</span></span><br><span data-ttu-id="56ac6-438">\* **INativeImageConverter**</span><span class="sxs-lookup"><span data-stu-id="56ac6-438">\* **INativeImageConverter**</span></span><br><span data-ttu-id="56ac6-439">\* **ICorModule**</span><span class="sxs-lookup"><span data-stu-id="56ac6-439">\* **ICorModule**</span></span><br><span data-ttu-id="56ac6-440">\* **IMetaDataConverter**</span><span class="sxs-lookup"><span data-stu-id="56ac6-440">\* **IMetaDataConverter**</span></span> | <span data-ttu-id="56ac6-441">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-441">None.</span></span> |

## <a name="data"></a><span data-ttu-id="56ac6-442">Daten</span><span class="sxs-lookup"><span data-stu-id="56ac6-442">Data</span></span>

<span data-ttu-id="56ac6-443">In diesem Abschnitt werden Migrationsprobleme bei der Verwendung von Datasets und SQL-Clients, dem Entity Framework, LINQ to SQL und WCF-Datenservern (früher bekannt als ADO.NET Data Services) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-443">This section describes migration issues for using data sets and SQL clients, the Entity Framework, LINQ to SQL, and WCF Data Servers (formerly known as ADO.NET Data Services).</span></span>

### <a name="dataset-and-sql-client"></a><span data-ttu-id="56ac6-444">Dataset und SQL Client</span><span class="sxs-lookup"><span data-stu-id="56ac6-444">DataSet and SQL Client</span></span>

<span data-ttu-id="56ac6-445">Die folgende Tabelle beschreibt die verbesserten Funktionen, die zuvor Einschränkungen oder andere Probleme hatten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-445">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="56ac6-446">Namespaces: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient></span><span class="sxs-lookup"><span data-stu-id="56ac6-446">Namespaces: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient></span></span>

<span data-ttu-id="56ac6-447">Assemblys: System.Data (in „System.Data.dll“), System.Data.Entity (in „System.Data.Entity.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-447">Assemblies: System.Data (in System.Data.dll), System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="56ac6-448">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-448">Feature</span></span> | <span data-ttu-id="56ac6-449">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-449">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="56ac6-450">**POCO-Szenarios**</span><span class="sxs-lookup"><span data-stu-id="56ac6-450">**POCO Scenarios**</span></span> | <span data-ttu-id="56ac6-451">Die <xref:System.Data.Objects.DataClasses.IRelatedEnd>-Schnittstelle verfügt über neue Methoden, um die Benutzerfreundlichkeit in Plain Old CLR Object-Szenarios (POCO) zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-451">The <xref:System.Data.Objects.DataClasses.IRelatedEnd> interface has new methods to improve its usability in Plain Old CLR Object (POCO) scenarios.</span></span> <span data-ttu-id="56ac6-452">Diese neuen Methoden akzeptiert ein <xref:System.Object> statt einer <xref:System.Data.Objects.DataClasses.IEntityWithRelationships>-Entität als Parameter.</span><span class="sxs-lookup"><span data-stu-id="56ac6-452">These new methods take an <xref:System.Object> instead of an <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> entity as a parameter.</span></span> |
| <span data-ttu-id="56ac6-453">**Bearbeiten von Zeilen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-453">**Editing Rows**</span></span> | <span data-ttu-id="56ac6-454">Die <xref:System.Collections.IList.IndexOf%2A>-Methode, wie von der <xref:System.Data.DataView>-Klasse implementiert, gibt den Wert einer bearbeiteten Zeile jetzt richtig zurück, statt -1 zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-454">The <xref:System.Collections.IList.IndexOf%2A> method, as implemented by the <xref:System.Data.DataView> class, now correctly returns the value of a row that is being edited, instead of returning -1.</span></span> |
| <span data-ttu-id="56ac6-455">**Ereignisse**</span><span class="sxs-lookup"><span data-stu-id="56ac6-455">**Events**</span></span> | <span data-ttu-id="56ac6-456">Das <xref:System.Data.DataRowView.PropertyChanged>-Ereignis wird jetzt ausgelöst, wenn sich eine Zeile in einem geänderten Zustand befindet und die <xref:System.Data.DataRow.RejectChanges%2A>-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-456">The <xref:System.Data.DataRowView.PropertyChanged> event is now raised when a row is in a modified state and the <xref:System.Data.DataRow.RejectChanges%2A> method is called.</span></span> <span data-ttu-id="56ac6-457">Diese Änderung erleichtert es, Benutzeroberflächen-Steuerelemente zu erstellen, die den Inhalt eines <xref:System.Data.DataSet>-Objekts verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-457">This change makes it easier to create UI controls that expose the contents of a <xref:System.Data.DataSet> object.</span></span> |
| <span data-ttu-id="56ac6-458">**Ausnahmen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-458">**Exceptions**</span></span> | <span data-ttu-id="56ac6-459">Die <xref:System.Data.SqlClient.SqlCommand.Prepare%2A>-Methode löst jetzt statt einer <xref:System.NullReferenceException> eine <xref:System.InvalidOperationException> aus, wenn eine Verbindung nicht festgelegt oder offen ist.</span><span class="sxs-lookup"><span data-stu-id="56ac6-459">The <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> method now throws an <xref:System.InvalidOperationException> when a connection is not set or open instead of a <xref:System.NullReferenceException>.</span></span> |
| <span data-ttu-id="56ac6-460">**Zuordnen von Ansichten**</span><span class="sxs-lookup"><span data-stu-id="56ac6-460">**Mapping Views**</span></span> | <span data-ttu-id="56ac6-461">Zuordnungsfehler in der Abfrageansicht werden jetzt zur Entwurfszeit abgefangen, statt zur Laufzeit eine <xref:System.NullReferenceException> auszulösen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-461">Query view mapping errors are now caught at design time instead of throwing a <xref:System.NullReferenceException> at run time.</span></span><br><br><span data-ttu-id="56ac6-462">Die Zuordnungsvalidierung fängt den Fehler jetzt ab, bei dem zwei Zurodnungssätze in konzeptionelle Schemadefinitionssprache (CSDL) der gleichen Spalte zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="56ac6-462">Mapping validation now catches the error in which two association sets in Conceptual Schema (CSDL) are mapped to the same column.</span></span> |
| <span data-ttu-id="56ac6-463">**Transaktionen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-463">**Transactions**</span></span> | <span data-ttu-id="56ac6-464">Wenn eine Anwendung versucht, eine Anweisung für eine Verbindung auszuführen, nachdem eine Transaktion abgeschlossen wurde (einschließlich Abbruch oder Rollback zurück), wird jetzt eine <xref:System.InvalidOperationException> ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="56ac6-464">If an application tries to execute a statement on a connection after a transaction has been completed (including aborted or rolled back), an <xref:System.InvalidOperationException> is now thrown.</span></span> <span data-ttu-id="56ac6-465">In Vorgängerversionen wurde keine Ausnahme ausgelöst, und Sie konnten zusätzliche Befehle ausführen, auch wenn eine Transaktion abgebrochen wurde.</span><span class="sxs-lookup"><span data-stu-id="56ac6-465">Previous versions did not throw an exception and let you execute additional commands even if a transaction was aborted.</span></span> |

### <a name="entity-framework"></a><span data-ttu-id="56ac6-466">Entity Framework</span><span class="sxs-lookup"><span data-stu-id="56ac6-466">Entity Framework</span></span>

<span data-ttu-id="56ac6-467">Die folgende Tabelle beschreibt die verbesserten Funktionen, die zuvor Einschränkungen oder andere Probleme hatten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-467">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="56ac6-468">Namespaces: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses></span><span class="sxs-lookup"><span data-stu-id="56ac6-468">Namespaces: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses></span></span>

<span data-ttu-id="56ac6-469">Assemblys: System.Data.Entity (in „System.Data.Entity.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-469">Assemblies: System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="56ac6-470">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-470">Feature</span></span> | <span data-ttu-id="56ac6-471">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-471">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="56ac6-472">**Entitätsobjekte**</span><span class="sxs-lookup"><span data-stu-id="56ac6-472">**Entity objects**</span></span> | <span data-ttu-id="56ac6-473">Es gibt nun Parität zwischen der <xref:System.Data.Objects.ObjectContext.Detach%2A>-Methode und der Status des Entitätsobjekts, wenn der <xref:System.Data.Objects.ObjectContext.SaveChanges%2A>-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-473">There is now parity between the <xref:System.Data.Objects.ObjectContext.Detach%2A> method and the state of the entity object when the <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="56ac6-474">Diese verbesserte Konsistenz verhindert, dass unerwartete Ausnahmen ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-474">This improved consistency prevents unexpected exceptions from being thrown.</span></span> |
| <span data-ttu-id="56ac6-475">**Entity SQL**</span><span class="sxs-lookup"><span data-stu-id="56ac6-475">**Entity SQL**</span></span> | <span data-ttu-id="56ac6-476">Die Regeln für die Auflösung von Bezeichnern in Entity SQL wurden verbessert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-476">Rules have been improved for identifier resolutions in Entity SQL.</span></span><br><br><span data-ttu-id="56ac6-477">Die Logik des Entity SQL-Parsers wurde für das Auflösen von mehrteiligen Bezeichnern verbessert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-477">The Entity SQL parser has improved logic for resolving multipart identifiers.</span></span> |
| <span data-ttu-id="56ac6-478">**Strukturelle Anmerkungen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-478">**Structural annotations**</span></span> | <span data-ttu-id="56ac6-479">Das Entity Framework erkennt jetzt strukturelle Anmerkungen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-479">The Entity Framework now recognizes structural annotations.</span></span> |
| <span data-ttu-id="56ac6-480">**Abfragen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-480">**Queries**</span></span> | <span data-ttu-id="56ac6-481">Die folgenden Verbesserungen wurden in Abfragen vorgenommen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-481">The following improvements were made in queries:</span></span><br><br><span data-ttu-id="56ac6-482">\* Eine `GroupBy`-Abfrage, die einen NULL-Schlüssel statt einer leeren Auflistung verwendet, wird keine Zeilen zurückgeben, unabhängig davon, ob in der Abfrage zusätzliche SELECT-Anweisungen vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="56ac6-482">\* A `GroupBy` query using a null key over an empty collection will not return any rows, regardless if there are any additional selects in the query.</span></span><br><span data-ttu-id="56ac6-483">\* Generierte SQL in LINQ- und Entity SQL-Abfragen behandeln Zeichenfolgenparameter jetzt standardmäßig als Nicht-Unicode-Werte.</span><span class="sxs-lookup"><span data-stu-id="56ac6-483">\* Generated SQL in LINQ and Entity-SQL queries now treat string parameters as non-Unicode values by default.</span></span> |

### <a name="linq-to-sql"></a><span data-ttu-id="56ac6-484">LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="56ac6-484">LINQ to SQL</span></span>

<span data-ttu-id="56ac6-485">Die folgende Tabelle beschreibt die verbesserten Funktionen, die zuvor Einschränkungen oder andere Probleme hatten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-485">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="56ac6-486">Namespace: <xref:System.Data.Linq></span><span class="sxs-lookup"><span data-stu-id="56ac6-486">Namespace: <xref:System.Data.Linq></span></span>

<span data-ttu-id="56ac6-487">Assembly: System.Data.Linq (in „System.Data.Linq.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-487">Assembly: System.Data.Linq (in System.Data.Linq.dll)</span></span>

| <span data-ttu-id="56ac6-488">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-488">Feature</span></span> | <span data-ttu-id="56ac6-489">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-489">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="56ac6-490">**Ereignisse**</span><span class="sxs-lookup"><span data-stu-id="56ac6-490">**Events**</span></span> | <span data-ttu-id="56ac6-491">Eine <xref:System.Data.Linq.EntitySet%601>-Sammlung löst jetzt das Ereignis <xref:System.Data.Linq.EntitySet%601.ListChanged> für die Vorgänge „Hinzufügen“ und „Entfernen“ aus, wenn <xref:System.Data.Linq.EntitySet%601> entladen und die Sammlung geladen wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-491">A <xref:System.Data.Linq.EntitySet%601> collection now raises the <xref:System.Data.Linq.EntitySet%601.ListChanged> event for add and remove operations if the <xref:System.Data.Linq.EntitySet%601> is unloaded, in addition to raising the event when the collection is loaded.</span></span> |
| <span data-ttu-id="56ac6-492">**Abfragen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-492">**Queries**</span></span> | <span data-ttu-id="56ac6-493">`Skip(0)` wird in LINQ to SQL-Abfragen nicht mehr ignoriert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-493">`Skip(0)` is no longer ignored in LINQ to SQL queries.</span></span> <span data-ttu-id="56ac6-494">Abfragen, die diese Methode verwenden, können sich daher anders verhalten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-494">As a result, queries that have this method might behave differently.</span></span> <span data-ttu-id="56ac6-495">In einigen Fällen ist eine `OrderBy`-Klausel mit `Skip(0)` erforderlich, und die Abfrage löst jetzt eine <xref:System.NotSupportedException>-Ausnahme aus, wenn die `OrderBy`-Klausel nicht enthalten war.</span><span class="sxs-lookup"><span data-stu-id="56ac6-495">For example, in some cases, an `OrderBy` clause is required with `Skip(0)`, and the query will now throw a <xref:System.NotSupportedException> exception if the `OrderBy` clause was not included.</span></span> |

### <a name="wcf-data-services"></a><span data-ttu-id="56ac6-496">WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="56ac6-496">WCF Data Services</span></span>

<span data-ttu-id="56ac6-497">Die folgende Tabelle beschreibt die verbesserten Funktionen, die zuvor Einschränkungen oder andere Probleme hatten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-497">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="56ac6-498">Namespaces: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers></span><span class="sxs-lookup"><span data-stu-id="56ac6-498">Namespaces: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers></span></span>

<span data-ttu-id="56ac6-499">Assemblys: System.Data.Services (in „System.Data.Services.dll“), System.Data.Services.Client (in „System.Data.Services.Client.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-499">Assemblies: System.Data.Services (in System.Data.Services.dll), System.Data.Services.Client (in System.Data.Services.Client.dll)</span></span>

| <span data-ttu-id="56ac6-500">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-500">Feature</span></span> | <span data-ttu-id="56ac6-501">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-501">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="56ac6-502">**Binärer Batchinhalt**</span><span class="sxs-lookup"><span data-stu-id="56ac6-502">**Batched Binary Content**</span></span> | <span data-ttu-id="56ac6-503">WCF Data Services unterstützt jetzt binären Batchinhalt in Anforderungen und-Antworten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-503">WCF Data Services now supports batched binary content in requests and responses.</span></span> |
| <span data-ttu-id="56ac6-504">**Change-Interceptors**</span><span class="sxs-lookup"><span data-stu-id="56ac6-504">**Change interceptors**</span></span> | <span data-ttu-id="56ac6-505">Change-Interceptors werden nun für eine DELETE-Anforderung ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-505">Change interceptors are now executed for a delete request.</span></span><br><br><span data-ttu-id="56ac6-506">Ein Change-Interceptor ist eine Methode, die immer ausgeführt wird, wenn der Server die Anforderung empfängt, eine Entität in der Entitätenmenge zu ändern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-506">A change interceptor is a method that runs every time a request is received by the server to modify an entity in the entity set.</span></span> <span data-ttu-id="56ac6-507">Er wird ausgeführt, bevor die eingehende Anforderung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-507">It runs before the incoming request is executed.</span></span> <span data-ttu-id="56ac6-508">Der Change-Interceptor ermöglicht den Zugriff auf die Entität, die geändert wird, und den Vorgang, der ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-508">The change interceptor provides access to the entity that is being changed and the operation that is being performed on it.</span></span> |
| <span data-ttu-id="56ac6-509">**Ausnahmen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-509">**Exceptions**</span></span> | <span data-ttu-id="56ac6-510">Die folgenden Bedingungen lösen nun nützlichere Ausnahmen statt einer <xref:System.NullReferenceException> aus:</span><span class="sxs-lookup"><span data-stu-id="56ac6-510">The following conditions now throw more useful exceptions instead of a <xref:System.NullReferenceException>:</span></span><br><br><span data-ttu-id="56ac6-511">\* Eine <xref:System.ServiceProcess.TimeoutException>, wenn beim Aufruf eines Datendiensts ein Timeout eintritt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-511">\* A <xref:System.ServiceProcess.TimeoutException> when a call to a data service times out.</span></span><br><span data-ttu-id="56ac6-512">\* Eine <xref:System.Data.Services.Client.DataServiceRequestException>, wenn eine ungültige Anforderung an einen Datendienst erfolgt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-512">\* A <xref:System.Data.Services.Client.DataServiceRequestException> when a bad request is made to a data service.</span></span><br><br><span data-ttu-id="56ac6-513">Sie sollten in Ihren Anwendungen die Behandlung von Ausnahmen ändern, um die neue Ausnahmen abzufangen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-513">In your applications, you should change exception handling to catch the new exceptions.</span></span> |
| <span data-ttu-id="56ac6-514">**Header**</span><span class="sxs-lookup"><span data-stu-id="56ac6-514">**Headers**</span></span> | <span data-ttu-id="56ac6-515">Die folgenden Verbesserungen wurden in Headern vorgenommen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-515">The following improvements were made to headers:</span></span><br><br><span data-ttu-id="56ac6-516">\* WCF Data Services lehnt einen `eTag`-Header, der einen nicht angegebenen Wert enthält, nun ordnungsgemäß ab.</span><span class="sxs-lookup"><span data-stu-id="56ac6-516">\* WCF Data Services now correctly rejects an `eTag` header that has an unspecified value.</span></span><br><span data-ttu-id="56ac6-517">\* WCF Data Services gibt nun einen Fehler zurück und führt die Anforderung für eine DELETE-Anforderung zu einem Link nicht aus, wenn die Anforderung einen `if-*`-Header enthält.</span><span class="sxs-lookup"><span data-stu-id="56ac6-517">\* WCF Data Services now returns an error and does not execute the request for a delete request to a link when an `if-*` header is in the request.</span></span><br><span data-ttu-id="56ac6-518">\* WCF Data Services gibt nun an den Client einen Fehler im Format (Atom, JSON) zurück, das der Client im Accept-Header angegeben hat.</span><span class="sxs-lookup"><span data-stu-id="56ac6-518">\* WCF Data Services now returns an error to the client in the format (Atom, JSON) that the client specified in the Accept header.</span></span> |
| <span data-ttu-id="56ac6-519">**JSON-Reader**</span><span class="sxs-lookup"><span data-stu-id="56ac6-519">**JSON Reader**</span></span> | <span data-ttu-id="56ac6-520">Der JavaScript Object Notation-Reader (JSON) gibt jetzt beim Lesen ordnungsgemäß einen Fehler zurück, wenn beim Verarbeiten von JSON-Nutzlasten, die an einen WCF Data Service gesendet wurden, ein einzelnes Escapezeichen, d.h. der umgekehrter Schrägstrich (\\) gelesen wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-520">The JavaScript Object Notation (JSON) reader now correctly returns an error when it reads the single backslash ("\\") escape character, when it processes JSON payloads sent to a WCF Data Service.</span></span> |
| <span data-ttu-id="56ac6-521">**Merges**</span><span class="sxs-lookup"><span data-stu-id="56ac6-521">**Merges**</span></span> | <span data-ttu-id="56ac6-522">Die folgenden Verbesserungen wurden an der <xref:System.Data.Services.Client.MergeOption>-Enumeration vorgenommen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-522">The following improvements were made to the <xref:System.Data.Services.Client.MergeOption> enumeration:</span></span><br><br><span data-ttu-id="56ac6-523">\* Die Mergeoption <xref:System.Data.Services.Client.MergeOption> ändert als Ergebnis einer nachfolgenden Antwort von einem Datendienst nicht mehr die Entität auf dem Client.</span><span class="sxs-lookup"><span data-stu-id="56ac6-523">\* The <xref:System.Data.Services.Client.MergeOption> merge option no longer modifies the entity on the client as a result of any subsequent response from a data service.</span></span><br><span data-ttu-id="56ac6-524">\* Die Option <xref:System.Data.Services.Client.MergeOption> ist jetzt in dynamischen SQL-Anweisungen und in Updates, die auf gespeicherten Prozeduren basieren, konsistent.</span><span class="sxs-lookup"><span data-stu-id="56ac6-524">\* The <xref:System.Data.Services.Client.MergeOption> option is now consistent between dynamic SQL and stored procedure-based updates.</span></span> |
| <span data-ttu-id="56ac6-525">**Anforderungen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-525">**Requests**</span></span> | <span data-ttu-id="56ac6-526">Die Methode <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> wird jetzt aufgerufen, bevor eine Anforderung an Datendienste verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-526">The <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> method is now called before a request to data services is processed.</span></span> <span data-ttu-id="56ac6-527">Dadurch funktioniert die Anforderung ordnungsgemäß für <xref:System.Data.Services.Providers.ServiceOperation>-Dienste.</span><span class="sxs-lookup"><span data-stu-id="56ac6-527">This enables the request to work correctly for <xref:System.Data.Services.Providers.ServiceOperation> services.</span></span> |
| <span data-ttu-id="56ac6-528">**Streams**</span><span class="sxs-lookup"><span data-stu-id="56ac6-528">**Streams**</span></span> | <span data-ttu-id="56ac6-529">WCF Data Services schließt nicht mehr den zugrunde liegenden Stream für Lese- und Schreibvorgänge.</span><span class="sxs-lookup"><span data-stu-id="56ac6-529">WCF Data Services no longer closes the underlying stream for read and write operations.</span></span> |
| <span data-ttu-id="56ac6-530">**URIs**</span><span class="sxs-lookup"><span data-stu-id="56ac6-530">**URIs**</span></span> | <span data-ttu-id="56ac6-531">Escapevorgänge des WCF Data Services-Clients für URIs wurde korrigiert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-531">The escaping of URIs by WCF Data Services client has been corrected.</span></span> |

## <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="56ac6-532">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="56ac6-532">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="56ac6-533">Die folgende Tabelle beschreibt die verbesserten Funktionen, die zuvor Einschränkungen oder andere Probleme hatten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-533">The following table describes improvements to features that previously had limitations or other issues.</span></span>

| <span data-ttu-id="56ac6-534">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-534">Feature</span></span> | <span data-ttu-id="56ac6-535">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-535">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="56ac6-536">**Konfigurationsdateien**</span><span class="sxs-lookup"><span data-stu-id="56ac6-536">**Configuration files**</span></span> | <span data-ttu-id="56ac6-537">Um die Vererbung von Verhalten über die Hierarchie der Konfigurationsdatei zu aktivieren, unterstützt WCF jetzt das konfigurationsdateiübergreifende Zusammenführen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-537">To enable inheritance of behaviors through the configuration file hierarchy, WCF now supports merging across configuration files.</span></span><br><br><span data-ttu-id="56ac6-538">Das Vererbungsmodell für die Konfiguration wurde erweitert, sodass Benutzer Verhalten definieren können, die auf alle Dienste auf dem Computer angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-538">The configuration inheritance model is now expanded to let users define behaviors that will be applied to all the services that are running on the computer.</span></span><br><br><span data-ttu-id="56ac6-539">Es kann zu Verhaltensänderungen kommen, wenn es auf unterschiedlichen Hierarchieebenen Verhalten mit demselben Namen gibt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-539">You may encounter behavioral changes if there are behaviors with the same name at different levels of the hierarchy.</span></span> |
| <span data-ttu-id="56ac6-540">**Diensthosting**</span><span class="sxs-lookup"><span data-stu-id="56ac6-540">**Service hosting**</span></span> | <span data-ttu-id="56ac6-541">Sie können das Konfigurationselement `<serviceHostingEnvironment>` nicht mehr auf Dienstebene angeben, indem Sie der Elementdefinition das Attribut `allowDefinition="MachineToApplication"` hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-541">You can no longer specify the `<serviceHostingEnvironment>` configuration element at the service level by adding the attribute `allowDefinition="MachineToApplication"` to the element definition.</span></span><br><br><span data-ttu-id="56ac6-542">Das Element `<serviceHostingEnvironment>` auf Dienstebene anzugeben, ist technisch falsch und führt zu inkonsistentem Verhalten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-542">Specifying the `<serviceHostingEnvironment>` element at the service level is technically incorrect and causes inconsistent behavior.</span></span> |

## <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="56ac6-543">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="56ac6-543">Windows Presentation Foundation (WPF)</span></span>

### <a name="applications"></a><span data-ttu-id="56ac6-544">Anwendungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-544">Applications</span></span>

<span data-ttu-id="56ac6-545">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls></span><span class="sxs-lookup"><span data-stu-id="56ac6-545">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls></span></span>

<span data-ttu-id="56ac6-546">Assemblys: PresentationFramework (in „PresentationFramework.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-546">Assemblies: PresentationFramework (in PresentationFramework.dll)</span></span>

| <span data-ttu-id="56ac6-547">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-547">Feature</span></span> | <span data-ttu-id="56ac6-548">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-548">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-549">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-549">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-550">**Ausnahmebehandlung**</span><span class="sxs-lookup"><span data-stu-id="56ac6-550">**Exception handling**</span></span> | <span data-ttu-id="56ac6-551">Damit Fehler früher erkannt werden können, löst WPF eine <xref:System.Reflection.TargetInvocationException> aus und legt die Eigenschaft <xref:System.Exception.InnerException> auf kritische Ausnahmen wie <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException> und <xref:System.Security.SecurityException> fest, anstatt die ursprüngliche Ausnahme abzufangen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-551">To enable errors to be detected earlier, WPF throws a <xref:System.Reflection.TargetInvocationException> and sets the <xref:System.Exception.InnerException> property to critical exceptions, such as <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>, and <xref:System.Security.SecurityException>, instead of catching the original exception.</span></span> | <span data-ttu-id="56ac6-552">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-552">None.</span></span> |
| <span data-ttu-id="56ac6-553">**Verknüpfte Ressourcen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-553">**Linked resources**</span></span> | <span data-ttu-id="56ac6-554">Um das Verknüpfen zu vereinfachen, verwenden Ressourcendateien (z.B. Images), die sich an einem anderen Speicherort als der Ordnerstruktur des Projekts befinden, bei der Erstellung der Anwendung den vollständigen Pfad der Ressourcendatei anstelle des Dateinamens als Ressourcen-ID.</span><span class="sxs-lookup"><span data-stu-id="56ac6-554">To make linking easier, resource files (such as images) that are located in a location other than the project's folder structure use the resource file's full path instead of just its file name as the resource ID when the application is built.</span></span> <span data-ttu-id="56ac6-555">So kann die Anwendung die Dateien zur Laufzeit finden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-555">The application will be able to locate the files at run time.</span></span> | <span data-ttu-id="56ac6-556">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-556">None.</span></span> |
| <span data-ttu-id="56ac6-557">**Teilweise vertrauenswürdige Anwendungen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-557">**Partial-trust applications**</span></span> | <span data-ttu-id="56ac6-558">Aus Sicherheitsgründen lösen Windows-basierte, teilweise vertrauenswürdige Anwendungen, die die Steuerelemente <xref:System.Windows.Controls.WebBrowser> oder <xref:System.Windows.Controls.Frame> mit HTML enthalten, bei der Erstellung des Steuerelements eine <xref:System.Security.SecurityException> aus.</span><span class="sxs-lookup"><span data-stu-id="56ac6-558">For security considerations, Windows-based applications that run in partial trust and contain a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML will throw a <xref:System.Security.SecurityException> when the control is created.</span></span><br><br><span data-ttu-id="56ac6-559">Browseranwendungen lösen eine Ausnahme aus und zeigen eine Meldung an, wenn alle der folgenden Bedingungen erfüllt sind:</span><span class="sxs-lookup"><span data-stu-id="56ac6-559">Browser applications will throw an exception and display a message if all of the following conditions are met:</span></span><br><br><span data-ttu-id="56ac6-560">\* Die Anwendung wird in Firefox ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-560">\* The application is running in Firefox.</span></span><br><span data-ttu-id="56ac6-561">\* Die teilweise vertrauenswürdige Anwendung wird in der Internetzone von nicht vertrauenswürdigen Standorten ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-561">\* The application is running in partial trust in the Internet zone from non-trusted sites.</span></span><br><span data-ttu-id="56ac6-562">\* Die Anwendung enthält ein <xref:System.Windows.Controls.WebBrowser>- oder <xref:System.Windows.Controls.Frame>-Steuerelement, das HTML enthält.</span><span class="sxs-lookup"><span data-stu-id="56ac6-562">\* The application contains a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML.</span></span><br><br><span data-ttu-id="56ac6-563">Anwendungen, die an vertrauenswürdigen Standorten oder in der Intranetzone ausgeführt werden, sind nicht betroffen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-563">Applications that run from trusted sites or from the intranet zone will not be affected.</span></span> | <span data-ttu-id="56ac6-564">Sie können die Auswirkungen dieser Änderung in Ihren Browseranwendungen wie folgt abschwächen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-564">In your browser applications, you can ease this change by doing one of the following:</span></span><br><br><span data-ttu-id="56ac6-565">\* Führen Sie die Browseranwendung als voll vertrauenswürdig aus.</span><span class="sxs-lookup"><span data-stu-id="56ac6-565">\* Run the browser application in full trust.</span></span><br><span data-ttu-id="56ac6-566">\* Fordern Sie Ihre Kunden auf, den Standort der Anwendung der Zone der vertrauenswürdigen Standorte hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-566">\* Have customers add the application's site to the trusted sites zone.</span></span><br><span data-ttu-id="56ac6-567">\* Fordern Sie Ihre Kunden auf, die Anwendung in Internet Explorer auszuführen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-567">\* Have customers run the application in Internet Explorer.</span></span> |
| <span data-ttu-id="56ac6-568">**Ressourcenverzeichnisse**</span><span class="sxs-lookup"><span data-stu-id="56ac6-568">**Resource dictionaries**</span></span> | <span data-ttu-id="56ac6-569">Um Ressourcenverzeichnis auf der Designebene zu verbessern und zu verhindern, dass sie geändert werden, werden sperrbare Ressourcen, die in einem Ressourcenverzeichnis definiert und in ein Verzeichnis auf der Designebene zusammengeführt wurden, jetzt immer als gesperrt markiert und sind damit unveränderlich.</span><span class="sxs-lookup"><span data-stu-id="56ac6-569">To improve theme-level resource dictionaries and prevent them from changing, freezable resources that are defined in a resource dictionary and merged into a theme-level dictionary are now always marked as frozen and are immutable.</span></span> <span data-ttu-id="56ac6-570">Dies ist das erwartete Verhalten von sperrbaren Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-570">This is the expected behavior for freezable resources.</span></span> | <span data-ttu-id="56ac6-571">Anwendungen, die eine in einem zusammengeführten Verzeichnis auf der Designebene definierte Ressource ändern, sollten die Ressource klonen und die geklonte Kopie ändern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-571">Applications that modify a resource that is defined in a theme-level merged dictionary should clone the resource and modify the cloned copy.</span></span> <span data-ttu-id="56ac6-572">Alternativ haben Sie die Möglichkeit, die Ressource als `x:Shared="false"` zu kennzeichnen, damit <xref:System.Windows.ResourceDictionary> bei jeder Abfrage der Ressource eine neue Kopie erstellt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-572">Alternatively, the resource can be marked `x:Shared="false"` so that the <xref:System.Windows.ResourceDictionary> creates a new copy every time the resource is queried.</span></span> |
| <span data-ttu-id="56ac6-573">**Windows 7**</span><span class="sxs-lookup"><span data-stu-id="56ac6-573">**Windows 7**</span></span> | <span data-ttu-id="56ac6-574">Damit WPF-Anwendungen besser unter Windows 7 funktionieren, wurden die folgenden Verbesserungen vorgenommen, um das Verhalten eines Fensters zu korrigieren:</span><span class="sxs-lookup"><span data-stu-id="56ac6-574">To make WPF applications work better on Windows 7, the following improvements were made to correct the behavior of a window:</span></span><br><br><span data-ttu-id="56ac6-575">\* Zustände beim Andocken und bei Gesten funktionieren jetzt wie entsprechend der Benutzerinteraktionen erwartet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-575">\* Dock and gesture states now work as expected based on user interactions.</span></span><br><span data-ttu-id="56ac6-576">\* Die Taskleistenbefehle **Überlappend, Fenster gestapelt anzeigen** und **Fenster nebeneinander anzeigen** zeigen jetzt das richtige Verhalten und aktualisieren die richtigen Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="56ac6-576">\* The taskbar commands **Cascade windows, Show windows stacked**, and **Show windows side-by-side** now have the correct behavior and update the appropriate properties.</span></span><br><span data-ttu-id="56ac6-577">\* Die Eigenschaften `Top`, `Left`, `Width` und `Height` für maximierte oder minimierte Fenster enthalten jetzt je nach Monitor den richtigen Wiederherstellungsort des Fensters statt anderer Werte.</span><span class="sxs-lookup"><span data-stu-id="56ac6-577">\* The `Top`, `Left`, `Width`, and `Height` properties for a maximized or minimized window now contain the correct restore location of the window instead of other values, depending on the monitor.</span></span> | <span data-ttu-id="56ac6-578">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-578">None.</span></span> |
| <span data-ttu-id="56ac6-579">**Fensteranordnung und -transparenz**</span><span class="sxs-lookup"><span data-stu-id="56ac6-579">**Windows style and transparency**</span></span> | <span data-ttu-id="56ac6-580">Wenn Sie versuchen, <xref:System.Windows.Window.WindowStyle> auf einen anderen Wert als <xref:System.Windows.WindowStyle> festzulegen, wenn <xref:System.Windows.Window.AllowsTransparency>`true` und <xref:System.Windows.WindowState> sich selbst, also <xref:System.Windows.WindowState> entspricht, wird <xref:System.InvalidOperationException> ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="56ac6-580">An <xref:System.InvalidOperationException> is thrown if you try to set <xref:System.Windows.Window.WindowStyle> to a value other than <xref:System.Windows.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true` and <xref:System.Windows.WindowState> is <xref:System.Windows.WindowState>.</span></span> | <span data-ttu-id="56ac6-581">Wenn Sie <xref:System.Windows.Window.WindowStyle> ändern müssen und <xref:System.Windows.Window.AllowsTransparency>`true` entspricht, können Sie die Win32-`SetWindowLongPtr`-Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-581">If you must change the <xref:System.Windows.Window.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true`, you can call the Win32 `SetWindowLongPtr` function.</span></span> |
| <span data-ttu-id="56ac6-582">**XPS-Viewer**</span><span class="sxs-lookup"><span data-stu-id="56ac6-582">**XPS Viewer**</span></span> | <span data-ttu-id="56ac6-583">WPF enthält das Microsoft XML Paper Specification Essentials Pack (XPSEP) nicht.</span><span class="sxs-lookup"><span data-stu-id="56ac6-583">WPF does not include the Microsoft XML Paper Specification Essentials Pack (XPSEP).</span></span> <span data-ttu-id="56ac6-584">XPSEP nur ist im Lieferumfang von Windows 7 und Windows Vista enthalten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-584">XPSEP is included with Windows 7 and Windows Vista.</span></span><br><br><span data-ttu-id="56ac6-585">Auf einem Computer unter Windows XP, auf dem .NET Framework 3.5 SP1 nicht installiert ist, wird für das Drucken über eine andere WPF-API als der in <xref:System.Windows.Controls.PrintDialog> WINSPOOL verwendet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-585">On a computer that is running Windows XP without .NET Framework 3.5 SP1 installed, printing by using a WPF API other than those in <xref:System.Windows.Controls.PrintDialog> will rely on the WINSPOOL.</span></span> <span data-ttu-id="56ac6-586">Einige Funktionen des Druckers werden nicht gemeldet, und einige Druckereinstellungen werden nicht während des Druckens angewendet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-586">Some printer capabilities will not be reported and some printer settings will not be applied during printing.</span></span> | <span data-ttu-id="56ac6-587">Installieren Sie bei Bedarf das [Microsoft XML Paper Specification Essentials Pack](https://www.microsoft.com/en-us/download/details.aspx?id=11816).</span><span class="sxs-lookup"><span data-stu-id="56ac6-587">If needed, install the [Microsoft XML Paper Specification Essentials Pack](https://www.microsoft.com/en-us/download/details.aspx?id=11816).</span></span> |

### <a name="controls"></a><span data-ttu-id="56ac6-588">Steuerelemente</span><span class="sxs-lookup"><span data-stu-id="56ac6-588">Controls</span></span>

<span data-ttu-id="56ac6-589">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="56ac6-589">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="56ac6-590">Assemblys: PresentationFramework (in „PresentationFramework.dll“), PresentationCore (in „PresentationCore.dll“), WindowsBase (in „WindowsBase.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-590">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="56ac6-591">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-591">Feature</span></span> | <span data-ttu-id="56ac6-592">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-592">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-593">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-593">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-594">**Dialogfelder**</span><span class="sxs-lookup"><span data-stu-id="56ac6-594">**Dialog boxes**</span></span> | <span data-ttu-id="56ac6-595">Zur Verbesserung der Zuverlässigkeit wird die Methode <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> im gleichen Thread aufgerufen, der erstellt das <xref:Microsoft.Win32.FileDialog>-Steuerelement erstellt hat.</span><span class="sxs-lookup"><span data-stu-id="56ac6-595">To improve reliability, the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method is called on the same thread that created the <xref:Microsoft.Win32.FileDialog> control.</span></span> | <span data-ttu-id="56ac6-596">Achten Sie darauf, ein <xref:Microsoft.Win32.FileDialog>-Steuerelement zu erstellen, und rufen Sie die Methode <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> im gleichen Thread auf.</span><span class="sxs-lookup"><span data-stu-id="56ac6-596">Be sure to create a <xref:Microsoft.Win32.FileDialog> control and call the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method on the same thread.</span></span> |
| <span data-ttu-id="56ac6-597">**Unverankerte Fenster**</span><span class="sxs-lookup"><span data-stu-id="56ac6-597">**Floating windows**</span></span> | <span data-ttu-id="56ac6-598">Um die Logik für die Fokuswiederherstellung zu beheben, die fälschlicherweise kontinuierlich ein unverankertes Fenster reaktiviert (und es wie ein modales Dialogfeld anzeigt), wird sie jetzt an der Wiederherstellung gehindert, wenn der Kandidat kein untergeordnetes Element des Fensters ist.</span><span class="sxs-lookup"><span data-stu-id="56ac6-598">To fix focus restoration logic that incorrectly keeps reactivating a floating window (making it appear like a modal dialog box), focus restoration is now prevented if the candidate is not a child of the window.</span></span> | <span data-ttu-id="56ac6-599">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-599">None.</span></span> |
| <span data-ttu-id="56ac6-600">**Elemente in Auflistungen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-600">**Items in collections**</span></span> | <span data-ttu-id="56ac6-601">Wenn ein Element verschoben oder einer zugrunde liegenden Auflistung hinzugefügt wird, erscheint es in <xref:System.Windows.Data.CollectionView> am gleichen relativen Speicherort, wenn <xref:System.Windows.Data.CollectionView> nicht sortiert ist.</span><span class="sxs-lookup"><span data-stu-id="56ac6-601">When an item is moved or added to an underlying collection, it appears in the <xref:System.Windows.Data.CollectionView> in the same relative location if the <xref:System.Windows.Data.CollectionView> is not sorted.</span></span> <span data-ttu-id="56ac6-602">So wird die Konsistenz zwischen der Position des Elements in der Auflistung und der zugeordneten <xref:System.Windows.Data.CollectionView> gewahrt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-602">This provides consistency between the item's position in the collection and in the associated <xref:System.Windows.Data.CollectionView>.</span></span> | <span data-ttu-id="56ac6-603">Verwenden Sie bei der Suche nach dem Speicherort eines Elements in einer <xref:System.Windows.Data.CollectionView> statt einer festen Position die Methoden <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> oder <xref:System.Windows.Data.CollectionView.IndexOf%2A>.</span><span class="sxs-lookup"><span data-stu-id="56ac6-603">Use the <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> or <xref:System.Windows.Data.CollectionView.IndexOf%2A> method to find the location of an item in a <xref:System.Windows.Data.CollectionView> instead of relying on a fixed location of an item.</span></span> |
| <span data-ttu-id="56ac6-604">**Layouts**</span><span class="sxs-lookup"><span data-stu-id="56ac6-604">**Layouts**</span></span> | <span data-ttu-id="56ac6-605">Um unnötiges erneutes Anordnen zu vermeiden, setzt das Ändern von <xref:System.Windows.Controls.Page.ShowsNavigationUI> nicht mehr das Layout außer Kraft und ruft keinen weiteren Layoutdurchlauf hervor.</span><span class="sxs-lookup"><span data-stu-id="56ac6-605">To eliminate unnecessary re-layouts, changing the <xref:System.Windows.Controls.Page.ShowsNavigationUI> no longer invalidates layout or causes another layout pass.</span></span> | <span data-ttu-id="56ac6-606">Wenn Sie davon ausgehen, dass Änderungen an <xref:System.Windows.Controls.Page.ShowsNavigationUI> zu einem weiteren Layoutdurchlauf führen, rufen Sie nach dem Festlegen der Eigenschaft <xref:System.Windows.UIElement.InvalidateVisual%2A> auf.</span><span class="sxs-lookup"><span data-stu-id="56ac6-606">If you expect that changing <xref:System.Windows.Controls.Page.ShowsNavigationUI> will cause another layout pass, call <xref:System.Windows.UIElement.InvalidateVisual%2A> after you set the property.</span></span> |
| <span data-ttu-id="56ac6-607">**Menüs**</span><span class="sxs-lookup"><span data-stu-id="56ac6-607">**Menus**</span></span> | <span data-ttu-id="56ac6-608">Um ClearType-Text in Menü-Popupelementen zu aktivieren, wurden Änderungen an der <xref:System.Windows.Controls.ControlTemplate>-Klasse, dem <xref:System.Windows.Controls.MenuItem>-Steuerelement und anderen Steuerelementen vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-608">To enable ClearType text in menu pop-ups, modifications were made to the <xref:System.Windows.Controls.ControlTemplate> class and to the <xref:System.Windows.Controls.MenuItem> control and other controls.</span></span> | <span data-ttu-id="56ac6-609">Anwendungen sollten nicht die visuelle Struktur von Steuerelementvorlagen verwenden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-609">Applications should not rely on the visual structure of control templates.</span></span> <span data-ttu-id="56ac6-610">Nur benannte Teile einer <xref:System.Windows.Controls.ControlTemplate> sind Teil des öffentlichen Vertrags.</span><span class="sxs-lookup"><span data-stu-id="56ac6-610">Only named parts of a <xref:System.Windows.Controls.ControlTemplate> are part of the public contract.</span></span> <span data-ttu-id="56ac6-611">Wenn eine Anwendung ein bestimmtes Objekt in einer <xref:System.Windows.Controls.ControlTemplate> suchen muss, suchen Sie in der visuellen Struktur nach einem bestimmten Typ statt nach einer festen Position eines Objekts in der Struktur.</span><span class="sxs-lookup"><span data-stu-id="56ac6-611">If an application must find a certain object in a <xref:System.Windows.Controls.ControlTemplate>, search the visual tree for a specific type instead of relying on a fixed location of an object in the tree.</span></span> |
| <span data-ttu-id="56ac6-612">**Navigation**</span><span class="sxs-lookup"><span data-stu-id="56ac6-612">**Navigating**</span></span> | <span data-ttu-id="56ac6-613">Wenn ein <xref:System.Windows.Controls.Frame> direkt zu einem Speicherort navigiert, entspricht die Eigenschaft <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> nach der ursprünglichen Navigation `true`.</span><span class="sxs-lookup"><span data-stu-id="56ac6-613">If a <xref:System.Windows.Controls.Frame> directly navigates to a location, the <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> property is `true` after the initial navigation.</span></span> <span data-ttu-id="56ac6-614">Diese Änderung verhindert, dass während Startszenarios zusätzliche Ereignisse ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-614">This change prevents additional events from being raised during startup scenarios.</span></span> | <span data-ttu-id="56ac6-615">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-615">None.</span></span> |
| <span data-ttu-id="56ac6-616">**Popupelemente**</span><span class="sxs-lookup"><span data-stu-id="56ac6-616">**Pop-ups**</span></span> | <span data-ttu-id="56ac6-617">Der Delegat <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> kann jetzt während einem Layoutdurchlauf mehrfach aufgerufen werden, statt nur einmal.</span><span class="sxs-lookup"><span data-stu-id="56ac6-617">The <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate can now be called multiple times during a layout pass instead of only once.</span></span> | <span data-ttu-id="56ac6-618">Wenn Ihr <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback>-Delegat die Position von einem <xref:System.Windows.Controls.Primitives.Popup> auf Grundlage seiner vorherigen Position berechnet, berechnen Sie die Position nur neu, wenn sich die Werte der Parameter `popupSize`, `targetSize` oder `offset` ändern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-618">If your <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate calculates the position of a <xref:System.Windows.Controls.Primitives.Popup> based on its previous position, recalculate the position only if the values of the `popupSize`, `targetSize`, or `offset` parameters change.</span></span> |
| <span data-ttu-id="56ac6-619">**Eigenschaftswerte**</span><span class="sxs-lookup"><span data-stu-id="56ac6-619">**Property values**</span></span> | <span data-ttu-id="56ac6-620">Mit der Methode <xref:System.Windows.DependencyObject.SetCurrentValue%2A> lässt sich nun eine Eigenschaft auf einen effektiven Wert festlegen, obwohl auch weiterhin alle Bindungen, Stile oder Trigger berücksichtigt werden, die sich auf die Eigenschaft auswirken.</span><span class="sxs-lookup"><span data-stu-id="56ac6-620">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method now lets you set a property to an effective value, although it continues to respect any binding, style, or trigger that affects the property.</span></span> | <span data-ttu-id="56ac6-621">Autoren von Steuerelementen sollten immer dann <xref:System.Windows.DependencyObject.SetCurrentValue%2A> verwenden, wenn sich der Eigenschaftswert infolge einer anderen Aktion wie der Bearbeitung durch Benutzer ändert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-621">Control authors should use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> whenever the property value changes as a side-effect of some other action, including user manipulation.</span></span> |
| <span data-ttu-id="56ac6-622">**Textfelder**</span><span class="sxs-lookup"><span data-stu-id="56ac6-622">**Text boxes**</span></span> | <span data-ttu-id="56ac6-623">Aus Sicherheitsgründen schlagen die Methoden <xref:System.Windows.Forms.TextBoxBase.Copy%2A> und <xref:System.Windows.Forms.TextBoxBase.Cut%2A> ohne Meldung fehl, wenn sie bei partieller Vertrauenswürdigkeit aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-623">For security considerations, the <xref:System.Windows.Forms.TextBoxBase.Copy%2A> and <xref:System.Windows.Forms.TextBoxBase.Cut%2A> methods silently fail when they are called in partial trust.</span></span><br><br><span data-ttu-id="56ac6-624">Darüber hinaus wird die programmgesteuerte Ausführung der Eigenschaften <xref:System.Windows.Input.ApplicationCommands.Copy> oder <xref:System.Windows.Input.ApplicationCommands.Cut> für ein Steuerelement, das von <xref:System.Windows.Controls.Primitives.TextBoxBase> erbt, bei partieller Vertrauenswürdigkeit blockiert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-624">In addition, programmatic execution of the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> property on a control that inherits from <xref:System.Windows.Controls.Primitives.TextBoxBase> will be blocked in partial trust.</span></span> <span data-ttu-id="56ac6-625">Die von Benutzern initiierten Befehle „Kopieren“ und „Ausschneiden“ wie das Klicken auf eine Schaltfläche, deren <xref:System.Windows.Controls.Primitives.ButtonBase.Command>-Eigenschaft an einen dieser Befehle gebunden ist, funktionieren.</span><span class="sxs-lookup"><span data-stu-id="56ac6-625">However, user-initiated copy and cut commands, such as clicking a button whose <xref:System.Windows.Controls.Primitives.ButtonBase.Command> property is bound to one of these commands, will work.</span></span> <span data-ttu-id="56ac6-626">Die Ausführung standardmäßiger Kopier- und Ausschneidebefehle über Tastenkombinationen und das Kontextmenü funktioniert weiterhin bei partieller Vertrauenswürdigkeit wie zuvor.</span><span class="sxs-lookup"><span data-stu-id="56ac6-626">Standard copy and cut through keyboard shortcuts and the context menu will still work as before in partial trust.</span></span> | <span data-ttu-id="56ac6-627">Binden Sie die Befehle <xref:System.Windows.Input.ApplicationCommands.Copy> oder <xref:System.Windows.Input.ApplicationCommands.Cut> an eine von Benutzern initiierte Aktion, z.B. an das Klicken auf eine Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="56ac6-627">Bind the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> command to a user-initiated action, such as clicking a button.</span></span> |

### <a name="graphics"></a><span data-ttu-id="56ac6-628">Grafik</span><span class="sxs-lookup"><span data-stu-id="56ac6-628">Graphics</span></span>

<span data-ttu-id="56ac6-629">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects></span><span class="sxs-lookup"><span data-stu-id="56ac6-629">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects></span></span>

<span data-ttu-id="56ac6-630">Assemblys: PresentationFramework (in „PresentationFramework.dll“), PresentationCore (in „PresentationCore.dll“), WindowsBase (in „WindowsBase.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-630">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="56ac6-631">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-631">Feature</span></span> | <span data-ttu-id="56ac6-632">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-632">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-633">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-633">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-634">**Bitmapeffekte**</span><span class="sxs-lookup"><span data-stu-id="56ac6-634">**Bitmap effects**</span></span> | <span data-ttu-id="56ac6-635">Zur Verbesserung der Leistung wurden die <xref:System.Windows.Media.Effects.BitmapEffect>-Klasse und die Klassen, die von der <xref:System.Windows.Media.Effects.BitmapEffect>-Klasse erben, deaktiviert, obwohl sie weiterhin vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="56ac6-635">To improve performance, the <xref:System.Windows.Media.Effects.BitmapEffect> class and the classes that inherit from the <xref:System.Windows.Media.Effects.BitmapEffect> class, although still present, are disabled.</span></span> <span data-ttu-id="56ac6-636">Der Effekt wird mit der hardwarebeschleunigten Renderingpipeline gerendert, wenn Folgendes zutrifft:</span><span class="sxs-lookup"><span data-stu-id="56ac6-636">The effect will render by using the hardware-accelerated rendering pipeline if the following conditions are true:</span></span><br><br><span data-ttu-id="56ac6-637">\* Die Anwendung verwendet einen <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> oder <xref:System.Windows.Media.Effects.BlurBitmapEffect>, dessen Radius-Eigenschaft auf weniger als 100 DIU festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="56ac6-637">\* The application uses a <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> or a <xref:System.Windows.Media.Effects.BlurBitmapEffect> that has a radius property set less than 100 DIU.</span></span><br><span data-ttu-id="56ac6-638">\* Die Grafikkarte des Computers, auf dem die Anwendung ausgeführt wird, unterstützt Pixelshader 2.0.</span><span class="sxs-lookup"><span data-stu-id="56ac6-638">\* The video card on the computer that runs the application supports pixel shader 2.0.</span></span><br><br><span data-ttu-id="56ac6-639">Wenn diese Bedingungen nicht erfüllt werden, hat das <xref:System.Windows.Media.Effects.BitmapEffect>-Objekt keine Auswirkungen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-639">If these conditions are not met, a <xref:System.Windows.Media.Effects.BitmapEffect> object will have no effect.</span></span><br><br><span data-ttu-id="56ac6-640">Außerdem erzeugt Visual Studio eine Compilerwarnung, wenn das <xref:System.Windows.Media.Effects.BitmapEffect>-Objekt oder eine Unterklasse erkannt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-640">Also, Visual Studio produces a compiler warning when it encounters the <xref:System.Windows.Media.Effects.BitmapEffect> object or a subclass.</span></span><br><br><span data-ttu-id="56ac6-641">Die <xref:System.Windows.Media.DrawingContext.PushEffect%2A>-Methode ist als veraltet markiert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-641">The <xref:System.Windows.Media.DrawingContext.PushEffect%2A> method is marked obsolete.</span></span> | <span data-ttu-id="56ac6-642">Stellen Sie die Verwendung der Vorgängerversion <xref:System.Windows.Media.Effects.BitmapEffect> und der abgeleitete Klassen ein, und verwenden Sie stattdessen die neuen, von <xref:System.Windows.Media.Effects.Effect> abgeleiteten Klassen: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, und <xref:System.Windows.Media.Effects.ShaderEffect>.</span><span class="sxs-lookup"><span data-stu-id="56ac6-642">Discontinue using the legacy <xref:System.Windows.Media.Effects.BitmapEffect> and derived classes and instead use the new classes derived from <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, and <xref:System.Windows.Media.Effects.ShaderEffect>.</span></span><br><br><span data-ttu-id="56ac6-643">Sie können durch Erben von der <xref:System.Windows.Media.Effects.ShaderEffect>-Klasse auch eigene Effekte erstellen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-643">You can also create your own effects by inheriting from the <xref:System.Windows.Media.Effects.ShaderEffect> class.</span></span> |
| <span data-ttu-id="56ac6-644">**Bitmapframes**</span><span class="sxs-lookup"><span data-stu-id="56ac6-644">**Bitmap frames**</span></span> | <span data-ttu-id="56ac6-645">Geklonte <xref:System.Windows.Media.Imaging.BitmapFrame>-Objekte empfangen jetzt die Ereignisse <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> und <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed>.</span><span class="sxs-lookup"><span data-stu-id="56ac6-645">The cloned <xref:System.Windows.Media.Imaging.BitmapFrame> objects now receive the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, and <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> events.</span></span> <span data-ttu-id="56ac6-646">Dadurch funktionieren Images, die aus dem Web heruntergeladen und auf das <xref:System.Windows.Controls.Image>-Steuerelement angewendet werden, über einen <xref:System.Windows.Style> ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="56ac6-646">This enables images that are downloaded from the Web and applied to the <xref:System.Windows.Controls.Image> control through a <xref:System.Windows.Style> to work correctly.</span></span><br><br><span data-ttu-id="56ac6-647">Änderung am Verhalten kommen nur vor, wenn alle der folgenden Aussagen zutreffen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-647">You will see a change in behavior only if all of the following statements are true:</span></span><br><br><span data-ttu-id="56ac6-648">\* Sie abonnieren das Ereignis <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> oder <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed>.</span><span class="sxs-lookup"><span data-stu-id="56ac6-648">\* You subscribe to the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, or <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> event.</span></span><br><span data-ttu-id="56ac6-649">\* Die Quelle des <xref:System.Windows.Media.Imaging.BitmapFrame> stammt aus dem Web.</span><span class="sxs-lookup"><span data-stu-id="56ac6-649">\* The source of the <xref:System.Windows.Media.Imaging.BitmapFrame> is from the Web.</span></span><br><span data-ttu-id="56ac6-650">\* Der <xref:System.Windows.Media.Imaging.BitmapFrame> wird geklont, während der Download immer noch ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-650">\* The <xref:System.Windows.Media.Imaging.BitmapFrame> is cloned while the download is still in progress.</span></span> | <span data-ttu-id="56ac6-651">Überprüfen Sie den Absender im Ereignishandler, und ergreifen Sie nur Maßnahmen, wenn der Absender der ursprüngliche <xref:System.Windows.Media.Imaging.BitmapFrame> ist.</span><span class="sxs-lookup"><span data-stu-id="56ac6-651">Check the sender in the event handler and take action only if the sender is the original <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span> |
| <span data-ttu-id="56ac6-652">**Decodieren von Images**</span><span class="sxs-lookup"><span data-stu-id="56ac6-652">**Decoding images**</span></span> | <span data-ttu-id="56ac6-653">Um sicherzustellen, dass eine <xref:System.IO.IOException> verarbeitet wird, wenn Images nicht decodiert werden können, löst die <xref:System.Windows.Media.Imaging.BitmapSource>-Klasse bei einer fehlgeschlagenen Decodierung das Ereignis <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> aus.</span><span class="sxs-lookup"><span data-stu-id="56ac6-653">To prevent an <xref:System.IO.IOException> from not being handled when images may not decode, the <xref:System.Windows.Media.Imaging.BitmapSource> class will raise the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event when it does not decode an image.</span></span> | <span data-ttu-id="56ac6-654">Entfernen Sie jede Ausnahmebehandlung für <xref:System.IO.IOException>, und verwenden Sie das <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed>-Ereignis für die Suche nach Decodierungsfehlern.</span><span class="sxs-lookup"><span data-stu-id="56ac6-654">Remove any exception handling for <xref:System.IO.IOException>, and use the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event to check for decode failure.</span></span> |

### <a name="input"></a><span data-ttu-id="56ac6-655">Eingabe</span><span class="sxs-lookup"><span data-stu-id="56ac6-655">Input</span></span>

<span data-ttu-id="56ac6-656">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="56ac6-656">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="56ac6-657">Assemblys: PresentationFramework (in „PresentationFramework.dll“), PresentationCore (in „PresentationCore.dll“), WindowsBase (in „WindowsBase.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-657">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="56ac6-658">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-658">Feature</span></span> | <span data-ttu-id="56ac6-659">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-659">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-660">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-660">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-661">**Binden von Befehlsinstanzen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-661">**Binding command instances**</span></span> | <span data-ttu-id="56ac6-662">Um einen Mechanismus für das Binden von auf dem Ansichtsmodell basierten Befehlsinstanzen an ansichtsbasierte Eingabegesten bereitzustellen, erbt die <xref:System.Windows.Input.InputBinding>-Klasse jetzt von <xref:System.Windows.Freezable> statt von <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="56ac6-662">To provide a mechanism to bind View-Model-based command instances to View-based input gestures, the <xref:System.Windows.Input.InputBinding> class now inherits from <xref:System.Windows.Freezable> instead of <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="56ac6-663">Die folgenden Eigenschaften sind jetzt Abhängigkeitseigenschaften:</span><span class="sxs-lookup"><span data-stu-id="56ac6-663">The following properties are now dependency properties:</span></span><br><br><span data-ttu-id="56ac6-664">\* <xref:System.Windows.Input.InputBinding.Command></span><span class="sxs-lookup"><span data-stu-id="56ac6-664">\* <xref:System.Windows.Input.InputBinding.Command></span></span><br><span data-ttu-id="56ac6-665">\* <xref:System.Windows.Input.InputBinding.CommandParameter></span><span class="sxs-lookup"><span data-stu-id="56ac6-665">\* <xref:System.Windows.Input.InputBinding.CommandParameter></span></span><br><span data-ttu-id="56ac6-666">\* <xref:System.Windows.Input.InputBinding.CommandTarget></span><span class="sxs-lookup"><span data-stu-id="56ac6-666">\* <xref:System.Windows.Input.InputBinding.CommandTarget></span></span><br><br><span data-ttu-id="56ac6-667">Diese Änderung hat folgende Auswirkungen:</span><span class="sxs-lookup"><span data-stu-id="56ac6-667">This change results in the following:</span></span><br><br><span data-ttu-id="56ac6-668">\* Ein <xref:System.Windows.Input.InputBinding>-Objekt wird jetzt gesperrt, wenn es registriert wird, statt veränderbar zu bleiben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-668">\* An <xref:System.Windows.Input.InputBinding> object is now frozen when it is registered instead of remaining mutable.</span></span><br><span data-ttu-id="56ac6-669">\* Sie können aufgrund der Einschränkungen für die <xref:System.Windows.DependencyObject>-Klasse nicht von mehreren Threads aus auf <xref:System.Windows.Input.InputBinding>-Objekte auf Instanzebene zugreifen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-669">\* You cannot access instance-level <xref:System.Windows.Input.InputBinding> objects from multiple threads, due to the restrictions of the <xref:System.Windows.DependencyObject> class.</span></span><br><span data-ttu-id="56ac6-670">\* Sie können aufgrund der Einschränkungen der <xref:System.Windows.Freezable>-Klasse keine Eingabebindungen auf Klassenebene nach deren Registrierung mutieren.</span><span class="sxs-lookup"><span data-stu-id="56ac6-670">\* You cannot mutate class-level input bindings after their registration, due to the restrictions of the <xref:System.Windows.Freezable> class.</span></span><br><span data-ttu-id="56ac6-671">\* Sie können keine Eingabebindungen auf Befehlsinstanzen angeben, die in einem Ansichtsmodell erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-671">\* You cannot specify input bindings on command instances that are created in a View-Model.</span></span> | <span data-ttu-id="56ac6-672">Erstellen Sie separate Instanzen einer <xref:System.Windows.Input.InputBinding>-Klasse in separaten Threads, wenn Bindungen mutierbar bleiben sollen. Sperren Sie die sie andernfalls.</span><span class="sxs-lookup"><span data-stu-id="56ac6-672">Create separate instances of an <xref:System.Windows.Input.InputBinding> class on separate threads if bindings are to be mutable, or freeze them otherwise.</span></span> <span data-ttu-id="56ac6-673">Mutieren Sie kein statisches <xref:System.Windows.Input.InputBinding> auf Klassenebene, nachdem es registriert wurde.</span><span class="sxs-lookup"><span data-stu-id="56ac6-673">Do not mutate a class-level static <xref:System.Windows.Input.InputBinding> after it has been registered.</span></span> |
| <span data-ttu-id="56ac6-674">**Browseranwendungen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-674">**Browser applications**</span></span> | <span data-ttu-id="56ac6-675">WPF-Webbrowseranwendungen (.XBAP) verarbeiten jetzt Tastenereignisse wie eigenständige WPF-Anwendungen, sodass Objekte geroutete Tastenereignisse in der richtigen Reihenfolge empfangen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-675">WPF Browser applications (.XBAP) now process key events just like stand-alone WPF applications so that objects receive routed key events in the correct order.</span></span> | <span data-ttu-id="56ac6-676">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-676">None.</span></span> |
| <span data-ttu-id="56ac6-677">**Tottastenkombinationen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-677">**Dead key combinations**</span></span> | <span data-ttu-id="56ac6-678">WPF verbirgt Tottasten, die kein sichtbares Zeichen erzeugen, und weist stattdessen darauf hin, dass die Taste in Kombination mit der nächsten Buchstabentaste ein Zeichen erzeugt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-678">WPF obfuscates dead keys, which produce no visible character, but instead indicates that the key is to be combined with the next letter key to produce one character.</span></span> <span data-ttu-id="56ac6-679">Tasteneingabeereignisse wie das <xref:System.Windows.Input.Keyboard.KeyDownEvent>-Ereignis melden, wenn eine Taste eine Tottaste ist, indem die <xref:System.Windows.Input.KeyEventArgs.Key>-Eigenschaft auf den <xref:System.Windows.Input.Key>-Wert festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-679">The key input events, such as the <xref:System.Windows.Input.Keyboard.KeyDownEvent> event, report when a key is a dead key by setting the <xref:System.Windows.Input.KeyEventArgs.Key> property to the <xref:System.Windows.Input.Key> value.</span></span> <span data-ttu-id="56ac6-680">Dieses Verhalten wird erwartet, da Anwendungen in der Regel nicht auf Tastatureingaben zu reagieren, die kombinierte Zeichen erzeugen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-680">This is usually expected behavior because applications usually do not intend to respond to keyboard input that creates a combined character.</span></span> | <span data-ttu-id="56ac6-681">Anwendungen, die erwarten, Tasten zu lesen, die Teil von kombinierten Zeichen waren, können verborgene Tasten jetzt mit der <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey>-Eigenschaft abrufen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-681">Applications that expect to read keys that were part of combined characters can get the now obfuscated key by using the <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> property.</span></span> |
| <span data-ttu-id="56ac6-682">**FocusManager**</span><span class="sxs-lookup"><span data-stu-id="56ac6-682">**Focus manager**</span></span> | <span data-ttu-id="56ac6-683">Wenn die Methode <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> an ein Element übergeben wird, dessen angefügte [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A)-Eigenschaft auf `true` festgelegt wurde, gibt die Methode ein Element zurück, das das letzte von der Tastatur fokussierte Element innerhalb des Fokusbereichs darstellt, und nur, wenn das zurückgegebene Element zu dem gleichen <xref:System.Windows.PresentationSource>-Objekt gehört wie das Element, das an die Methode übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-683">When the <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> method is passed an element that has the [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) attached property set to `true`, the method returns an element that is the last keyboard-focused element within that focus scope if and only if the returned element belongs to the same <xref:System.Windows.PresentationSource> object as the element that is passed to the method.</span></span> | <span data-ttu-id="56ac6-684">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-684">None.</span></span> |

### <a name="ui-automation"></a><span data-ttu-id="56ac6-685">Benutzeroberflächenautomatisierung</span><span class="sxs-lookup"><span data-stu-id="56ac6-685">UI Automation</span></span>

<span data-ttu-id="56ac6-686">Namespaces: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="56ac6-686">Namespace: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="56ac6-687">Assemblys: PresentationFramework (in „PresentationFramework.dll“), PresentationCore (in „PresentationCore.dll“), UIAutomationProvider (in „UIAutomationProvider.dll“), WindowsBase (in „WindowsBase.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-687">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), UIAutomationProvider (in UIAutomationProvider.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="56ac6-688">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-688">Feature</span></span> | <span data-ttu-id="56ac6-689">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-689">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-690">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-690">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-691">**Klassenhierarchie von Ansichten**</span><span class="sxs-lookup"><span data-stu-id="56ac6-691">**Class hierarchy of views**</span></span> | <span data-ttu-id="56ac6-692">Die Klasse <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> und <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> erben von <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> statt von <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="56ac6-692">The <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> and <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes inherit from <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> instead of <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span></span> | <span data-ttu-id="56ac6-693">Wenn von der <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer>-Klasse geerbt und die <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A>-Methode überschrieben wird, empfiehlt es sich, ein Objekt zurückzugeben, das von der neuen <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer>-Klasse erbt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-693">If you inherit from the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes and override the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> method, consider returning an object that inherits from the new <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> class.</span></span> |
| <span data-ttu-id="56ac6-694">**Container außerhalb des Bildschirms**</span><span class="sxs-lookup"><span data-stu-id="56ac6-694">**Containers off screen**</span></span> | <span data-ttu-id="56ac6-695">Um einen falschen Rückgabewert zu korrigieren, gibt die <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A>-Methode jetzt ordnungsgemäß `false` für Elementcontainer zurück, die außerhalb der Ansicht gescrollt werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-695">To fix an incorrect return value, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> method now correctly returns `false` for item containers that are scrolled out of view.</span></span> <span data-ttu-id="56ac6-696">Darüber hinaus ist der Wert der Methode nicht durch Okklusion anderer Fenster oder davon betroffen, ob das Element auf einen bestimmten Monitor angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-696">Also, the value of the method is not affected by occlusion by other windows, or by whether the element is visible on a specific monitor.</span></span> | <span data-ttu-id="56ac6-697">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-697">None.</span></span> |
| <span data-ttu-id="56ac6-698">**Menüs und untergeordnete Objekte**</span><span class="sxs-lookup"><span data-stu-id="56ac6-698">**Menus and child objects**</span></span> | <span data-ttu-id="56ac6-699">Um die UI-Automatisierung von Menüs zu ermöglichen, die andere untergeordnete Elemente als <xref:System.Windows.Controls.MenuItem>-Objekte enthalten, gibt die <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A>-Methode jetzt das <xref:System.Windows.Automation.Peers.AutomationPeer>-Objekt eines untergeordneten <xref:System.Windows.UIElement>-Objekts statt eines <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer>-Objekts zurück.</span><span class="sxs-lookup"><span data-stu-id="56ac6-699">To enable UI automation of menus that contain children other than <xref:System.Windows.Controls.MenuItem> objects, the <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> method now returns the <xref:System.Windows.Automation.Peers.AutomationPeer> object of a child <xref:System.Windows.UIElement> object, instead of a <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> object.</span></span> | <span data-ttu-id="56ac6-700">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-700">None.</span></span> |
| <span data-ttu-id="56ac6-701">**Neue Schnittstellen und Assembly**</span><span class="sxs-lookup"><span data-stu-id="56ac6-701">**New interfaces and assembly**</span></span> | <span data-ttu-id="56ac6-702">Um neue Funktionen für die UI-Automatisierung einzubinden, wurden die folgenden Schnittstellen hinzugefügt:</span><span class="sxs-lookup"><span data-stu-id="56ac6-702">To enable new features for UI automation, the following interfaces were added:</span></span><br><br><span data-ttu-id="56ac6-703">\* <xref:System.Windows.Automation.Provider.IItemContainerProvider></span><span class="sxs-lookup"><span data-stu-id="56ac6-703">\* <xref:System.Windows.Automation.Provider.IItemContainerProvider></span></span><br><span data-ttu-id="56ac6-704">\* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider></span><span class="sxs-lookup"><span data-stu-id="56ac6-704">\* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider></span></span><br><span data-ttu-id="56ac6-705">\* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider></span><span class="sxs-lookup"><span data-stu-id="56ac6-705">\* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider></span></span> | <span data-ttu-id="56ac6-706">Jedes Projekt, das WPF-Automatisierungspeers erstellt, muss einen expliziten Verweis auf „UIAutomationProvider.dll“ hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-706">Any project that builds WPF automation peers must add an explicit reference to UIAutomationProvider.dll.</span></span> |
| <span data-ttu-id="56ac6-707">**Ziehpunkte**</span><span class="sxs-lookup"><span data-stu-id="56ac6-707">**Thumbs**</span></span> | <span data-ttu-id="56ac6-708">Die <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A>-Methode gibt einen Wert anstelle von NULL zurück.</span><span class="sxs-lookup"><span data-stu-id="56ac6-708">The <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> method returns a value instead of null.</span></span> <span data-ttu-id="56ac6-709">Aus diesem Grund melden Steuerelemente wie <xref:System.Windows.Controls.GridSplitter>, die von der <xref:System.Windows.Controls.Primitives.Thumb>-Klasse erben, einen Namen an die UI-Automatisierung.</span><span class="sxs-lookup"><span data-stu-id="56ac6-709">Therefore, controls such as <xref:System.Windows.Controls.GridSplitter> that inherit from the <xref:System.Windows.Controls.Primitives.Thumb> class will report a name to UI Automation.</span></span> | <span data-ttu-id="56ac6-710">Keine</span><span class="sxs-lookup"><span data-stu-id="56ac6-710">None.</span></span> |
| <span data-ttu-id="56ac6-711">**Virtualisierte Elemente**</span><span class="sxs-lookup"><span data-stu-id="56ac6-711">**Virtualized elements**</span></span> | <span data-ttu-id="56ac6-712">Zur Verbesserung der Leistung gibt die <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A>-Methode nur die untergeordneten Objekte zurück, die tatsächlich in der visuellen Struktur enthalten sind, statt aller untergeordneten Objekte unabhängig vom Virtualisierungsort.</span><span class="sxs-lookup"><span data-stu-id="56ac6-712">To improve performance, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> method returns only the child objects that are actually in the visual tree, instead of all child objects, regardless of whether they are virtualized.</span></span> | <span data-ttu-id="56ac6-713">Verwenden Sie <xref:System.Windows.Automation.ItemContainerPattern>, um eine Iteration für alle Elemente von <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-713">Use <xref:System.Windows.Automation.ItemContainerPattern> to iterate over all items of an <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span></span> |

### <a name="xaml"></a><span data-ttu-id="56ac6-714">XAML</span><span class="sxs-lookup"><span data-stu-id="56ac6-714">XAML</span></span>

<span data-ttu-id="56ac6-715">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup></span><span class="sxs-lookup"><span data-stu-id="56ac6-715">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup></span></span>

<span data-ttu-id="56ac6-716">Assemblys: PresentationFramework (in „PresentationFramework.dll“), PresentationCore (in „PresentationCore.dll“), WindowsBase (in „WindowsBase.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-716">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="56ac6-717">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-717">Feature</span></span> | <span data-ttu-id="56ac6-718">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-718">Differences from 3.5 SP1</span></span> | <span data-ttu-id="56ac6-719">Empfohlene Änderungen</span><span class="sxs-lookup"><span data-stu-id="56ac6-719">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="56ac6-720">**Markuperweiterung**</span><span class="sxs-lookup"><span data-stu-id="56ac6-720">**Markup extension**</span></span> | <span data-ttu-id="56ac6-721">WPF verwendet jetzt ordnungsgemäß immer den Wert der <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>-Methode, statt in bestimmten Fällen das <xref:System.Windows.Markup.MarkupExtension>-Objekt zurückzugeben, wenn mit einer Markuperweiterung Eigenschaften festgelegt oder ein Element in einer Auflistung erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-721">WPF now correctly always uses the value from the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> method instead of returning the <xref:System.Windows.Markup.MarkupExtension> object in certain cases when a markup extension is used to set a property or to create an item in a collection.</span></span> <span data-ttu-id="56ac6-722">Eine Markuperweiterung kann sich in einigen Fällen selbst zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-722">A markup extension might return itself in some cases.</span></span> | <span data-ttu-id="56ac6-723">Wenn Ihre Anwendung auf eine Ressource zugreift, die in einer früheren Version ein <xref:System.Windows.Markup.MarkupExtension>-Objekt zurückgegeben hat, verweisen Sie nicht auf das <xref:System.Windows.Markup.MarkupExtension>-Objekt, sondern auf das von <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> zurückgegebene Objekt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-723">If your application accesses a resource that returned a <xref:System.Windows.Markup.MarkupExtension> object in earlier versions, reference the object that is returned from <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, instead of the <xref:System.Windows.Markup.MarkupExtension> object.</span></span> |
| <span data-ttu-id="56ac6-724">**Analyseattribute**</span><span class="sxs-lookup"><span data-stu-id="56ac6-724">**Parsing attributes**</span></span> | <span data-ttu-id="56ac6-725">Attribute dürfen in XAML jetzt nur einen Punkt haben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-725">Attributes in XAML can now have only one period.</span></span> <span data-ttu-id="56ac6-726">Alle folgenden Attribute sind z.B. gültig:</span><span class="sxs-lookup"><span data-stu-id="56ac6-726">For example, the following are valid:</span></span><br><br><span data-ttu-id="56ac6-727">`<Button Background="Red"/>` (keine Punkte)</span><span class="sxs-lookup"><span data-stu-id="56ac6-727">`<Button Background="Red"/>` (no periods)</span></span><br><br><span data-ttu-id="56ac6-728">`<Button Button.Background = "Red"/>` (ein Punkt)</span><span class="sxs-lookup"><span data-stu-id="56ac6-728">`<Button Button.Background = "Red"/>` (one period)</span></span><br><br><span data-ttu-id="56ac6-729">Das folgende Attribut ist nicht mehr gültig:</span><span class="sxs-lookup"><span data-stu-id="56ac6-729">The following is no longer valid:</span></span><br><br><span data-ttu-id="56ac6-730">`<Button Control.Button.Background = "Red"/>` (mehr als ein Punkt)</span><span class="sxs-lookup"><span data-stu-id="56ac6-730">`<Button Control.Button.Background = "Red"/>` (more than one period)</span></span> | <span data-ttu-id="56ac6-731">Richtige XAML-Attribute mit mehr als einem Punkt</span><span class="sxs-lookup"><span data-stu-id="56ac6-731">Correct XAML attributes that have more than one period.</span></span> |

## <a name="xml"></a><span data-ttu-id="56ac6-732">XML</span><span class="sxs-lookup"><span data-stu-id="56ac6-732">XML</span></span>

<span data-ttu-id="56ac6-733">Die folgende Tabelle beschreibt die verbesserten Funktionen, die zuvor Einschränkungen oder andere Probleme hatten.</span><span class="sxs-lookup"><span data-stu-id="56ac6-733">The rows in this table describe improvements to features that previously had limitations or other issues.</span></span>

### <a name="schema-and-transforms"></a><span data-ttu-id="56ac6-734">Schemas und Transformationen</span><span class="sxs-lookup"><span data-stu-id="56ac6-734">Schema and transforms</span></span>

<span data-ttu-id="56ac6-735">Namespaces: <xref:System.Xml.Linq>, <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="56ac6-735">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="56ac6-736">Assemblys: System.xml (in „System.Xml.dll“), System.Xml.Linq (in „System.Xml.Linq.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-736">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="56ac6-737">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-737">Feature</span></span> | <span data-ttu-id="56ac6-738">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-738">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="56ac6-739">**Chamäleonschemas**</span><span class="sxs-lookup"><span data-stu-id="56ac6-739">**Chameleon schemas**</span></span> | <span data-ttu-id="56ac6-740">Um Datenbeschädigung zu verhindern, werden Chamäleonschemas jetzt ordnungsgemäß geklont, wenn sie in mehreren Schemas enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="56ac6-740">To prevent data corruption, chameleon schemas are now cloned correctly when they are included with multiple schemas.</span></span><br><br><span data-ttu-id="56ac6-741">Chamäleonschemas sind Schemas ohne Zielnamespace, und wenn sie in einem anderen XSD-Schema eingeschlossen werden, übernehmen sie den Zielnamespace des importierenden Schemas.</span><span class="sxs-lookup"><span data-stu-id="56ac6-741">Chameleon schemas are schemas that do not have a target namespace, and when they are included in another XSD, they take on the target namespace of the importing schema.</span></span> <span data-ttu-id="56ac6-742">Sie werden häufig dazu verwendet, um allgemeine Typen in einem Schema einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="56ac6-742">They are often used to include common types into a schema.</span></span> |
| <span data-ttu-id="56ac6-743">**ID-Funktionen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-743">**ID functions**</span></span> | <span data-ttu-id="56ac6-744">Die XSLT-[id-Funktion](/sql/xquery/functions-on-sequences-id) gibt nun den richtigen Wert statt NULL zurück, wenn ein <xref:System.Xml.XmlReader>-Objekt an eine XSL-Transformation übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-744">The XSLT [id function](/sql/xquery/functions-on-sequences-id) now returns the correct value instead of null when an <xref:System.Xml.XmlReader> object is passed to an XLST.</span></span><br><br><span data-ttu-id="56ac6-745">Wenn der Benutzer aus einer LINQ to XML-Klasse mit der <xref:System.Xml.Linq.XNode.CreateReader%2A>-Methode ein <xref:System.Xml.XmlReader>-Objekt erstellt hat, und dieses <xref:System.Xml.XmlReader>-Objekt an eine XSL-Transformation übergeben wurde, haben alle Instanzen der `id`-Funktion in XSLT zuvor NULL zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="56ac6-745">If the user created an <xref:System.Xml.XmlReader> object from a LINQ to XML class by using the <xref:System.Xml.Linq.XNode.CreateReader%2A> method, and this <xref:System.Xml.XmlReader> object was passed to an XSLT, any instances of the `id` function in the XSLT previously returned null.</span></span> <span data-ttu-id="56ac6-746">Dies ist kein zulässiger Rückgabewert für die `id`-Funktion.</span><span class="sxs-lookup"><span data-stu-id="56ac6-746">This is not an allowed return value for the `id` function.</span></span> |
| <span data-ttu-id="56ac6-747">**Namespaceattribut**</span><span class="sxs-lookup"><span data-stu-id="56ac6-747">**Namespace attribute**</span></span> | <span data-ttu-id="56ac6-748">Um Datenbeschädigung zu verhindern, gibt ein <xref:System.Xml.XPath.XPathNavigator>-Objekt nun den lokalen Namen des `x:xmlns`-Attribut richtig zurück.</span><span class="sxs-lookup"><span data-stu-id="56ac6-748">To prevent data corruption, an <xref:System.Xml.XPath.XPathNavigator> object now returns the local name of the `x:xmlns` attribute correctly.</span></span> |
| <span data-ttu-id="56ac6-749">**Namespacedeklarationen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-749">**Namespace declarations**</span></span> | <span data-ttu-id="56ac6-750">Ein <xref:System.Xml.XmlReader>-Objekt in einer Teilstruktur führt nicht länger zur Erstellung doppelter Namespacedeklarationen innerhalb eines XML-Elements.</span><span class="sxs-lookup"><span data-stu-id="56ac6-750">An <xref:System.Xml.XmlReader> object on a subtree no longer creates duplicate namespace declarations within one XML element.</span></span> |
| <span data-ttu-id="56ac6-751">**Schemavalidierung**</span><span class="sxs-lookup"><span data-stu-id="56ac6-751">**Schema validation**</span></span> | <span data-ttu-id="56ac6-752">Um eine fehlerhafte Schemavalidierung zu verhindern, lässt die <xref:System.Xml.Schema.XmlSchemaSet>-Klasse nun zu, dass XSD-Schemas richtig und konsistent kompiliert werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-752">To prevent erroneous schema validation, the <xref:System.Xml.Schema.XmlSchemaSet> class allows for XSD schemas to be compiled correctly and consistently.</span></span> <span data-ttu-id="56ac6-753">Diese Schemas können andere Schemas enthalten. `A.xsd` kann z.B. `B.xsd` enthalten, das wiederum `C.xsd` enthalten kann.</span><span class="sxs-lookup"><span data-stu-id="56ac6-753">These schemas can include other schemas; for example, `A.xsd` can include `B.xsd`, which can include `C.xsd`.</span></span> <span data-ttu-id="56ac6-754">Das Kompilieren dieser Schemas führt dazu, dass der Graph mit den Abhängigkeiten durchsucht wird.</span><span class="sxs-lookup"><span data-stu-id="56ac6-754">Compiling any one of these causes this graph of dependencies to be traversed.</span></span> |
| <span data-ttu-id="56ac6-755">**Skriptfunktionen**</span><span class="sxs-lookup"><span data-stu-id="56ac6-755">**Script functions**</span></span> | <span data-ttu-id="56ac6-756">Die [function-available-Funktion](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) gibt nicht mehr fälschlicherweise `false` zurück, wenn die Funktion tatsächlich verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="56ac6-756">The [function-available function](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) no longer incorrectly returns `false` when the function is actually available.</span></span> |
| <span data-ttu-id="56ac6-757">**URIs**</span><span class="sxs-lookup"><span data-stu-id="56ac6-757">**URIs**</span></span> | <span data-ttu-id="56ac6-758">Die <xref:System.Xml.Linq.XElement.Load%2A>-Methode gibt nun den richtigen BaseURI in LINQ-Abfragen zurück.</span><span class="sxs-lookup"><span data-stu-id="56ac6-758">The <xref:System.Xml.Linq.XElement.Load%2A> method now returns the correct BaseURI in LINQ queries.</span></span> |

### <a name="validation"></a><span data-ttu-id="56ac6-759">Validierung</span><span class="sxs-lookup"><span data-stu-id="56ac6-759">Validation</span></span>

<span data-ttu-id="56ac6-760">Namespaces: <xref:System.Xml.Linq>, <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="56ac6-760">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="56ac6-761">Assemblys: System.xml (in „System.Xml.dll“), System.Xml.Linq (in „System.Xml.Linq.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-761">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="56ac6-762">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-762">Feature</span></span> | <span data-ttu-id="56ac6-763">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-763">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="56ac6-764">**Namespace-Resolver**</span><span class="sxs-lookup"><span data-stu-id="56ac6-764">**Namespace resolvers**</span></span> | <span data-ttu-id="56ac6-765">Die <xref:System.Xml.XmlReader.ReadContentAs%2A>-Methode ignoriert nicht mehr den empfangenen<xref:System.Xml.IXmlNamespaceResolver>-Resolver.</span><span class="sxs-lookup"><span data-stu-id="56ac6-765">The <xref:System.Xml.XmlReader.ReadContentAs%2A> method no longer ignores the <xref:System.Xml.IXmlNamespaceResolver> resolver passed to it.</span></span><br><br><span data-ttu-id="56ac6-766">In früheren Versionen wurde der angegebene Namespace-Resolver ignoriert, und stattdessen wurde <xref:System.Xml.XmlReader> verwendet.</span><span class="sxs-lookup"><span data-stu-id="56ac6-766">In previous versions, the specified namespace resolver was ignored, and the <xref:System.Xml.XmlReader> was used instead.</span></span> |
| <span data-ttu-id="56ac6-767">**Leerraum**</span><span class="sxs-lookup"><span data-stu-id="56ac6-767">**White space**</span></span> | <span data-ttu-id="56ac6-768">Um beim Erstellen eines Readers Datenverluste zu vermeiden, verwirft die <xref:System.Xml.XmlReader.Create%2A>-Methode keinen signifikanten Leerraum mehr.</span><span class="sxs-lookup"><span data-stu-id="56ac6-768">To prevent data loss when you are creating a reader, the <xref:System.Xml.XmlReader.Create%2A> method no longer discards significant white space.</span></span><br><br><span data-ttu-id="56ac6-769">Die XML-Validierung erkennt den Modus mit gemischtem Inhalt, in dem Text mit XML-Markup gemischt werden kann.</span><span class="sxs-lookup"><span data-stu-id="56ac6-769">XML validation recognizes mixed-content mode, where text can be intermixed with XML markup.</span></span> <span data-ttu-id="56ac6-770">Im gemischten Modus sind jeder Leerraum wichtig und muss gemeldet werden.</span><span class="sxs-lookup"><span data-stu-id="56ac6-770">In mixed mode, all white space is significant and should be reported.</span></span> |

### <a name="writing"></a><span data-ttu-id="56ac6-771">Schreiben</span><span class="sxs-lookup"><span data-stu-id="56ac6-771">Writing</span></span>

<span data-ttu-id="56ac6-772">Namespaces: <xref:System.Xml.Linq>, <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="56ac6-772">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="56ac6-773">Assemblys: System.xml (in „System.Xml.dll“), System.Xml.Linq (in „System.Xml.Linq.dll“)</span><span class="sxs-lookup"><span data-stu-id="56ac6-773">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="56ac6-774">Feature</span><span class="sxs-lookup"><span data-stu-id="56ac6-774">Feature</span></span> | <span data-ttu-id="56ac6-775">Unterschiede zu 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="56ac6-775">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="56ac6-776">**Entitätsverweise**</span><span class="sxs-lookup"><span data-stu-id="56ac6-776">**Entity references**</span></span> | <span data-ttu-id="56ac6-777">Um Datenbeschädigung zu verhindern, werden Entitätsverweise in XML-Attribute nicht mehr zweimal in Entitäten geändert.</span><span class="sxs-lookup"><span data-stu-id="56ac6-777">To prevent data corruption, entity references are no longer entitized twice in XML attributes.</span></span><br><br><span data-ttu-id="56ac6-778">Wenn der Benutzer versucht hat, eine Entität in ein `xmlns`-Attribut oder mit der <xref:System.Xml.XmlWriter.WriteEntityRef%2A>-Methode in ein `xml:lang`- oder `xml:space`-Attribut zu schreiben, wird die Entität zweimal in der Ausgabe in Entitäten geändert. Dabei werden die Daten beschädigt.</span><span class="sxs-lookup"><span data-stu-id="56ac6-778">If the user tried to write an entity into an `xmlns` attribute or into an `xml:lang` or `xml:space` attribute by using the <xref:System.Xml.XmlWriter.WriteEntityRef%2A> method, the entity was entitized twice in the output, therefore corrupting the data.</span></span> |
| <span data-ttu-id="56ac6-779">**Neue Zeilenbehandlung**</span><span class="sxs-lookup"><span data-stu-id="56ac6-779">**New line handling**</span></span> | <span data-ttu-id="56ac6-780">Um Datenbeschädigung zu verhindern, berücksichtigen <xref:System.Xml.XmlWriter>-Objekte nun die Option <xref:System.Xml.NewLineHandling>.</span><span class="sxs-lookup"><span data-stu-id="56ac6-780">To prevent data corruption, <xref:System.Xml.XmlWriter> objects respect the <xref:System.Xml.NewLineHandling> option.</span></span> |

## <a name="see-also"></a><span data-ttu-id="56ac6-781">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="56ac6-781">See also</span></span>

- [<span data-ttu-id="56ac6-782">Neue Typen und Member in .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="56ac6-782">New Types and Members in .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff641764%28v=vs.100%29)
- [<span data-ttu-id="56ac6-783">Leitfaden zur Migration zu .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="56ac6-783">Migration Guide to .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)
- [<span data-ttu-id="56ac6-784">Neuerungen in .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="56ac6-784">What's New in .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)
- [<span data-ttu-id="56ac6-785">Versionskompatibilität in .NET Framework</span><span class="sxs-lookup"><span data-stu-id="56ac6-785">Version Compatibility in .NET Framework</span></span>](version-compatibility.md)
- [<span data-ttu-id="56ac6-786">Migrieren von Office-Projektmappen zu .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="56ac6-786">Migrating Office Solutions to .NET Framework 4</span></span>](/visualstudio/vsto/migrating-office-solutions-to-the-dotnet-framework-4-or-later)
- [<span data-ttu-id="56ac6-787">Veraltete Elemente in der .NET Framework-Klassenbibliothek</span><span class="sxs-lookup"><span data-stu-id="56ac6-787">What's Obsolete in the .NET Framework Class Library</span></span>](../whats-new/whats-obsolete.md)
