---
title: .NET Native und Kompilierung
ms.date: 03/30/2017
ms.assetid: e38ae4f3-3e3d-42c3-a4b8-db1aa9d84f85
ms.openlocfilehash: cf5c9f05b2f2cb4ca15e4add5b53bc9bdca757a3
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/06/2020
ms.locfileid: "73128244"
---
# <a name="net-native-and-compilation"></a><span data-ttu-id="e7237-102">.NET Native und Kompilierung</span><span class="sxs-lookup"><span data-stu-id="e7237-102">.NET Native and Compilation</span></span>

<span data-ttu-id="e7237-103">Die meisten auf das .NET Framework ausgerichteten Windows 8.1- und Windows Desktop-Anwendungen sind in einer bestimmten Programmiersprache geschrieben und in eine Zwischensprache (Intermediate Language, IL) kompiliert.</span><span class="sxs-lookup"><span data-stu-id="e7237-103">Windows 8.1 applications and Windows Desktop applications that target the.NET Framework are written in a particular programming language and compiled into intermediate language (IL).</span></span> <span data-ttu-id="e7237-104">Zur Laufzeit ist ein JIT-Compiler (Just-In-Time) dafür zuständig, die Zwischensprache für den lokalen Computer in systemeigenen Code zu kompilieren, unmittelbar bevor eine Methode zum ersten Mal ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="e7237-104">At runtime, a just-in-time (JIT) compiler is responsible for compiling the IL into native code for the local machine just before a method is executed for the first time.</span></span> <span data-ttu-id="e7237-105">Im Gegensatz dazu konvertiert die .NET Native-Toolkette den Quellcode zur Kompilierzeit in systemeigenen Code.</span><span class="sxs-lookup"><span data-stu-id="e7237-105">In contrast, the .NET Native tool chain converts source code to native code at compile time.</span></span> <span data-ttu-id="e7237-106">In diesem Abschnitt wird .NET Native mit anderen Kompilierungsverfahren verglichen, die für .NET Framework-Apps verfügbar sind. Zudem enthält dieser Abschnitt einen konkreten Überblick über die Erzeugung von nativem Code mit .NET Native, der Ihnen dabei helfen kann zu verstehen, warum Ausnahmen nicht im JIT-kompilierten Code auftreten, die hingegen in Code auftreten, der mit .NET Native kompiliert wurde.</span><span class="sxs-lookup"><span data-stu-id="e7237-106">This topic compares .NET Native with other compilation technologies available for .NET Framework apps, and also provides a practical overview of how .NET Native produces native code that can help you understand why exceptions that occur in code compiled with .NET Native do not occur in JIT-compiled code.</span></span>

## <a name="net-native-generating-native-binaries"></a><span data-ttu-id="e7237-107">.NET Native: Generieren von systemeigenen Binärdateien</span><span class="sxs-lookup"><span data-stu-id="e7237-107">.NET Native: Generating native binaries</span></span>

<span data-ttu-id="e7237-108">Eine Anwendung, die auf das .NET Framework ausgerichtet ist und nicht mithilfe der .NET Native-Toolkette kompiliert wurde, besteht aus Ihrer Anwendungsassembly, die Folgendes umfasst:</span><span class="sxs-lookup"><span data-stu-id="e7237-108">An application that targets the .NET Framework and that is not compiled by using the .NET Native tool chain consists of your application assembly, which includes the following:</span></span>

- <span data-ttu-id="e7237-109">[Metadaten](../../standard/metadata-and-self-describing-components.md), die die Assembly, ihre Abhängigkeiten, die enthaltenen Typen und ihre Member beschreiben.</span><span class="sxs-lookup"><span data-stu-id="e7237-109">[Metadata](../../standard/metadata-and-self-describing-components.md) that describes the assembly, its dependencies, the types it contains, and their members.</span></span> <span data-ttu-id="e7237-110">Die Metadaten werden für die Reflektion und den spät gebunden Zugriff sowie in einigen Fällen auch vom Compiler und den Buildtools verwendet.</span><span class="sxs-lookup"><span data-stu-id="e7237-110">The metadata is used for reflection and late-bound access, and in some cases by compiler and build tools as well.</span></span>

- <span data-ttu-id="e7237-111">Implementierungscode.</span><span class="sxs-lookup"><span data-stu-id="e7237-111">Implementation code.</span></span> <span data-ttu-id="e7237-112">Dieser besteht aus Opcodes der Zwischensprache (Intermediate Language, IL).</span><span class="sxs-lookup"><span data-stu-id="e7237-112">This consists of intermediate language (IL) opcodes.</span></span> <span data-ttu-id="e7237-113">Zur Laufzeit übersetzt der JIT-Compiler (Just-In-Time) den Implementierungscode für die Zielplattform in systemeigenen Code.</span><span class="sxs-lookup"><span data-stu-id="e7237-113">At runtime, the just-in-time (JIT) compiler translates it into native code for the target platform.</span></span>

 <span data-ttu-id="e7237-114">Zusätzlich zur Assembly der Hauptanwendung erfordert eine App Folgendes:</span><span class="sxs-lookup"><span data-stu-id="e7237-114">In addition to your main application assembly, an app requires that the following be present:</span></span>

- <span data-ttu-id="e7237-115">Alle zusätzlichen Klassenbibliotheken oder Assemblys von Drittanbietern, die für die App erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="e7237-115">Any additional class libraries or third-party assemblies that are required by your app.</span></span> <span data-ttu-id="e7237-116">Diese Assemblys schließen gleichermaßen die Assembly, ihre Typen und Member beschreibende Metadaten sowie die Zwischensprache (IL) ein, die alle Typmember implementiert.</span><span class="sxs-lookup"><span data-stu-id="e7237-116">These assemblies similarly include metadata that describes the assembly, its types, and their members, as well as the IL that implements all type members.</span></span>

- <span data-ttu-id="e7237-117">Die .NET Framework-Klassenbibliothek.</span><span class="sxs-lookup"><span data-stu-id="e7237-117">The .NET Framework Class Library.</span></span> <span data-ttu-id="e7237-118">Hierbei handelt es sich um eine Auflistung von Assemblys, die während der Installation des .NET Frameworks auf dem lokalen System installiert werden.</span><span class="sxs-lookup"><span data-stu-id="e7237-118">This is a collection of assemblies that is installed on the local system with the .NET Framework installation.</span></span> <span data-ttu-id="e7237-119">Die in der .NET Framework-Klassenbibliothek einbezogenen Assemblys umfassen einen vollständigen Satz von Metadaten und Implementierungscode.</span><span class="sxs-lookup"><span data-stu-id="e7237-119">The assemblies included in the .NET Framework Class Library include a complete set of metadata and implementation code.</span></span>

- <span data-ttu-id="e7237-120">Die Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="e7237-120">The common language runtime.</span></span> <span data-ttu-id="e7237-121">Hierbei handelt es sich um eine Auflistung von DLLs (Dynamic Link Library), die Dienste wie die Folgenden ausführen: Laden von Assemblys, Speicherverwaltung und Garbage Collection, Ausnahmebehandlung, JIT-Kompilierung (Just-In-Time), Remoting und Interoperabilität.</span><span class="sxs-lookup"><span data-stu-id="e7237-121">This is a collection of dynamic link libraries that perform such services as assembly loading, memory management and garbage collection, exception handling, just-in-time compilation, remoting, and interop.</span></span> <span data-ttu-id="e7237-122">Wie die Klassenbibliothek wird die Common Language Runtime im Rahmen der .NET Framework-Installation auf dem lokalen System installiert.</span><span class="sxs-lookup"><span data-stu-id="e7237-122">Like the class library, the runtime is installed on the local system as part of the .NET Framework installation.</span></span>

<span data-ttu-id="e7237-123">Beachten Sie, dass die gesamte Common Language Runtime sowie die Metadaten und die Zwischensprache (Intermediate Language, IL) für alle Typen in anwendungsspezifischen Assemblys, Assemblys von Drittanbietern und Systemassemblys vorhanden sein müssen, damit die App erfolgreich ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="e7237-123">Note that the entire common language runtime, as well as metadata and IL for all types in application-specific assemblies, third-party assemblies, and system assemblies must be present for the app to execute successfully.</span></span>

## <a name="net-native-and-just-in-time-compilation"></a><span data-ttu-id="e7237-124">.NET Native- und JIT-Kompilierung (Just-In-Time)</span><span class="sxs-lookup"><span data-stu-id="e7237-124">.NET Native and just-in-time compilation</span></span>

<span data-ttu-id="e7237-125">Die Eingabe für die .NET Native-Toolkette ist die vom C#- oder Visual Basic-Compiler erstellte Windows Store-App.</span><span class="sxs-lookup"><span data-stu-id="e7237-125">The input for the .NET Native tool chain is the Windows store app built by the C# or Visual Basic compiler.</span></span> <span data-ttu-id="e7237-126">Die .NET Native-Toolkette beginnt die Ausführung somit nach Abschluss der Kompilierung einer Windows Store-App durch den Sprachcompiler.</span><span class="sxs-lookup"><span data-stu-id="e7237-126">In other words, the .NET Native tool chain begins execution when the language compiler has finished compilation of a Windows Store app.</span></span>

> [!TIP]
> <span data-ttu-id="e7237-127">Da es sich bei der Eingabe für .NET Native um die in verwaltete Assemblys geschriebene Zwischensprache (Intermediate Language) und die Metadaten handelt, können Sie weiterhin benutzerdefinierten Code generieren oder andere benutzerdefinierte Operationen mithilfe von Bildvorstufen- oder Postbuild-Ereignissen oder durch Ändern der MSBuild-Projektdatei ausführen.</span><span class="sxs-lookup"><span data-stu-id="e7237-127">Because the input to .NET Native is the IL and metadata written to managed assemblies, you can still perform custom code generation or other custom operations by using pre-build or post-build events or by modifying the MSBuild project file.</span></span>
>
> <span data-ttu-id="e7237-128">Kategorien von Tools, die die Zwischensprache ändern und dadurch die .NET-Toolkette daran hindern, die Zwischensprache einer App zu analysieren, werden jedoch nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e7237-128">However, categories of tools that modify IL and thereby prevent the .NET tool chain from analyzing an app's IL are not supported.</span></span> <span data-ttu-id="e7237-129">Obfuskatoren sind die bemerkenswertesten Tools dieses Typs.</span><span class="sxs-lookup"><span data-stu-id="e7237-129">Obfuscators are the most notable tools of this type.</span></span>

<span data-ttu-id="e7237-130">Beim Konvertieren einer App aus der Zwischensprache in nativen Code führt die .NET Native-Toolkette Vorgänge wie die Folgenden aus:</span><span class="sxs-lookup"><span data-stu-id="e7237-130">In the course of converting an app from IL to native code, the .NET Native tool chain performs operations like the following:</span></span>

- <span data-ttu-id="e7237-131">Für bestimmte Codepfade wird Code ersetzt, der auf Reflektion und Metadaten mit statischem systemeigenem Code beruht.</span><span class="sxs-lookup"><span data-stu-id="e7237-131">For certain code paths, it replaces code that relies on reflection and metadata with static native code.</span></span> <span data-ttu-id="e7237-132">Wenn ein Werttyp z. B. die <xref:System.ValueType.Equals%2A?displayProperty=nameWithType>-Methode nicht außer Kraft setzt, verwendet der Standardtest zur Ermittlung der Gleichheit die Reflektion, um <xref:System.Reflection.FieldInfo>-Objekte abzurufen, die die Felder des Werttyps darstellen. Anschließend werden die Feldwerte von zwei Instanzen verglichen.</span><span class="sxs-lookup"><span data-stu-id="e7237-132">For example, if a value type does not override the <xref:System.ValueType.Equals%2A?displayProperty=nameWithType> method, the default test for equality uses reflection to retrieve <xref:System.Reflection.FieldInfo> objects that represent the value type's fields, then compares the field values of two instances.</span></span> <span data-ttu-id="e7237-133">Beim Kompilieren in nativen Code ersetzt die .NET Native-Toolkette den Reflektionscode und die Metadaten durch einen statischen Vergleich der Feldwerte.</span><span class="sxs-lookup"><span data-stu-id="e7237-133">When compiling to native code, the .NET Native tool chain replaces the reflection code and metadata with a static comparison of the field values.</span></span>

- <span data-ttu-id="e7237-134">Dabei wird nach Möglichkeit versucht, alle Metadaten zu beseitigen.</span><span class="sxs-lookup"><span data-stu-id="e7237-134">Where possible, it attempts to eliminate all metadata.</span></span>

- <span data-ttu-id="e7237-135">In die Assemblys der endgültigen App wird nur der Implementierungscode einbezogen, der tatsächlich von der App aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="e7237-135">It includes in the final app assemblies only the implementation code that is actually invoked by the app.</span></span> <span data-ttu-id="e7237-136">Dies betrifft vor allem Code in Bibliotheken von Drittanbietern und in der .NET Framework-Klassenbibliothek.</span><span class="sxs-lookup"><span data-stu-id="e7237-136">This particularly affects code in third-party libraries and in the .NET Framework Class Library.</span></span> <span data-ttu-id="e7237-137">Eine Anwendung hängt demzufolge nicht mehr von Bibliotheken von Drittanbietern oder der vollständigen .NET Framework-Klassenbibliothek ab. Der Code in Bibliotheken von Drittanbietern und in .NET Framework-Klassenbibliotheken ist jetzt stattdessen im Hinblick auf die Anwendung lokal verfügbar.</span><span class="sxs-lookup"><span data-stu-id="e7237-137">As a result, an application no longer depends on either third-party libraries or the full .NET Framework Class Library; instead, code in third-party and .NET Framework class libraries is now local to the app.</span></span>

- <span data-ttu-id="e7237-138">Dadurch wird die vollständige Common Language Runtime (CLR) durch eine umgestaltete Common Language Runtime ersetzt, die in erster Linie den Garbage Collector enthält.</span><span class="sxs-lookup"><span data-stu-id="e7237-138">It replaces the full CLR with a refactored runtime that primarily contains the garbage collector.</span></span> <span data-ttu-id="e7237-139">Die umgestaltete Common Language Runtime befindet sich in einer Bibliothek namens "mrt100_app.dll", die für die Anwendung lokal verfügbar und nur wenige hundert Kilobyte groß ist.</span><span class="sxs-lookup"><span data-stu-id="e7237-139">The refactored runtime is found in a library named mrt100_app.dll that is local to the app and is only a few hundred kilobytes in size.</span></span> <span data-ttu-id="e7237-140">Dies ist dadurch möglich, dass die statische Verknüpfung den Bedarf an vielen der von der Common Language Runtime ausgeführten Dienste beseitigt.</span><span class="sxs-lookup"><span data-stu-id="e7237-140">This is possible because static linking eliminates the need for many of the services performed by the common language runtime.</span></span>

  > [!NOTE]
  > <span data-ttu-id="e7237-141">.NET Native verwendet denselben Garbage Collector als Standard-CLR (Common Language Runtime).</span><span class="sxs-lookup"><span data-stu-id="e7237-141">.NET Native uses the same garbage collector as the standard common language runtime.</span></span> <span data-ttu-id="e7237-142">Beim .NET Native Garbage Collector ist die Garbage Collection im Hintergrund standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="e7237-142">In the .NET Native garbage collector, background garbage collection is enabled by default.</span></span> <span data-ttu-id="e7237-143">Weitere Informationen zur Garbage Collection finden Sie unter [Grundlagen der Garbage Collection](../../standard/garbage-collection/fundamentals.md).</span><span class="sxs-lookup"><span data-stu-id="e7237-143">For more information about garbage collection, see [Fundamentals of Garbage Collection](../../standard/garbage-collection/fundamentals.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e7237-144">.NET Native kompiliert eine gesamte Anwendung in eine systemeigene Anwendung.</span><span class="sxs-lookup"><span data-stu-id="e7237-144">.NET Native compiles an entire application to a native application.</span></span> <span data-ttu-id="e7237-145">Es ist Ihnen dabei nicht gestattet, einzelne Assemblys, die eine Klassenbibliothek enthalten, in nativen Code zu kompilieren, damit diese unabhängig vom verwalteten Code aufgerufen werden können.</span><span class="sxs-lookup"><span data-stu-id="e7237-145">It does not allow you to compile a single assembly that contains a class library to native code so that it can be called independently from managed code.</span></span>

<span data-ttu-id="e7237-146">Die von der .NET Native-Toolkette erzeugte resultierende App wird im Debug- oder Releaseverzeichnis Ihres Projektverzeichnisses in ein Verzeichnis namens „ilc.out“ geschrieben.</span><span class="sxs-lookup"><span data-stu-id="e7237-146">The resulting app that is produced by the .NET Native tool chain is written to a directory named ilc.out in the Debug or Release directory of your project directory.</span></span> <span data-ttu-id="e7237-147">Die App besteht aus den folgenden Dateien:</span><span class="sxs-lookup"><span data-stu-id="e7237-147">It consists of the following files:</span></span>

- <span data-ttu-id="e7237-148">*\<appName>*. exe, eine ausführbare Stubdatei, die die Steuerung einfach an einen speziellen `Main` Export in *\<appName>* . dll überträgt.</span><span class="sxs-lookup"><span data-stu-id="e7237-148">*\<appName>*.exe, a stub executable that simply transfers control to a special `Main` export in *\<appName>*.dll.</span></span>

- <span data-ttu-id="e7237-149">*\<appName>*. dll, eine Windows Dynamic Link Library, die den gesamten Anwendungscode enthält, sowie Code aus der .NET Framework-Klassenbibliothek und allen Bibliotheken von Drittanbietern, von denen Sie abhängig sind.</span><span class="sxs-lookup"><span data-stu-id="e7237-149">*\<appName>*.dll, a Windows dynamic link library that contains all your application code, as well as code from the .NET Framework Class Library and any third-party libraries that you have a dependency on.</span></span>  <span data-ttu-id="e7237-150">Sie enthält auch Unterstützungscode, z. B. den für die Zusammenarbeit mit Windows und zum Serialisieren von Objekten in der App erforderlichen Code.</span><span class="sxs-lookup"><span data-stu-id="e7237-150">It also contains support code, such as the code necessary to interoperate with Windows and to serialize objects in your app.</span></span>

- <span data-ttu-id="e7237-151">"mrt100_app.dll": Eine umgestaltete Common Language Runtime, die Laufzeitdienste wie die Garbage Collection bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="e7237-151">mrt100_app.dll, a refactored runtime that provides runtime services such as garbage collection.</span></span>

 <span data-ttu-id="e7237-152">Alle Abhängigkeiten werden vom APPX-Manifest der App erfasst.</span><span class="sxs-lookup"><span data-stu-id="e7237-152">All dependencies are captured by the app's APPX manifest.</span></span>  <span data-ttu-id="e7237-153">Zusätzlich zur EXE- und DLL-Datei der Anwendung sowie zur Datei "mrt100_app.dll", die direkt im AppX-Paket gebündelt werden, sind zwei weitere Dateien enthalten:</span><span class="sxs-lookup"><span data-stu-id="e7237-153">In addition to the application exe, dll, and mrt100_app.dll, which are bundled directly in the appx package, this includes two more files:</span></span>

- <span data-ttu-id="e7237-154">„msvcr140_app.dll“: Die von der Datei „mrt100_app.dll“ verwendete C-Laufzeitbibliothek (CRT).</span><span class="sxs-lookup"><span data-stu-id="e7237-154">msvcr140_app.dll, the C run-time (CRT) library used by mrt100_app.dll.</span></span> <span data-ttu-id="e7237-155">Sie ist über einen Frameworkverweis in das Paket einbezogen.</span><span class="sxs-lookup"><span data-stu-id="e7237-155">It is included by a framework reference in the package.</span></span>

- <span data-ttu-id="e7237-156">"mrt100.dll":</span><span class="sxs-lookup"><span data-stu-id="e7237-156">mrt100.dll.</span></span> <span data-ttu-id="e7237-157">Diese Bibliothek enthält Funktionen, die die Leistung der Datei "mrt100_app.dll" verbessern können, obwohl die Funktionalität der Datei "mrt100_app.dll" nicht verhindert wird, wenn diese Bibliothek nicht vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="e7237-157">This library includes functions that can improve the performance of mrt100_app.dll, although its absence does not prevent mrt100_app.dll from functioning.</span></span> <span data-ttu-id="e7237-158">Wenn die Bibliothek verfügbar ist, wird sie auf dem lokalen Computer aus dem Verzeichnis "system32" geladen.</span><span class="sxs-lookup"><span data-stu-id="e7237-158">It is loaded from the system32 directory on the local machine, if it is present.</span></span>

<span data-ttu-id="e7237-159">Da die .NET Native-Toolkette den Implementierungscode in Ihrer App nur verknüpft, wenn ihr bekannt ist, dass die App den Code tatsächlich aufruft, werden die Metadaten oder der Implementierungscode möglicherweise nicht in die App einbezogen, die in den folgenden Szenarien erforderlich sind:</span><span class="sxs-lookup"><span data-stu-id="e7237-159">Because the .NET Native tool chain links implementation code into your app only if it knows that your app actually invokes that code, either the metadata or the implementation code required in the following scenarios may not be included with your app:</span></span>

- <span data-ttu-id="e7237-160">Reflektion.</span><span class="sxs-lookup"><span data-stu-id="e7237-160">Reflection.</span></span>

- <span data-ttu-id="e7237-161">Dynamischer oder spät gebundener Aufruf</span><span class="sxs-lookup"><span data-stu-id="e7237-161">Dynamic or late-bound invocation.</span></span>

- <span data-ttu-id="e7237-162">Serialisierung und Deserialisierung</span><span class="sxs-lookup"><span data-stu-id="e7237-162">Serialization and deserialization.</span></span>

- <span data-ttu-id="e7237-163">COM-Interop</span><span class="sxs-lookup"><span data-stu-id="e7237-163">COM interop.</span></span>

<span data-ttu-id="e7237-164">Fehlen die erforderlichen Metadaten oder der Implementierungscode zur Laufzeit, löst die .NET Native Common Language Runtime eine Ausnahme aus.</span><span class="sxs-lookup"><span data-stu-id="e7237-164">If the necessary metadata or implementation code is absent at runtime, the .NET Native runtime throws an exception.</span></span> <span data-ttu-id="e7237-165">Sie können diese Ausnahmen verhindern und sicherstellen, dass die .NET Native-Toolkette die erforderlichen Metadaten und den Implementierungscode enthält, indem Sie eine [Laufzeitanweisungsdatei](runtime-directives-rd-xml-configuration-file-reference.md) (eine XML-Datei) verwenden, die die Programmelemente bezeichnet, deren Metadaten oder Implementierungscode zur Laufzeit verfügbar sein müssen, und ihnen eine Laufzeitrichtlinie zuweist.</span><span class="sxs-lookup"><span data-stu-id="e7237-165">You can prevent these exceptions, and ensure that the .NET Native tool chain includes the required metadata and implementation code, by using a [runtime directives file](runtime-directives-rd-xml-configuration-file-reference.md), an XML file that designates the program elements whose metadata or implementation code must be available at runtime and assigns a runtime policy to them.</span></span> <span data-ttu-id="e7237-166">Nachfolgend finden Sie die standardmäßige Laufzeitdirektivendatei, die zu einem Windows Store-Projekt hinzugefügt wird, das von der .NET Native-Toolkette kompiliert wird:</span><span class="sxs-lookup"><span data-stu-id="e7237-166">The following is the default runtime directives file that is added to a Windows Store project that is compiled by the .NET Native tool chain:</span></span>

```xml
<Directives xmlns="http://schemas.microsoft.com/netfx/2013/01/metadata">
  <Application>
    <Assembly Name="*Application*" Dynamic="Required All" />
  </Application>
</Directives>
```

<span data-ttu-id="e7237-167">Auf diese Weise werden sämtliche Typen und ihre Member in allen Assemblys im Anwendungspaket für die Reflektion und den dynamischen Aufruf aktiviert.</span><span class="sxs-lookup"><span data-stu-id="e7237-167">This enables all the types, as well as all their members, in all the assemblies in your app package for reflection and dynamic invocation.</span></span> <span data-ttu-id="e7237-168">Die Reflektion oder dynamische Aktivierung von Typen in Assemblys der .NET Framework-Klassenbibliothek werden jedoch nicht aktiviert.</span><span class="sxs-lookup"><span data-stu-id="e7237-168">However, it does not enable reflection or dynamic activation of types in .NET Framework Class Library assemblies.</span></span> <span data-ttu-id="e7237-169">In vielen Fällen ist dies ausreichend.</span><span class="sxs-lookup"><span data-stu-id="e7237-169">In many cases, this is adequate.</span></span>

## <a name="net-native-and-ngen"></a><span data-ttu-id="e7237-170">.NET Native und NGEN</span><span class="sxs-lookup"><span data-stu-id="e7237-170">.NET Native and NGEN</span></span>

<span data-ttu-id="e7237-171">Der [Native Image Generator](../tools/ngen-exe-native-image-generator.md) (NGEN) kompiliert Assemblys in nativen Code und installiert sie auf dem lokalen Computer im nativen Imagecache.</span><span class="sxs-lookup"><span data-stu-id="e7237-171">The [(Native Image Generator](../tools/ngen-exe-native-image-generator.md) (NGEN) compiles assemblies to native code and installs them in the native image cache on the local computer.</span></span> <span data-ttu-id="e7237-172">Obwohl NGEN wie .NET Native systemeigenen Code erzeugt, unterscheidet sich NGEN jedoch in einigen entscheidenden Punkten von .NET Native:</span><span class="sxs-lookup"><span data-stu-id="e7237-172">However, although NGEN, like .NET Native, produces native code, it differs from .NET Native in some significant ways:</span></span>

- <span data-ttu-id="e7237-173">Wenn für eine bestimmte Methode kein systemeigenes Image verfügbar ist, greift NGEN für den Code auf den JIT-Compiler zurück.</span><span class="sxs-lookup"><span data-stu-id="e7237-173">If no native image is available for a particular method, NGEN falls back to JITing code.</span></span> <span data-ttu-id="e7237-174">Das bedeutet, dass systemeigene Images für den Fall weiterhin Metadaten und die Zwischensprache (Intermediate Language, IL) einbeziehen müssen, dass NGEN auf die JIT-Kompilierung zurückgreift.</span><span class="sxs-lookup"><span data-stu-id="e7237-174">This means that native images must continue to include metadata and IL in the event that NGEN needs to fall back to JIT compilation.</span></span> <span data-ttu-id="e7237-175">.NET Native erzeugt im Gegensatz dazu nur systemeigene Images und greift nicht auf die JIT-Kompilierung zurück.</span><span class="sxs-lookup"><span data-stu-id="e7237-175">In contrast, .NET Native produces only native images and does not fall back to JIT compilation.</span></span> <span data-ttu-id="e7237-176">Daher müssen nur Metadaten erhalten bleiben, die für einige Reflektions-, Serialisierungs- und Interop-Szenarien erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="e7237-176">As a result, only metadata required for some reflection, serialization, and interop scenarios must be preserved.</span></span>

- <span data-ttu-id="e7237-177">NGEN beruht für Dienste wie Laden von Assemblys, Remoting, Interop, Speicherverwaltung, Garbage Collection und ggf. JIT-Kompilierung weiterhin auf der vollständigen Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="e7237-177">NGEN continues to rely on the full common language runtime for services such as assembly loading, remoting, interop, memory management, garbage collection, and, if necessary, JIT compilation.</span></span> <span data-ttu-id="e7237-178">In .NET Native sind viele dieser Dienste entweder nicht erforderlich (JIT-Kompilierung) oder werden zur Buildzeit aufgelöst und in die App-Assembly einbezogen.</span><span class="sxs-lookup"><span data-stu-id="e7237-178">In .NET Native, many of these services are either unnecessary (JIT compilation) or are resolved at build-time and incorporated in the app assembly.</span></span> <span data-ttu-id="e7237-179">Die verbleibenden Dienste, von denen der wichtigste die Garbage Collection ist, sind in einer wesentlich kleineren, umgestalteten Common Language Runtime namens "mrt100_app.dll" enthalten.</span><span class="sxs-lookup"><span data-stu-id="e7237-179">The remaining services, the most important of which is garbage collection, are included in a much smaller, refactored runtime named mrt100_app.dll.</span></span>

- <span data-ttu-id="e7237-180">NGEN-Images sind eher anfällig.</span><span class="sxs-lookup"><span data-stu-id="e7237-180">NGEN images tend to be fragile.</span></span> <span data-ttu-id="e7237-181">Ein Patch oder eine Änderung für eine Abhängigkeit erfordert z. B. in der Regel, dass NGEN für die Assemblys, die diese verwenden, ebenfalls erneut durchgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="e7237-181">For example, a patch or change to a dependency typically requires that the assemblies that use it also be re-NGENed.</span></span> <span data-ttu-id="e7237-182">Dies gilt insbesondere für Systemassemblys in der .NET Framework-Klassenbibliothek.</span><span class="sxs-lookup"><span data-stu-id="e7237-182">This is particularly true of system assemblies in the .NET Framework Class Library.</span></span> <span data-ttu-id="e7237-183">Im Gegensatz dazu gestattet .NET Native, dass Anwendungen unabhängig voneinander bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="e7237-183">In contrast, .NET Native allows applications to be served independently of one another.</span></span>

## <a name="see-also"></a><span data-ttu-id="e7237-184">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="e7237-184">See also</span></span>

- [<span data-ttu-id="e7237-185">Metadaten und selbstbeschreibende Komponenten</span><span class="sxs-lookup"><span data-stu-id="e7237-185">Metadata and Self-Describing Components</span></span>](../../standard/metadata-and-self-describing-components.md)
- [<span data-ttu-id="e7237-186">Inside .NET Native (Channel 9-Video)</span><span class="sxs-lookup"><span data-stu-id="e7237-186">Inside .NET Native (Channel 9 Video)</span></span>](https://channel9.msdn.com/Shows/Going+Deep/Inside-NET-Native)
- [<span data-ttu-id="e7237-187">Reflektion und .NET Native</span><span class="sxs-lookup"><span data-stu-id="e7237-187">Reflection and .NET Native</span></span>](reflection-and-net-native.md)
- [<span data-ttu-id="e7237-188">.NET Native Allgemeine Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="e7237-188">.NET Native General Troubleshooting</span></span>](net-native-general-troubleshooting.md)
