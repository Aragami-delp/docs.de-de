---
title: Konfigurieren von HTTP und HTTPS
description: Erfahren Sie, wie Sie http/https so konfigurieren, dass WCF-Dienste und-Clients kommunizieren können. Konfigurieren Sie eine URL-Registrierung und eine Firewallausnahme, indem Sie Netsh.exe verwenden.
ms.date: 04/08/2019
helpviewer_keywords:
- configuring HTTP [WCF]
ms.assetid: b0c29a86-bc0c-41b3-bc1e-4eb5bb5714d4
ms.openlocfilehash: fbff78ff8e2c5c4fa73a56a3fdc15163596aa985
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/23/2020
ms.locfileid: "85245140"
---
# <a name="configuring-http-and-https"></a><span data-ttu-id="c77be-104">Konfigurieren von HTTP und HTTPS</span><span class="sxs-lookup"><span data-stu-id="c77be-104">Configuring HTTP and HTTPS</span></span>

<span data-ttu-id="c77be-105">WCF-Dienste und -Clients können über HTTP und HTTPS kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="c77be-105">WCF services and clients can communicate over HTTP and HTTPS.</span></span> <span data-ttu-id="c77be-106">Die HTTP/HTTPS-Einstellungen werden mit Internetinformationsdienste (IIS) oder mit einem Befehlszeilentool konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="c77be-106">The HTTP/HTTPS settings are configured by using Internet Information Services (IIS) or through the use of a command-line tool.</span></span> <span data-ttu-id="c77be-107">Wenn ein WCF-Dienst unter IIS gehostet wird, können die HTTP- oder HTTPS-Einstellungen in IIS konfiguriert werden (mit dem Tool "inetmgr.exe").</span><span class="sxs-lookup"><span data-stu-id="c77be-107">When a WCF service is hosted under IIS HTTP or HTTPS settings can be configured within IIS (using the inetmgr.exe tool).</span></span> <span data-ttu-id="c77be-108">Bei einem selbst gehosteten WCF-Dienst werden die HTTP- oder HTTPS-Einstellungen mit einem Befehlszeilentool konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="c77be-108">If a WCF service is self-hosted, HTTP or HTTPS settings are configured by using a command-line tool.</span></span>

<span data-ttu-id="c77be-109">Sie möchten mindestens eine URL-Registrierung konfigurieren und eine Firewallausnahme für die URL hinzufügen, die der Dienst verwendet.</span><span class="sxs-lookup"><span data-stu-id="c77be-109">At a minimum, you want to configure a URL registration and add a Firewall exception for the URL your service will be using.</span></span> <span data-ttu-id="c77be-110">Sie können diese Einstellungen mit dem Netsh.exe Tool konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="c77be-110">You can configure these settings with the Netsh.exe tool.</span></span>

## <a name="configuring-namespace-reservations"></a><span data-ttu-id="c77be-111">Konfigurieren von Namespace Reservierungen</span><span class="sxs-lookup"><span data-stu-id="c77be-111">Configuring namespace reservations</span></span>

<span data-ttu-id="c77be-112">Eine Namespacereservierung weist die Rechte für einen Teil des HTTP-URL-Namespace einer bestimmten Gruppe von Benutzern zu.</span><span class="sxs-lookup"><span data-stu-id="c77be-112">Namespace reservation assigns the rights for a portion of the HTTP URL namespace to a particular group of users.</span></span> <span data-ttu-id="c77be-113">Eine Reservierung gibt diesen Benutzern das Recht, Dienste zu erstellen, die bei diesem Teil des Namespaces lauschen.</span><span class="sxs-lookup"><span data-stu-id="c77be-113">A reservation gives those users the right to create services that listen on that portion of the namespace.</span></span> <span data-ttu-id="c77be-114">Reservierungen sind URL-Präfixe, d. h., die Reservierung deckt alle unter Pfade des Reservierungs Pfads ab.</span><span class="sxs-lookup"><span data-stu-id="c77be-114">Reservations are URL prefixes, meaning that the reservation covers all subpaths of the reservation path.</span></span> <span data-ttu-id="c77be-115">Namespacereservierungen eröffnen zwei Möglichkeiten, Platzhalter zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="c77be-115">Namespace reservations permit two ways to use wildcards.</span></span> <span data-ttu-id="c77be-116">In der HTTP-Server-API-Dokumentation wird die [Reihenfolge der Auflösung zwischen Namespace Ansprüchen, die Platzhalter einschließen,](/windows/desktop/Http/routing-incoming-requests)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c77be-116">The HTTP Server API documentation describes the [order of resolution between namespace claims that involve wildcards](/windows/desktop/Http/routing-incoming-requests).</span></span>

<span data-ttu-id="c77be-117">Eine laufende Anwendung kann eine ähnliche Anforderung stellen, um Namespaceregistrierungen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="c77be-117">A running application can create a similar request to add namespace registrations.</span></span> <span data-ttu-id="c77be-118">Registrierungen und Reservierungen konkurrieren um Teile des Namespaces.</span><span class="sxs-lookup"><span data-stu-id="c77be-118">Registrations and reservations compete for portions of the namespace.</span></span> <span data-ttu-id="c77be-119">Eine Reservierung hat möglicherweise Vorrang vor einer Registrierung entsprechend der Auflösungs Reihenfolge in der [Reihenfolge der Auflösung zwischen Namespace Ansprüchen, die](/windows/desktop/Http/routing-incoming-requests)Platzhalter einschließen.</span><span class="sxs-lookup"><span data-stu-id="c77be-119">A reservation may have precedence over a registration according to the order of resolution given in the [order of resolution between namespace claims that involve wildcards](/windows/desktop/Http/routing-incoming-requests).</span></span> <span data-ttu-id="c77be-120">In diesem Fall blockiert die Reservierung in der laufenden Anwendung den Empfang von Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="c77be-120">In this case, the reservation blocks the running application from receiving requests.</span></span>

<span data-ttu-id="c77be-121">Im folgenden Beispiel wird das Netsh.exe Tool verwendet:</span><span class="sxs-lookup"><span data-stu-id="c77be-121">The following example uses the Netsh.exe tool:</span></span>

```console
netsh http add urlacl url=http://+:80/MyUri user=DOMAIN\user
```

<span data-ttu-id="c77be-122">Mit diesem Befehl wird eine URL-Reservierung für den angegebenen URL-Namespace für das Konto "Domäne \ Benutzer" hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="c77be-122">This command adds a URL reservation for the specified URL namespace for the DOMAIN\user account.</span></span> <span data-ttu-id="c77be-123">Weitere Informationen zur Verwendung des Netsh-Befehls erhalten Sie, wenn `netsh http add urlacl /?` Sie an einer Eingabeaufforderung eingeben und die EINGABETASTE drücken.</span><span class="sxs-lookup"><span data-stu-id="c77be-123">For more information on using the netsh command, type `netsh http add urlacl /?` in a command-prompt and press Enter.</span></span>

## <a name="configuring-a-firewall-exception"></a><span data-ttu-id="c77be-124">Konfigurieren einer Firewallausnahme</span><span class="sxs-lookup"><span data-stu-id="c77be-124">Configuring a firewall exception</span></span>

<span data-ttu-id="c77be-125">Beim Selbsthosting eines WCF-Diensts, der über HTTP kommuniziert, muss der Firewallkonfiguration eine Ausnahme hinzugefügt werden, die eingehende Verbindungen über eine bestimmte URL zulässt.</span><span class="sxs-lookup"><span data-stu-id="c77be-125">When self-hosting a WCF service that communicates over HTTP, an exception must be added to the firewall configuration to allow inbound connections using a particular URL.</span></span>

## <a name="configuring-ssl-certificates"></a><span data-ttu-id="c77be-126">Konfigurieren von SSL-Zertifikaten</span><span class="sxs-lookup"><span data-stu-id="c77be-126">Configuring SSL certificates</span></span>

<span data-ttu-id="c77be-127">Das Secure Sockets Layer (SSL)-Protokoll verwendet Zertifikate auf Client und Server, um Verschlüsselungsschlüssel zu speichern.</span><span class="sxs-lookup"><span data-stu-id="c77be-127">The Secure Sockets Layer (SSL) protocol uses certificates on the client and server to store encryption keys.</span></span> <span data-ttu-id="c77be-128">Der Server muss ein SSL-Zertifikat bereitstellen, wenn eine Verbindung hergestellt wird, damit der Client die Identität des Servers überprüfen kann.</span><span class="sxs-lookup"><span data-stu-id="c77be-128">The server provides its SSL certificate when a connection is made so that the client can verify the server identity.</span></span> <span data-ttu-id="c77be-129">Der Server kann ebenfalls ein Zertifikat vom Client anfordern, so dass eine wechselseitige Authentifizierung auf beiden Seiten der Verbindung möglich wird.</span><span class="sxs-lookup"><span data-stu-id="c77be-129">The server can also request a certificate from the client to provide mutual authentication of both sides of the connection.</span></span>

<span data-ttu-id="c77be-130">Zertifikate sind in einem zentralen Speicher entsprechend der IP-Adresse und der Anschlussnummer der Verbindung gespeichert.</span><span class="sxs-lookup"><span data-stu-id="c77be-130">Certificates are stored in a centralized store according to the IP address and port number of the connection.</span></span> <span data-ttu-id="c77be-131">Die spezielle IP-Adresse 0.0.0.0 stimmt mit jeder IP-Adresse für den lokalen Computer überein.</span><span class="sxs-lookup"><span data-stu-id="c77be-131">The special IP address 0.0.0.0 matches any IP address for the local machine.</span></span> <span data-ttu-id="c77be-132">Beachten Sie, dass der Zertifikat Speicher keine URLs basierend auf dem Pfad unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="c77be-132">Note that the certificate store doesn't distinguish URLs based on the path.</span></span> <span data-ttu-id="c77be-133">Dienste mit der gleichen Kombination von IP-Adresse und Anschlussnummer müssen die gleichen Zertifikate verwenden, auch wenn sich der Pfad in der URL dieser Dienste unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="c77be-133">Services with the same IP address and port combination must share certificates even if the path in the URL for the services is different.</span></span>

<span data-ttu-id="c77be-134">Schritt-für-Schritt-Anweisungen finden Sie unter Vorgehens [Weise: Konfigurieren eines Ports mit einem SSL-Zertifikat](how-to-configure-a-port-with-an-ssl-certificate.md).</span><span class="sxs-lookup"><span data-stu-id="c77be-134">For step-by-step instructions, see [How to: Configure a Port with an SSL Certificate](how-to-configure-a-port-with-an-ssl-certificate.md).</span></span>

## <a name="configuring-the-ip-listen-list"></a><span data-ttu-id="c77be-135">Konfigurieren der IP-Lauschliste</span><span class="sxs-lookup"><span data-stu-id="c77be-135">Configuring the IP Listen List</span></span>

<span data-ttu-id="c77be-136">Die HTTP-Server-API stellt erst dann eine Bindung mit einer IP-Adresse und einem Port her, wenn ein Benutzer eine URL registriert.</span><span class="sxs-lookup"><span data-stu-id="c77be-136">The HTTP Server API only binds to an IP address and port once a user registers a URL.</span></span> <span data-ttu-id="c77be-137">Standardmäßig verbindet die HTTP-Server-API mit dem Anschluss in der URL für alle IP-Adressen des Computers.</span><span class="sxs-lookup"><span data-stu-id="c77be-137">By default, the HTTP Server API binds to the port in the URL for all of the IP addresses of the machine.</span></span> <span data-ttu-id="c77be-138">Ein Konflikt tritt auf, wenn eine Anwendung, die die HTTP-Server-API nicht verwendet, zuvor an diese Kombination von IP-Adresse und Port gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="c77be-138">A conflict arises if an application that doesn't use the HTTP Server API has previously bound to that combination of IP address and port.</span></span> <span data-ttu-id="c77be-139">Die IP-Abhörliste ermöglicht die Koexistenz von WCF-Diensten mit Anwendungen, die einen Port für einige der IP-Adressen des Computers verwenden.</span><span class="sxs-lookup"><span data-stu-id="c77be-139">The IP Listen List allows WCF services to coexist with applications that use a port for some of the IP addresses of the machine.</span></span> <span data-ttu-id="c77be-140">Enthält die IP-Lauschliste irgendwelche Einträge, verbindet die HTTP-Server-API nur mit den IP-Adressen, die in der Liste angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="c77be-140">If the IP Listen List contains any entries, the HTTP Server API only binds to those IP addresses that the list specifies.</span></span> <span data-ttu-id="c77be-141">Die Änderung der IP-Lauschliste erfordert Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="c77be-141">Modifying the IP Listen List requires administrative privileges.</span></span>

<span data-ttu-id="c77be-142">Verwenden Sie das Tool Netsh, um die IP-lausch Liste zu ändern, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="c77be-142">Use the netsh tool to modify the IP Listen List, as shown in the following example:</span></span>

```console
netsh http add iplisten ipaddress=0.0.0.0:8000
```

## <a name="other-configuration-settings"></a><span data-ttu-id="c77be-143">Weitere Konfigurationseinstellungen</span><span class="sxs-lookup"><span data-stu-id="c77be-143">Other configuration settings</span></span>

<span data-ttu-id="c77be-144">Bei Verwendung der <xref:System.ServiceModel.WSDualHttpBinding> verwendet die Clientverbindung Standardwerte, die mit Namespacereservierungen und der Windows-Firewall kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="c77be-144">When using <xref:System.ServiceModel.WSDualHttpBinding>, the client connection uses defaults that are compatible with namespace reservations and the Windows firewall.</span></span> <span data-ttu-id="c77be-145">Wenn Sie sich dafür entscheiden, die Clientbasisadresse einer dualen Verbindung anzupassen, müssen Sie diese HTTP-Einstellungen auch auf dem Client mit der neuen Adresse konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="c77be-145">If you choose to customize the client base address of a dual connection, then you also must configure these HTTP settings on the client to match the new address.</span></span>

<span data-ttu-id="c77be-146">Die HTTP-Server-API verfügt über einige erweiterte Konfigurationseinstellungen, die über Httpcfg nicht verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="c77be-146">The HTTP Server API has some advanced configuration settings that aren't available through HttpCfg.</span></span> <span data-ttu-id="c77be-147">Diese Einstellungen sind in der Registrierung gespeichert und gelten für alle Anwendungen, die auf Systemen laufen, die HTTP-Server-APIs verwenden.</span><span class="sxs-lookup"><span data-stu-id="c77be-147">These settings are maintained in the registry and apply to all applications running on the systems that use the HTTP Server APIs.</span></span> <span data-ttu-id="c77be-148">Weitere Informationen zu diesen Einstellungen finden Sie unter [Http.sys Registrierungs Einstellungen für IIS](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows).</span><span class="sxs-lookup"><span data-stu-id="c77be-148">For information about these settings, see [Http.sys registry settings for IIS](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows).</span></span> <span data-ttu-id="c77be-149">Die meisten Benutzer müssen diese Einstellungen nicht ändern.</span><span class="sxs-lookup"><span data-stu-id="c77be-149">Most users don't need to change these settings.</span></span>

## <a name="see-also"></a><span data-ttu-id="c77be-150">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="c77be-150">See also</span></span>

- <xref:System.ServiceModel.WSDualHttpBinding>
- [<span data-ttu-id="c77be-151">Vorgehensweise: Konfigurieren eines Anschlusses mit einem SSL-Zertifikat</span><span class="sxs-lookup"><span data-stu-id="c77be-151">How to: Configure a Port with an SSL Certificate</span></span>](how-to-configure-a-port-with-an-ssl-certificate.md)
