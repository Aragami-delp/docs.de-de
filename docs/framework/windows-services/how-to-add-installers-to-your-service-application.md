---
title: 'Vorgehensweise: Hinzufügen von Installern zur Dienstanwendung'
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Service applications, deploying
- installation components, adding to services
- installers, adding to services
- Windows Service applications, adding installers
- services, adding installers
- ServiceInstaller class, adding installers to services
- ServiceProcessInstaller class, adding installers to services
ms.assetid: 8b698e9a-b88e-4f44-ae45-e0c5ea0ae5a8
author: ghogen
ms.openlocfilehash: 99e2376c50f0b47cc21002b2926818707188805e
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/17/2019
ms.locfileid: "71053653"
---
# <a name="how-to-add-installers-to-your-service-application"></a><span data-ttu-id="d5699-102">Vorgehensweise: Hinzufügen von Installern zur Dienstanwendung</span><span class="sxs-lookup"><span data-stu-id="d5699-102">How to: Add Installers to Your Service Application</span></span>
<span data-ttu-id="d5699-103">Visual Studio liefert Installationskomponenten, mit denen Ihren Dienstanwendungen zugeordnete Ressourcen installiert werden können.</span><span class="sxs-lookup"><span data-stu-id="d5699-103">Visual Studio ships installation components that can install resources associated with your service applications.</span></span> <span data-ttu-id="d5699-104">Installationskomponenten registrieren einen einzelnen Dienst auf dem System, auf dem dieser installiert wird, und informieren den Dienststeuerungs-Manager über das Vorhandensein des Diensts.</span><span class="sxs-lookup"><span data-stu-id="d5699-104">Installation components register an individual service on the system to which it is being installed and let the Services Control Manager know that the service exists.</span></span> <span data-ttu-id="d5699-105">Bei der Arbeit mit einer Dienstanwendung können Sie im Fenster „Eigenschaften“ einen Link auswählen, damit die entsprechenden Installer für Ihr Projekt automatisch hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="d5699-105">When you work with a service application, you can select a link in the Properties window to automatically add the appropriate installers to your project.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d5699-106">Eigenschaftswerte für Ihren Dienst werden aus der Dienstklasse in die Klasse des Installers kopiert.</span><span class="sxs-lookup"><span data-stu-id="d5699-106">Property values for your service are copied from the service class to the installer class.</span></span> <span data-ttu-id="d5699-107">Wenn Sie die Eigenschaftswerte in der Dienstklasse aktualisieren, werden sie nicht automatisch im Installer aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="d5699-107">If you update the property values on the service class, they are not automatically updated in the installer.</span></span>  
  
 <span data-ttu-id="d5699-108">Wenn Sie einen Installer zu Ihrem Projekt hinzufügen, wird in dem Projekt eine neue Klasse erstellt (sie trägt standardmäßig den Namen `ProjectInstaller`), und in dieser Klasse werden Instanzen der entsprechenden Installationskomponenten erstellt.</span><span class="sxs-lookup"><span data-stu-id="d5699-108">When you add an installer to your project, a new class (which, by default, is named `ProjectInstaller`) is created in the project, and instances of the appropriate installation components are created within it.</span></span> <span data-ttu-id="d5699-109">Diese Klasse fungiert als Mittelpunkt für sämtliche Installationspunkte, die für Ihr Projekt erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="d5699-109">This class acts as a central point for all of the installation components your project needs.</span></span> <span data-ttu-id="d5699-110">Wenn Sie beispielsweise einen zweiten Dienst zu Ihrer App hinzufügen und auf den Link „Installer hinzufügen“ klicken, wird keine zweite Installerklasse erstellt. Stattdessen wird die erforderliche zusätzliche Installationskomponente für den zweiten Dienst zur vorhandenen Klasse hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="d5699-110">For example, if you add a second service to your application and click the Add Installer link, a second installer class is not created; instead, the necessary additional installation component for the second service is added to the existing class.</span></span>  
  
 <span data-ttu-id="d5699-111">Für eine ordnungsgemäße Installation Ihrer Dienste ist innerhalb der Installer keine besondere Codierung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="d5699-111">You do not need to do any special coding within the installers to make your services install correctly.</span></span> <span data-ttu-id="d5699-112">Sie müssen jedoch möglicherweise gelegentlich die Inhalte der Installer ändern, wenn Sie besondere Funktionen zum Installer hinzufügen müssen.</span><span class="sxs-lookup"><span data-stu-id="d5699-112">However, you may occasionally need to modify the contents of the installers if you need to add special functionality to the installation process.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d5699-113">Je nach den aktiven Einstellungen oder der Version unterscheiden sich die Dialogfelder und Menübefehle auf Ihrem Bildschirm möglicherweise von den in der Hilfe beschriebenen.</span><span class="sxs-lookup"><span data-stu-id="d5699-113">The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition.</span></span> <span data-ttu-id="d5699-114">Klicken Sie im Menü **Extras** auf **Einstellungen importieren und exportieren** , um die Einstellungen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="d5699-114">To change your settings, choose **Import and Export Settings** on the **Tools** menu.</span></span> <span data-ttu-id="d5699-115">Weitere Informationen finden Sie unter [Personalisieren von Visual Studio-IDE](/visualstudio/ide/personalizing-the-visual-studio-ide).</span><span class="sxs-lookup"><span data-stu-id="d5699-115">For more information, see [Personalize the Visual Studio IDE](/visualstudio/ide/personalizing-the-visual-studio-ide).</span></span>  
  
### <a name="to-add-installers-to-your-service-application"></a><span data-ttu-id="d5699-116">Vorgehensweise beim Hinzufügen von Installern zu Ihrer Dienstanwendung</span><span class="sxs-lookup"><span data-stu-id="d5699-116">To add installers to your service application</span></span>  
  
1. <span data-ttu-id="d5699-117">Greifen Sie im **Projektmappen-Explorer** bei dem Dienst, für den Sie eine Installationskomponente hinzufügen möchten, auf die Ansicht **Entwurf** zu.</span><span class="sxs-lookup"><span data-stu-id="d5699-117">In **Solution Explorer**, access **Design** view for the service for which you want to add an installation component.</span></span>  
  
2. <span data-ttu-id="d5699-118">Klicken Sie auf den Hintergrund des Designers, um den Dienst selbst auszuwählen, nicht Elemente seines Inhalts.</span><span class="sxs-lookup"><span data-stu-id="d5699-118">Click the background of the designer to select the service itself, rather than any of its contents.</span></span>  
  
3. <span data-ttu-id="d5699-119">Führen Sie einen Rechtsklick aus, während der Designer den Fokus hat, und klicken Sie anschließend auf **Installer hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="d5699-119">With the designer in focus, right-click, and then click **Add Installer**.</span></span>  
  
     <span data-ttu-id="d5699-120">Eine neue Klasse, `ProjectInstaller`, und zwei Installationskomponenten, <xref:System.ServiceProcess.ServiceProcessInstaller> und <xref:System.ServiceProcess.ServiceInstaller>, werden zu Ihrem Projekt hinzugefügt, und Eigenschaftswerte für den Dienst werden in die Komponenten kopiert.</span><span class="sxs-lookup"><span data-stu-id="d5699-120">A new class, `ProjectInstaller`, and two installation components, <xref:System.ServiceProcess.ServiceProcessInstaller> and <xref:System.ServiceProcess.ServiceInstaller>, are added to your project, and property values for the service are copied to the components.</span></span>  
  
4. <span data-ttu-id="d5699-121">Klicken Sie auf die Komponente <xref:System.ServiceProcess.ServiceInstaller>, und überprüfen Sie, ob der Wert der Eigenschaft <xref:System.ServiceProcess.ServiceInstaller.ServiceName%2A> auf den gleichen Wert festgelegt ist wie der Wert der Eigenschaft <xref:System.ServiceProcess.ServiceInstaller.ServiceName%2A> für den Dienst selbst.</span><span class="sxs-lookup"><span data-stu-id="d5699-121">Click the <xref:System.ServiceProcess.ServiceInstaller> component and verify that the value of the <xref:System.ServiceProcess.ServiceInstaller.ServiceName%2A> property is set to the same value as the <xref:System.ServiceProcess.ServiceInstaller.ServiceName%2A> property on the service itself.</span></span>  
  
5. <span data-ttu-id="d5699-122">Klicken Sie auf die Komponente <xref:System.ServiceProcess.ServiceInstaller>, und legen Sie die Eigenschaft <xref:System.ServiceProcess.ServiceInstaller.StartType%2A> auf den entsprechenden Wert fest, um zu bestimmen, wie Ihr Dienst gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="d5699-122">To determine how your service will be started, click the <xref:System.ServiceProcess.ServiceInstaller> component and set the <xref:System.ServiceProcess.ServiceInstaller.StartType%2A> property to the appropriate value.</span></span>  
  
    |<span data-ttu-id="d5699-123">Wert</span><span class="sxs-lookup"><span data-stu-id="d5699-123">Value</span></span>|<span data-ttu-id="d5699-124">Ergebnis</span><span class="sxs-lookup"><span data-stu-id="d5699-124">Result</span></span>|  
    |-----------|------------|  
    |<xref:System.ServiceProcess.ServiceStartMode.Manual>|<span data-ttu-id="d5699-125">Der Dienst muss nach der Installation manuell gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="d5699-125">The service must be manually started after installation.</span></span> <span data-ttu-id="d5699-126">Weitere Informationen finden Sie unter [Vorgehensweise: Starten von Diensten](how-to-start-services.md).</span><span class="sxs-lookup"><span data-stu-id="d5699-126">For more information, see [How to: Start Services](how-to-start-services.md).</span></span>|  
    |<xref:System.ServiceProcess.ServiceStartMode.Automatic>|<span data-ttu-id="d5699-127">Der Dienst startet selbst, sobald der Computer neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="d5699-127">The service will start by itself whenever the computer reboots.</span></span>|  
    |<xref:System.ServiceProcess.ServiceStartMode.Disabled>|<span data-ttu-id="d5699-128">Der Dienst kann nicht gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="d5699-128">The service cannot be started.</span></span>|  
  
6. <span data-ttu-id="d5699-129">Klicken Sie auf die Komponente <xref:System.ServiceProcess.ServiceProcessInstaller>, und legen Sie die entsprechenden Eigenschaftswerte fest, um den Sicherheitskontext zu bestimmen, in dem Ihr Dienst ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d5699-129">To determine the security context in which your service will run, click the <xref:System.ServiceProcess.ServiceProcessInstaller> component and set the appropriate property values.</span></span> <span data-ttu-id="d5699-130">Weitere Informationen finden Sie unter [Vorgehensweise: Angeben des Sicherheitskontexts für Dienste](how-to-specify-the-security-context-for-services.md).</span><span class="sxs-lookup"><span data-stu-id="d5699-130">For more information, see [How to: Specify the Security Context for Services](how-to-specify-the-security-context-for-services.md).</span></span>  
  
7. <span data-ttu-id="d5699-131">Setzen Sie alle Methoden außer Kraft, für die eine benutzerdefinierte Verarbeitung durchgeführt werden muss.</span><span class="sxs-lookup"><span data-stu-id="d5699-131">Override any methods for which you need to perform custom processing.</span></span>  
  
8. <span data-ttu-id="d5699-132">Führen Sie für jeden weiteren Dienst in Ihrem Projekt die Schritte 1 bis 7 durch.</span><span class="sxs-lookup"><span data-stu-id="d5699-132">Perform steps 1 through 7 for each additional service in your project.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="d5699-133">Sie müssen für jeden weiteren Dienst in Ihrem Projekt eine zusätzliche <xref:System.ServiceProcess.ServiceInstaller>-Komponente für die Klasse `ProjectInstaller` des Projekts hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="d5699-133">For each additional service in your project, you must add an additional <xref:System.ServiceProcess.ServiceInstaller> component to the project's `ProjectInstaller` class.</span></span> <span data-ttu-id="d5699-134">Die in Schritt 3 hinzugefügte Komponente <xref:System.ServiceProcess.ServiceProcessInstaller> kann mit allen Dienstinstallern im Projekt ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="d5699-134">The <xref:System.ServiceProcess.ServiceProcessInstaller> component added in step three works with all of the individual service installers in the project.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d5699-135">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="d5699-135">See also</span></span>

- [<span data-ttu-id="d5699-136">Einführung in Windows-Dienstanwendungen</span><span class="sxs-lookup"><span data-stu-id="d5699-136">Introduction to Windows Service Applications</span></span>](introduction-to-windows-service-applications.md)
- [<span data-ttu-id="d5699-137">How to: Installieren und Deinstallieren von Diensten</span><span class="sxs-lookup"><span data-stu-id="d5699-137">How to: Install and Uninstall Services</span></span>](how-to-install-and-uninstall-services.md)
- [<span data-ttu-id="d5699-138">How to: Starten von Diensten</span><span class="sxs-lookup"><span data-stu-id="d5699-138">How to: Start Services</span></span>](how-to-start-services.md)
- [<span data-ttu-id="d5699-139">How to: Angeben des Sicherheitskontexts für Dienste</span><span class="sxs-lookup"><span data-stu-id="d5699-139">How to: Specify the Security Context for Services</span></span>](how-to-specify-the-security-context-for-services.md)
