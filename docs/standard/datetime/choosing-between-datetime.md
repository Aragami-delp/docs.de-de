---
title: Auswählen zwischen "DateTime", "DateTimeOffset", "TimeSpan" und "TimeZoneInfo"
ms.date: 04/10/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- DateTimeOffset structure
- TimeZoneInfo class
- time zones [.NET Framework], common uses
- date and time classes [.NET Framework]
- time zones [.NET Framework], type options
- DateTime structure
ms.assetid: 07f17aad-3571-4014-9ef3-b695a86f3800
ms.openlocfilehash: 5091d7104f400ae186d1a0ca94df9d2722f95b20
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/02/2020
ms.locfileid: "84286144"
---
# <a name="choosing-between-datetime-datetimeoffset-timespan-and-timezoneinfo"></a><span data-ttu-id="9c37c-102">Auswählen zwischen "DateTime", "DateTimeOffset", "TimeSpan" und "TimeZoneInfo"</span><span class="sxs-lookup"><span data-stu-id="9c37c-102">Choosing between DateTime, DateTimeOffset, TimeSpan, and TimeZoneInfo</span></span>

<span data-ttu-id="9c37c-103">.NET-Anwendungen, die Datums- und Uhrzeitinformationen verwenden, sind sehr vielfältig und können diese Informationen auf verschiedene Weise verwenden.</span><span class="sxs-lookup"><span data-stu-id="9c37c-103">.NET applications that use date and time information are very diverse and can use that information in several ways.</span></span> <span data-ttu-id="9c37c-104">Die häufigeren Verwendungsarten von Datums- und Uhrzeitinformationen sind mindestens eine der folgenden:</span><span class="sxs-lookup"><span data-stu-id="9c37c-104">The more common uses of date and time information include one or more of the following:</span></span>

- <span data-ttu-id="9c37c-105">Darstellen eines reinen Datums, damit Zeitinformationen unberücksichtigt bleiben.</span><span class="sxs-lookup"><span data-stu-id="9c37c-105">To reflect a date only, so that time information is not important.</span></span>

- <span data-ttu-id="9c37c-106">Darstellen einer reinen Uhrzeit, damit Datumsinformationen unberücksichtigt bleiben.</span><span class="sxs-lookup"><span data-stu-id="9c37c-106">To reflect a time only, so that date information is not important.</span></span>

- <span data-ttu-id="9c37c-107">Darstellen eines abstrakten Datums mit Uhrzeit, die an keine bestimmte Zeit und keinen bestimmten Ort gebunden sind (z. B. öffnen die meisten Geschäfte einer internationalen Kette an Wochentagen um 9:00 Uhr).</span><span class="sxs-lookup"><span data-stu-id="9c37c-107">To reflect an abstract date and time that is not tied to a specific time and place (for example, most stores in an international chain open on weekdays at 9:00 A.M.).</span></span>

- <span data-ttu-id="9c37c-108">Zum Abrufen von Datums-und Uhrzeit Informationen aus Quellen außerhalb von .net, in der Regel, wo Datums-und Uhrzeit Informationen in einem einfachen Datentyp gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="9c37c-108">To retrieve date and time information from sources outside of .NET, typically where date and time information is stored in a simple data type.</span></span>

- <span data-ttu-id="9c37c-109">Eindeutiges und unzweideutiges Identifizieren eines einzigen Zeitpunkts.</span><span class="sxs-lookup"><span data-stu-id="9c37c-109">To uniquely and unambiguously identify a single point in time.</span></span> <span data-ttu-id="9c37c-110">Einige Anwendungen erfordern, dass ein Datum und eine Uhrzeit eindeutig sind, nur auf dem Hostsystem. Andere erfordern, dass sie über Systeme hinweg eindeutig sind (d. h. ein auf dem einen System serialisiertes Datum kann weltweit auf einem anderen System sinnvoll deserialisiert und verwendet werden).</span><span class="sxs-lookup"><span data-stu-id="9c37c-110">Some applications require that a date and time be unambiguous only on the host system; others require that it be unambiguous across systems (that is, a date serialized on one system can be meaningfully deserialized and used on another system anywhere in the world).</span></span>

- <span data-ttu-id="9c37c-111">Erhalten mehrerer verwandter Zeiten (z. B. die lokale Zeit des Anforderers und die Empfangszeit des Servers für eine Webanforderung).</span><span class="sxs-lookup"><span data-stu-id="9c37c-111">To preserve multiple related times (such as the requestor's local time and the server's time of receipt for a Web request).</span></span>

- <span data-ttu-id="9c37c-112">Durchführen von Datums- und Uhrzeitberechnungen, möglicherweise mit einem Ergebnis, das einen einzigen Zeitpunkt eindeutig identifiziert.</span><span class="sxs-lookup"><span data-stu-id="9c37c-112">To perform date and time arithmetic, possibly with a result that uniquely and unambiguously identifies a single point in time.</span></span>

<span data-ttu-id="9c37c-113">.NET enthält die <xref:System.DateTime> <xref:System.DateTimeOffset> Typen,, <xref:System.TimeSpan> und <xref:System.TimeZoneInfo> , die alle zum Erstellen von Anwendungen verwendet werden können, die mit Datums-und Uhrzeitangaben arbeiten.</span><span class="sxs-lookup"><span data-stu-id="9c37c-113">.NET includes the <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan>, and <xref:System.TimeZoneInfo> types, all of which can be used to build applications that work with dates and times.</span></span>

> [!NOTE]
> <span data-ttu-id="9c37c-114">In diesem Thema wird nicht erläutert, <xref:System.TimeZone> weil seine Funktionalität fast vollständig in die-Klasse integriert ist <xref:System.TimeZoneInfo> .</span><span class="sxs-lookup"><span data-stu-id="9c37c-114">This topic doesn't discuss <xref:System.TimeZone> because its functionality is almost entirely incorporated in the <xref:System.TimeZoneInfo> class.</span></span> <span data-ttu-id="9c37c-115">Verwenden Sie nach Möglichkeit die- <xref:System.TimeZoneInfo> Klasse anstelle der- <xref:System.TimeZone> Klasse.</span><span class="sxs-lookup"><span data-stu-id="9c37c-115">Whenever possible, use the <xref:System.TimeZoneInfo> class instead of the <xref:System.TimeZone> class.</span></span>

## <a name="the-datetime-structure"></a><span data-ttu-id="9c37c-116">Die DateTime-Struktur</span><span class="sxs-lookup"><span data-stu-id="9c37c-116">The DateTime structure</span></span>

<span data-ttu-id="9c37c-117">Ein <xref:System.DateTime> -Wert definiert ein bestimmtes Datum und eine Uhrzeit.</span><span class="sxs-lookup"><span data-stu-id="9c37c-117">A <xref:System.DateTime> value defines a particular date and time.</span></span> <span data-ttu-id="9c37c-118">Sie enthält eine- <xref:System.DateTime.Kind%2A> Eigenschaft, die eingeschränkte Informationen über die Zeitzone bereitstellt, zu der dieses Datum und die Uhrzeit gehören.</span><span class="sxs-lookup"><span data-stu-id="9c37c-118">It includes a <xref:System.DateTime.Kind%2A> property that provides limited information about the time zone to which that date and time belongs.</span></span> <span data-ttu-id="9c37c-119">Der von der <xref:System.DateTimeKind> -Eigenschaft zurückgegebene <xref:System.DateTime.Kind%2A> Wert zeigt an, ob der <xref:System.DateTime> -Wert eine lokale Uhrzeit darstellt (<xref:System.DateTimeKind.Local?displayProperty=nameWithType>), eine Zeit im UTC-Format (Coordinated Universal Time) (<xref:System.DateTimeKind.Utc?displayProperty=nameWithType>) oder eine unspezifische Uhrzeit (<xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="9c37c-119">The <xref:System.DateTimeKind> value returned by the <xref:System.DateTime.Kind%2A> property indicates whether the <xref:System.DateTime> value represents the local time (<xref:System.DateTimeKind.Local?displayProperty=nameWithType>), Coordinated Universal Time (UTC) (<xref:System.DateTimeKind.Utc?displayProperty=nameWithType>), or an unspecified time (<xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>).</span></span>

<span data-ttu-id="9c37c-120">Die <xref:System.DateTime> -Struktur eignet sich für Anwendungen, die Folgendes können:</span><span class="sxs-lookup"><span data-stu-id="9c37c-120">The <xref:System.DateTime> structure is suitable for applications that do the following:</span></span>

- <span data-ttu-id="9c37c-121">Nur mit Daten arbeiten.</span><span class="sxs-lookup"><span data-stu-id="9c37c-121">Work with dates only.</span></span>

- <span data-ttu-id="9c37c-122">Nur mit Uhrzeiten arbeiten.</span><span class="sxs-lookup"><span data-stu-id="9c37c-122">Work with times only.</span></span>

- <span data-ttu-id="9c37c-123">Mit abstrakten Datums- und Uhrzeitwerten arbeiten.</span><span class="sxs-lookup"><span data-stu-id="9c37c-123">Work with abstract dates and times.</span></span>

- <span data-ttu-id="9c37c-124">Mit Datums- und Uhrzeitwerten arbeiten, für die Zeitzoneninformationen fehlen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-124">Work with dates and times for which time zone information is missing.</span></span>

- <span data-ttu-id="9c37c-125">Nur mit UTC-Datums- und Uhrzeitwerten arbeiten.</span><span class="sxs-lookup"><span data-stu-id="9c37c-125">Work with UTC dates and times only.</span></span>

- <span data-ttu-id="9c37c-126">Abrufen von Datums-und Uhrzeit Informationen aus Quellen außerhalb von .net (z. b. SQL-Datenbanken).</span><span class="sxs-lookup"><span data-stu-id="9c37c-126">Retrieve date and time information from sources outside of .NET, such as SQL databases.</span></span> <span data-ttu-id="9c37c-127">In der Regel speichern diese Quellen Datums- und Uhrzeitinformationen in einem einfachen Format, das mit der <xref:System.DateTime> -Struktur kompatibel ist.</span><span class="sxs-lookup"><span data-stu-id="9c37c-127">Typically, these sources store date and time information in a simple format that is compatible with the <xref:System.DateTime> structure.</span></span>

- <span data-ttu-id="9c37c-128">Arithmetische Operationen mit Datums- und Uhrzeitwerten durchführen, wobei aber allgemeine Ergebnisse von Belang sind.</span><span class="sxs-lookup"><span data-stu-id="9c37c-128">Perform date and time arithmetic, but are concerned with general results.</span></span> <span data-ttu-id="9c37c-129">Beispielsweise ist es bei einer Additionsoperation, bei der einem bestimmten Datum und einer Uhrzeit sechs Monate hinzuaddiert werden, oft nicht wichtig, ob das Ergebnis hinsichtlich der Sommerzeit angepasst wird.</span><span class="sxs-lookup"><span data-stu-id="9c37c-129">For example, in an addition operation that adds six months to a particular date and time, it is often not important whether the result is adjusted for daylight saving time.</span></span>

<span data-ttu-id="9c37c-130">Wenn nicht ein bestimmter <xref:System.DateTime> -Wert UTC darstellt, ist dieser Datums- und Uhrzeitwert häufig mehrdeutig oder in seiner Portierbarkeit eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="9c37c-130">Unless a particular <xref:System.DateTime> value represents UTC, that date and time value is often ambiguous or limited in its portability.</span></span> <span data-ttu-id="9c37c-131">Wenn z. B. ein <xref:System.DateTime> -Wert die lokale Uhrzeit darstellt, ist er innerhalb dieser lokalen Zeitzone portierbar (d. h., wenn der Wert auf einem anderen System in derselben Zeitzone deserialisiert wird, identifiziert dieser Wert immer noch eindeutig einen einzigen Zeitpunkt).</span><span class="sxs-lookup"><span data-stu-id="9c37c-131">For example, if a <xref:System.DateTime> value represents the local time, it is portable within that local time zone (that is, if the value is deserialized on another system in the same time zone, that value still unambiguously identifies a single point in time).</span></span> <span data-ttu-id="9c37c-132">Außerhalb der lokalen Zeitzone kann dieser <xref:System.DateTime> -Wert über mehrere Interpretationen verfügen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-132">Outside the local time zone, that <xref:System.DateTime> value can have multiple interpretations.</span></span> <span data-ttu-id="9c37c-133">Wenn die <xref:System.DateTime.Kind%2A> -Eigenschaft des Werts <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>ist, ist er sogar noch weniger portierbar: Er ist jetzt innerhalb derselben Zeitzone mehrdeutig und möglicherweise sogar auf dem selben System, auf dem er erstmalig serialisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="9c37c-133">If the value's <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>, it is even less portable: it is now ambiguous within the same time zone and possibly even on the same system on which it was first serialized.</span></span> <span data-ttu-id="9c37c-134">Nur wenn ein <xref:System.DateTime> -Wert eine UTC-Zeit darstellt, identifiziert dieser Wert eindeutig einen einzigen Zeitpunkt, unabhängig vom System oder der Zeitzone, in der der Wert verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="9c37c-134">Only if a <xref:System.DateTime> value represents UTC does that value unambiguously identify a single point in time regardless of the system or time zone in which the value is used.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9c37c-135">Beim Speichern oder Freigeben von <xref:System.DateTime> -Daten sollte UTC verwendet werden, und die <xref:System.DateTime> - <xref:System.DateTime.Kind%2A> -Eigenschaft des Werts sollte auf <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="9c37c-135">When saving or sharing <xref:System.DateTime> data, UTC should be used and the <xref:System.DateTime> value's <xref:System.DateTime.Kind%2A> property should be set to <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>.</span></span>

## <a name="the-datetimeoffset-structure"></a><span data-ttu-id="9c37c-136">Die DateTimeOffset-Struktur</span><span class="sxs-lookup"><span data-stu-id="9c37c-136">The DateTimeOffset structure</span></span>

<span data-ttu-id="9c37c-137">Die <xref:System.DateTimeOffset> -Struktur stellt einen Datums- und Uhrzeitwert zusammen mit einem Offset dar, der angibt, um wie viel dieser Wert von UTC abweicht.</span><span class="sxs-lookup"><span data-stu-id="9c37c-137">The <xref:System.DateTimeOffset> structure represents a date and time value, together with an offset that indicates how much that value differs from UTC.</span></span> <span data-ttu-id="9c37c-138">Somit identifiziert der Wert immer eindeutig einen einzigen Zeitpunkt.</span><span class="sxs-lookup"><span data-stu-id="9c37c-138">Thus, the value always unambiguously identifies a single point in time.</span></span>

<span data-ttu-id="9c37c-139">Der <xref:System.DateTimeOffset> -Typ bietet die gesamte Funktionalität des <xref:System.DateTime> -Typs plus Unterstützung von Zeitzonen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-139">The <xref:System.DateTimeOffset> type includes all of the functionality of the <xref:System.DateTime> type along with time zone awareness.</span></span> <span data-ttu-id="9c37c-140">Dies eignet sich für Anwendungen, die Folgendes ausführen:</span><span class="sxs-lookup"><span data-stu-id="9c37c-140">This makes it suitable for applications that do the following:</span></span>

- <span data-ttu-id="9c37c-141">Eindeutiges und unzweideutiges Identifizieren eines einzigen Zeitpunkts.</span><span class="sxs-lookup"><span data-stu-id="9c37c-141">Uniquely and unambiguously identify a single point in time.</span></span> <span data-ttu-id="9c37c-142">Der <xref:System.DateTimeOffset> -Typ kann zur eindeutigen Definition der Bedeutung von "jetzt" verwendet werden, um Transaktionszeiten zu protokollieren, die Zeiten von System- oder Anwendungsereignissen zu protokollieren und um die Zeiten der Erstellung und Änderung von Dateien aufzuzeichnen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-142">The <xref:System.DateTimeOffset> type can be used to unambiguously define the meaning of "now", to log transaction times, to log the times of system or application events, and to record file creation and modification times.</span></span>

- <span data-ttu-id="9c37c-143">Ausführen von allgemeinen Datums- und Uhrzeitberechnungen</span><span class="sxs-lookup"><span data-stu-id="9c37c-143">Perform general date and time arithmetic.</span></span>

- <span data-ttu-id="9c37c-144">Erhalten mehrerer verwandter Uhrzeiten, solange diese Zeiten als zwei gesonderte Werte oder als zwei Member einer Struktur gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="9c37c-144">Preserve multiple related times, as long as those times are stored as two separate values or as two members of a structure.</span></span>

> [!NOTE]
> <span data-ttu-id="9c37c-145">Diese Verwendungsarten für <xref:System.DateTimeOffset> -Werte sind sehr viel häufiger als die für <xref:System.DateTime> -Werte.</span><span class="sxs-lookup"><span data-stu-id="9c37c-145">These uses for <xref:System.DateTimeOffset> values are much more common than those for <xref:System.DateTime> values.</span></span> <span data-ttu-id="9c37c-146">Demzufolge sollte <xref:System.DateTimeOffset> als Standardtyp für Datum und Uhrzeit für die Anwendungsentwicklung angesehen werden.</span><span class="sxs-lookup"><span data-stu-id="9c37c-146">As a result, <xref:System.DateTimeOffset> should be considered the default date and time type for application development.</span></span>

<span data-ttu-id="9c37c-147">Ein <xref:System.DateTimeOffset> -Wert ist nicht an eine bestimmte Zeitzone gebunden, kann aber aus jeder der zahlreichen Zeitzonen stammen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-147">A <xref:System.DateTimeOffset> value is not tied to a particular time zone, but can originate from any of a variety of time zones.</span></span> <span data-ttu-id="9c37c-148">Um dies zu veranschaulichen, listet das folgende Beispiel die Zeitzonen auf, zu denen eine Reihe von <xref:System.DateTimeOffset> -Werten (einschließlich eines Werts in lokaler Pacific Normalzeit) gehören können.</span><span class="sxs-lookup"><span data-stu-id="9c37c-148">To illustrate this, the following example lists the time zones to which a number of <xref:System.DateTimeOffset> values (including a local Pacific Standard Time) can belong.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual/cs/Conceptual1.cs#1)]
[!code-vb[System.DateTimeOffset.Conceptual#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual/vb/Conceptual1.vb#1)]

<span data-ttu-id="9c37c-149">Die Ausgabe zeigt, dass jeder Datums- und Uhrzeitwert in diesem Beispiel zu mindestens drei verschiedenen Zeitzonen gehören kann.</span><span class="sxs-lookup"><span data-stu-id="9c37c-149">The output shows that each date and time value in this example can belong to at least three different time zones.</span></span> <span data-ttu-id="9c37c-150">Der <xref:System.DateTimeOffset> -Wert "6/10/2007" zeigt, dass, wenn ein Datums- und Uhrzeitwert eine Sommerzeit darstellt, sein Offset von UTC noch nicht einmal unbedingt dem UTC-Basisoffset der Ursprungszeitzone oder dem in seinem Anzeigenamen vorgefundenen Offset von UTC entsprechen muss.</span><span class="sxs-lookup"><span data-stu-id="9c37c-150">The <xref:System.DateTimeOffset> value of 6/10/2007 shows that if a date and time value represents a daylight saving time, its offset from UTC does not even necessarily correspond to the originating time zone's base UTC offset or to the offset from UTC found in its display name.</span></span> <span data-ttu-id="9c37c-151">Dies bedeutet, dass, weil ein einzelner <xref:System.DateTimeOffset> -Wert nicht eng mit seiner Zeitzone verknüpft ist, er nicht den Übergang einer Zeitzone zur und aus der Sommerzeit wiedergeben kann.</span><span class="sxs-lookup"><span data-stu-id="9c37c-151">This means that, because a single <xref:System.DateTimeOffset> value is not tightly coupled with its time zone, it cannot reflect a time zone's transition to and from daylight saving time.</span></span> <span data-ttu-id="9c37c-152">Dies kann besonders problematisch sein, wenn ein <xref:System.DateTimeOffset> -Wert mithilfe von Datums- und Uhrzeitberechnungen manipuliert wird.</span><span class="sxs-lookup"><span data-stu-id="9c37c-152">This can be particularly problematic when date and time arithmetic is used to manipulate a <xref:System.DateTimeOffset> value.</span></span> <span data-ttu-id="9c37c-153">Eine Erläuterung der Durchführung von Datums- und Uhrzeitberechnungen auf eine Weise, die die Anpassungsregeln einer Zeitzone berücksichtigt, finden Sie unter [Durchführen arithmetischer Datums- und Uhrzeitoperationen](performing-arithmetic-operations.md).</span><span class="sxs-lookup"><span data-stu-id="9c37c-153">For a discussion of how to perform date and time arithmetic in a way that takes account of a time zone's adjustment rules, see [Performing arithmetic operations with dates and times](performing-arithmetic-operations.md).</span></span>

## <a name="the-timespan-structure"></a><span data-ttu-id="9c37c-154">Die TimeSpan-Struktur</span><span class="sxs-lookup"><span data-stu-id="9c37c-154">The TimeSpan structure</span></span>

<span data-ttu-id="9c37c-155">Die <xref:System.TimeSpan> -Struktur stellt ein Zeitintervall dar.</span><span class="sxs-lookup"><span data-stu-id="9c37c-155">The <xref:System.TimeSpan> structure represents a time interval.</span></span> <span data-ttu-id="9c37c-156">Sein zwei typischen Anwendungsmöglichkeiten sind:</span><span class="sxs-lookup"><span data-stu-id="9c37c-156">Its two typical uses are:</span></span>

- <span data-ttu-id="9c37c-157">Darstellen des Zeitintervalls zwischen zwei Datums- und Uhrzeitwerten.</span><span class="sxs-lookup"><span data-stu-id="9c37c-157">Reflecting the time interval between two date and time values.</span></span> <span data-ttu-id="9c37c-158">Beispielsweise gibt die Subtraktion eines <xref:System.DateTime> -Werts von einem anderen einen <xref:System.TimeSpan> -Wert zurück.</span><span class="sxs-lookup"><span data-stu-id="9c37c-158">For example, subtracting one <xref:System.DateTime> value from another returns a <xref:System.TimeSpan> value.</span></span>

- <span data-ttu-id="9c37c-159">Messen der verstrichenen Zeit.</span><span class="sxs-lookup"><span data-stu-id="9c37c-159">Measuring elapsed time.</span></span> <span data-ttu-id="9c37c-160">Beispielsweise gibt die- <xref:System.Diagnostics.Stopwatch.Elapsed%2A?displayProperty=nameWithType> Eigenschaft einen <xref:System.TimeSpan> Wert zurück, der das Zeitintervall angibt, das seit dem Aufruf einer der <xref:System.Diagnostics.Stopwatch> Methoden, die die verstrichene Zeit zu messen beginnen, verstrichen ist.</span><span class="sxs-lookup"><span data-stu-id="9c37c-160">For example, the <xref:System.Diagnostics.Stopwatch.Elapsed%2A?displayProperty=nameWithType> property returns a <xref:System.TimeSpan> value that reflects the time interval that has elapsed since the call to one of the <xref:System.Diagnostics.Stopwatch> methods that begins to measure elapsed time.</span></span>

<span data-ttu-id="9c37c-161">Ein- <xref:System.TimeSpan> Wert kann auch als Ersatz für einen-Wert verwendet werden <xref:System.DateTime> , wenn dieser Wert eine Uhrzeit ohne Verweis auf einen bestimmten Tag widerspiegelt.</span><span class="sxs-lookup"><span data-stu-id="9c37c-161">A <xref:System.TimeSpan> value can also be used as a replacement for a <xref:System.DateTime> value when that value reflects a time without reference to a particular day.</span></span> <span data-ttu-id="9c37c-162">Diese Verwendung ähnelt der-Eigenschaft <xref:System.DateTime.TimeOfDay%2A?displayProperty=nameWithType> und der-Eigenschaft <xref:System.DateTimeOffset.TimeOfDay%2A?displayProperty=nameWithType> , die einen Wert zurückgeben, <xref:System.TimeSpan> der die Uhrzeit ohne Verweis auf ein Datum darstellt.</span><span class="sxs-lookup"><span data-stu-id="9c37c-162">This usage is similar to the <xref:System.DateTime.TimeOfDay%2A?displayProperty=nameWithType> and <xref:System.DateTimeOffset.TimeOfDay%2A?displayProperty=nameWithType> properties, which return a <xref:System.TimeSpan> value that represents the time without reference to a date.</span></span> <span data-ttu-id="9c37c-163">Beispielsweise kann die <xref:System.TimeSpan> -Struktur verwendet werden, um die täglichen Öffnungszeiten eines Geschäfts darzustellen oder um die Uhrzeit darzustellen, zu der alle regulären Ereignisse auftreten.</span><span class="sxs-lookup"><span data-stu-id="9c37c-163">For example, the <xref:System.TimeSpan> structure can be used to reflect a store's daily opening or closing time, or it can be used to represent the time at which any regular event occurs.</span></span>

<span data-ttu-id="9c37c-164">Das folgende Beispiel definiert eine `StoreInfo` -Struktur, die <xref:System.TimeSpan> -Objekte für Öffnungszeiten von Geschäften enthält sowie ein <xref:System.TimeZoneInfo> -Objekt, das die Zeitzone des Geschäfts darstellt.</span><span class="sxs-lookup"><span data-stu-id="9c37c-164">The following example defines a `StoreInfo` structure that includes <xref:System.TimeSpan> objects for store opening and closing times, as well as a <xref:System.TimeZoneInfo> object that represents the store's time zone.</span></span> <span data-ttu-id="9c37c-165">Die Struktur enthält außerdem zwei Methoden, `IsOpenNow` und `IsOpenAt`, die angeben, ob das Geschäft zu einem vom Benutzer angegebenen Zeitpunkt geöffnet ist, wobei angenommen wird, dass er sich in der lokalen Zeitzone aufhält.</span><span class="sxs-lookup"><span data-stu-id="9c37c-165">The structure also includes two methods, `IsOpenNow` and `IsOpenAt`, that indicates whether the store is open at a time specified by the user, who is assumed to be in the local time zone.</span></span>

[!code-csharp[Conceptual.ChoosingDates#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.choosingdates/cs/datetimereplacement1.cs#1)]
[!code-vb[Conceptual.ChoosingDates#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.choosingdates/vb/datetimereplacement1.vb#1)]

<span data-ttu-id="9c37c-166">Die `StoreInfo` -Struktur kann dann von Clientcode wie folgt verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="9c37c-166">The `StoreInfo` structure can then be used by client code like the following.</span></span>

[!code-csharp[Conceptual.ChoosingDates#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.choosingdates/cs/datetimereplacement1.cs#2)]
[!code-vb[Conceptual.ChoosingDates#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.choosingdates/vb/datetimereplacement1.vb#2)]

## <a name="the-timezoneinfo-class"></a><span data-ttu-id="9c37c-167">Die TimeZoneInfo-Klasse</span><span class="sxs-lookup"><span data-stu-id="9c37c-167">The TimeZoneInfo class</span></span>

<span data-ttu-id="9c37c-168">Die <xref:System.TimeZoneInfo> class represents any of the Earth's time zones, and enables the conversion of any date and time in one time zone to its equivalent in another time zone.</span><span class="sxs-lookup"><span data-stu-id="9c37c-168">The <xref:System.TimeZoneInfo> class represents any of the Earth's time zones, and enables the conversion of any date and time in one time zone to its equivalent in another time zone.</span></span> <span data-ttu-id="9c37c-169">Die <xref:System.TimeZoneInfo> -Klasse ermöglicht das Arbeiten mit Datums- und Zeitwerten, sodass jeder Datums- und Uhrzeitwert eindeutig einen einzigen Zeitpunkt identifiziert.</span><span class="sxs-lookup"><span data-stu-id="9c37c-169">The <xref:System.TimeZoneInfo> class makes it possible to work with dates and times so that any date and time value unambiguously identifies a single point in time.</span></span> <span data-ttu-id="9c37c-170">Die <xref:System.TimeZoneInfo> -Klasse ist außerdem erweiterbar.</span><span class="sxs-lookup"><span data-stu-id="9c37c-170">The <xref:System.TimeZoneInfo> class is also extensible.</span></span> <span data-ttu-id="9c37c-171">Obwohl sie von den für Windows-Systeme bereitgestellten und in der Registrierung definierten Zeitzoneninformationen abhängt, unterstützt sie die Erstellung benutzerdefinierter Zeitzonen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-171">Although it depends on time zone information provided for Windows systems and defined in the registry, it supports the creation of custom time zones.</span></span> <span data-ttu-id="9c37c-172">Sie unterstützt außerdem die Serialisierung und Deserialisierung von Zeitzoneninformationen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-172">It also supports the serialization and deserialization of time zone information.</span></span>

<span data-ttu-id="9c37c-173">In einigen Fällen kann noch weitere Entwicklungsarbeit erforderlich sein, um die <xref:System.TimeZoneInfo> -Klasse optimal zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-173">In some cases, taking full advantage of the <xref:System.TimeZoneInfo> class may require further development work.</span></span> <span data-ttu-id="9c37c-174">Wenn die Datums-und Uhrzeitwerte nicht eng mit den Zeitzonen gekoppelt sind, zu denen Sie gehören, sind weitere Schritte erforderlich.</span><span class="sxs-lookup"><span data-stu-id="9c37c-174">If date and time values are not tightly coupled with the time zones to which they belong, further work is required.</span></span> <span data-ttu-id="9c37c-175">Wenn Ihre Anwendung keinen Mechanismus zum Verknüpfen eines Datums und einer Uhrzeit mit der zugehörigen Zeitzone bereitstellt, ist es einfach, dass ein bestimmter Datums-und Uhrzeitwert von der Zeitzone getrennt wird.</span><span class="sxs-lookup"><span data-stu-id="9c37c-175">Unless your application provides some mechanism for linking a date and time with its associated time zone, it's easy for a particular date and time value to become disassociated from its time zone.</span></span> <span data-ttu-id="9c37c-176">Eine Methode zum Verknüpfen dieser Informationen besteht darin, eine Klasse oder Struktur zu definieren, die sowohl den Datums- und Zeitwert als auch sein zugeordnetes Zeitzonenobjekt enthält.</span><span class="sxs-lookup"><span data-stu-id="9c37c-176">One method of linking this information is to define a class or structure that contains both the date and time value and its associated time zone object.</span></span>

<span data-ttu-id="9c37c-177">Die Zeitzonenunterstützung in .NET kann nur genutzt werden, wenn die Zeitzone, zu der ein Datums- und Uhrzeitwert gehört, bekannt ist, wenn das Datums- und Uhrzeitobjekt instanziiert wird.</span><span class="sxs-lookup"><span data-stu-id="9c37c-177">Taking advantage of time zone support in .NET is possible only if the time zone to which a date and time value belongs is known when that date and time object is instantiated.</span></span> <span data-ttu-id="9c37c-178">Dies ist häufig nicht der Fall, insbesondere bei Web-oder Netzwerkanwendungen.</span><span class="sxs-lookup"><span data-stu-id="9c37c-178">This is often not the case, particularly in Web or network applications.</span></span>

## <a name="see-also"></a><span data-ttu-id="9c37c-179">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="9c37c-179">See also</span></span>

- [<span data-ttu-id="9c37c-180">Datumsangaben, Uhrzeiten und Zeitzonen</span><span class="sxs-lookup"><span data-stu-id="9c37c-180">Dates, times, and time zones</span></span>](index.md)
