---
title: Datenfluss (Task Parallel Library)
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Task Parallel Library, dataflows
- TPL dataflow library
ms.assetid: 643575d0-d26d-4c35-8de7-a9c403e97dd6
ms.openlocfilehash: e1d4dc596f57a4c75c11806f95099ee5593c6c03
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 06/02/2020
ms.locfileid: "84285533"
---
# <a name="dataflow-task-parallel-library"></a><span data-ttu-id="a4c3a-102">Datenfluss (Task Parallel Library)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-102">Dataflow (Task Parallel Library)</span></span>
<span data-ttu-id="a4c3a-103">Die Task Parallel Library (TPL) stellt Datenflusskomponenten bereit, um die Stabilität von nebenläufigkeitsfähigen Anwendungen zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-103">The Task Parallel Library (TPL) provides dataflow components to help increase the robustness of concurrency-enabled applications.</span></span> <span data-ttu-id="a4c3a-104">Diese Datenflusskomponenten werden zusammen als *TPL-Datenflussbibliothek* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-104">These dataflow components are collectively referred to as the *TPL Dataflow Library*.</span></span> <span data-ttu-id="a4c3a-105">Dieses Datenflussmodell begünstigt die akteurbasierte Programmierung durch eine prozessinterne Nachrichtenübergabe für simple Datenfluss- und Pipelineaufgaben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-105">This dataflow model promotes actor-based programming by providing in-process message passing for coarse-grained dataflow and pipelining tasks.</span></span> <span data-ttu-id="a4c3a-106">Die Datenflusskomponenten basieren auf den Typen und der Planungsinfrastruktur der TPL und sind in die C#-, Visual Basic- und F#-Sprachunterstützung für asynchrone Programmierung integriert.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-106">The dataflow components build on the types and scheduling infrastructure of the TPL and integrate with the C#, Visual Basic, and F# language support for asynchronous programming.</span></span> <span data-ttu-id="a4c3a-107">Diese Datenflusskomponenten sind hilfreich, wenn mehrere Vorgänge vorliegen, die asynchron miteinander kommunizieren müssen, oder wenn Sie Daten verarbeiten möchten, die gerade verfügbar werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-107">These dataflow components are useful when you have multiple operations that must communicate with one another asynchronously or when you want to process data as it becomes available.</span></span> <span data-ttu-id="a4c3a-108">Denken Sie beispielsweise an eine Anwendung, die Bilddaten von einer Webcam verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-108">For example, consider an application that processes image data from a web camera.</span></span> <span data-ttu-id="a4c3a-109">Durch das Datenflussmodell kann die Anwendung Bildframes verarbeiten, sobald diese verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-109">By using the dataflow model, the application can process image frames as they become available.</span></span> <span data-ttu-id="a4c3a-110">Wenn die Anwendung Bildframes beispielsweise durch Lichtkorrektur oder Rote-Augen-Reduktion aufbessert, können Sie eine *Pipeline* von Datenflusskomponenten erstellen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-110">If the application enhances image frames, for example, by performing light correction or red-eye reduction, you can create a *pipeline* of dataflow components.</span></span> <span data-ttu-id="a4c3a-111">Jede Phase der Pipeline kann grober strukturierte Parallelitätsfunktionen verwenden, wie z. B. die von der TPL bereitgestellten Funktionen zum Transformieren des Bilds.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-111">Each stage of the pipeline might use more coarse-grained parallelism functionality, such as the functionality that is provided by the TPL, to transform the image.</span></span>  
  
 <span data-ttu-id="a4c3a-112">Dieses Dokument enthält eine Übersicht über die TPL-Datenflussbibliothek.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-112">This document provides an overview of the TPL Dataflow Library.</span></span> <span data-ttu-id="a4c3a-113">Es bietet Informationen über das Programmiermodell, die vordefinierten Datenflussblocktypen sowie die Konfiguration der Datenflussblöcke für die speziellen Anforderungen Ihrer Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-113">It describes the programming model, the predefined dataflow block types, and how to configure dataflow blocks to meet the specific requirements of your applications.</span></span>  

[!INCLUDE [tpl-install-instructions](../../../includes/tpl-install-instructions.md)]

## <a name="programming-model"></a><span data-ttu-id="a4c3a-114">Programmiermodell</span><span class="sxs-lookup"><span data-stu-id="a4c3a-114">Programming Model</span></span>
 <span data-ttu-id="a4c3a-115">Die TPL-Datenflussbibliothek bietet eine Grundlage für die Nachrichtenübergabe und die Parallelisierung CPU-intensiver und E/A-intensiver Anwendungen mit hohem Durchsatz und niedriger Latenz.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-115">The TPL Dataflow Library provides a foundation for message passing and parallelizing CPU-intensive and I/O-intensive applications that have high throughput and low latency.</span></span> <span data-ttu-id="a4c3a-116">Außerdem erhalten Sie damit explizite Kontrolle darüber, wie Daten gepuffert und im System übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-116">It also gives you explicit control over how data is buffered and moves around the system.</span></span> <span data-ttu-id="a4c3a-117">Stellen Sie sich zum besseren Verständnis des Datenflussprogrammiermodells eine Anwendung vor, die Bilder asynchron vom Datenträger lädt und ein Kompositum dieser Bilder erstellt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-117">To better understand the dataflow programming model, consider an application that asynchronously loads images from disk and creates a composite of those images.</span></span> <span data-ttu-id="a4c3a-118">Herkömmliche Programmiermodelle erfordern in der Regel die Verwendung von Rückrufen und Synchronisierungsobjekten wie Sperren, um Aufgaben und den Zugriff auf freigegebene Daten zu koordinieren.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-118">Traditional programming models typically require that you use callbacks and synchronization objects, such as locks, to coordinate tasks and access to shared data.</span></span> <span data-ttu-id="a4c3a-119">Mit dem Datenflussprogrammiermodell können Sie Datenflussobjekte erstellen, die Bilder beim Lesen vom Datenträger verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-119">By using the dataflow programming model, you can create dataflow objects that process images as they are read from disk.</span></span> <span data-ttu-id="a4c3a-120">Unter dem Datenflussmodell deklarieren Sie, wie Daten behandelt werden, sobald diese verfügbar werden, und legen außerdem Abhängigkeiten zwischen Daten fest.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-120">Under the dataflow model, you declare how data is handled when it becomes available, and also any dependencies between data.</span></span> <span data-ttu-id="a4c3a-121">Da die Laufzeit Abhängigkeiten zwischen Daten verwaltet, können Sie häufig die Anforderung vermeiden, Zugriff auf freigegebene Daten synchronisieren zu müssen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-121">Because the runtime manages dependencies between data, you can often avoid the requirement to synchronize access to shared data.</span></span> <span data-ttu-id="a4c3a-122">Da die Arbeit von der Laufzeit basierend auf dem asynchronen Eintreffen von Daten geplant wird, können Reaktionsgeschwindigkeit und Durchsatz des Datenflusses verbessert werden, indem die zugrunde liegenden Threads effizient verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-122">In addition, because the runtime schedules work based on the asynchronous arrival of data, dataflow can improve responsiveness and throughput by efficiently managing the underlying threads.</span></span> <span data-ttu-id="a4c3a-123">Ein Beispiel, bei dem mit dem Datenflussprogrammiermodell eine Bildverarbeitung in einer Windows Forms-Anwendung implementiert wird, finden Sie unter [Exemplarische Vorgehensweise: Verwenden eines Datenflusses in einer Windows Forms-Anwendung](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-123">For an example that uses the dataflow programming model to implement image processing in a Windows Forms application, see [Walkthrough: Using Dataflow in a Windows Forms Application](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
### <a name="sources-and-targets"></a><span data-ttu-id="a4c3a-124">Quellen und Ziele</span><span class="sxs-lookup"><span data-stu-id="a4c3a-124">Sources and Targets</span></span>  
 <span data-ttu-id="a4c3a-125">Die TPL-Datenflussbibliothek besteht aus *Datenflussblöcken*, bei denen es sich um Datenstrukturen handelt, die Daten puffern und verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-125">The TPL Dataflow Library consists of *dataflow blocks*, which are data structures that buffer and process data.</span></span> <span data-ttu-id="a4c3a-126">Die TPL definiert drei Arten von Datenflussblöcken: *Quellblöcke*, *Zielblöcke* und *Weitergabeblöcke*.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-126">The TPL defines three kinds of dataflow blocks: *source blocks*, *target blocks*, and *propagator blocks*.</span></span> <span data-ttu-id="a4c3a-127">Ein Quellblock fungiert als Datenquelle, aus der gelesen werden kann.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-127">A source block acts as a source of data and can be read from.</span></span> <span data-ttu-id="a4c3a-128">Ein Zielblock fungiert als Datenempfänger, in den geschrieben werden kann.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-128">A target block acts as a receiver of data and can be written to.</span></span> <span data-ttu-id="a4c3a-129">Ein Weitergabeblock fungiert als Quellblock und als Zielblock, aus dem gelesen und in den geschrieben werden kann.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-129">A propagator block acts as both a source block and a target block, and can be read from and written to.</span></span> <span data-ttu-id="a4c3a-130">Die TPL definiert die <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601?displayProperty=nameWithType>-Schnittstelle, um Quellen darzustellen, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601?displayProperty=nameWithType>, um Ziele darzustellen, und <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602?displayProperty=nameWithType>, um Weitergaben darzustellen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-130">The TPL defines the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601?displayProperty=nameWithType> interface to represent sources, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601?displayProperty=nameWithType> to represent targets, and <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602?displayProperty=nameWithType> to represent propagators.</span></span> <span data-ttu-id="a4c3a-131"><xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> erbt von <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> und <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-131"><xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> inherits from both <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, and <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span>  
  
 <span data-ttu-id="a4c3a-132">Die TPL-Datenflussbibliothek enthält mehrere vordefinierte Datenflussblocktypen, die die Schnittstellen <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> und <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> implementieren.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-132">The TPL Dataflow Library provides several predefined dataflow block types that implement the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>, and <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> interfaces.</span></span> <span data-ttu-id="a4c3a-133">Diese Datenflussblocktypen werden in diesem Dokument im Abschnitt [Vordefinierte Datenflussblocktypen](#predefined-dataflow-block-types) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-133">These dataflow block types are described in this document in the section [Predefined Dataflow Block Types](#predefined-dataflow-block-types).</span></span>  
  
### <a name="connecting-blocks"></a><span data-ttu-id="a4c3a-134">Verbinden von Blöcken</span><span class="sxs-lookup"><span data-stu-id="a4c3a-134">Connecting Blocks</span></span>  
 <span data-ttu-id="a4c3a-135">Sie können Datenflussblöcke mit *Formularpipelines* (lineare Sequenzen von Datenflussblöcken) oder *Netzwerken* (Diagramme von Datenflussblöcken) verbinden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-135">You can connect dataflow blocks to form *pipelines*, which are linear sequences of dataflow blocks, or *networks*, which are graphs of dataflow blocks.</span></span> <span data-ttu-id="a4c3a-136">Eine Pipeline ist eine Form von Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-136">A pipeline is one form of network.</span></span> <span data-ttu-id="a4c3a-137">In einer Pipeline oder einem Netzwerk geben Quellen asynchron Daten an Ziele weiter, sobald diese Daten verfügbar werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-137">In a pipeline or network, sources asynchronously propagate data to targets as that data becomes available.</span></span> <span data-ttu-id="a4c3a-138">Die <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType>-Methode verknüpft einen Quelldatenflussblock mit einem Zielblock.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-138">The <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> method links a source dataflow block to a target block.</span></span> <span data-ttu-id="a4c3a-139">Eine Quelle kann mit null oder mehr Zielen verknüpft werden. Ziele können mit null oder mehr Quellen verknüpft werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-139">A source can be linked to zero or more targets; targets can be linked from zero or more sources.</span></span> <span data-ttu-id="a4c3a-140">Sie können Datenflussblöcke in einer Pipeline oder einem Netzwerk gleichzeitig hinzufügen oder entfernen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-140">You can add or remove dataflow blocks to or from a pipeline or network concurrently.</span></span> <span data-ttu-id="a4c3a-141">Die vordefinierten Datenflussblocktypen behandeln alle Threadsicherheitsaspekte bezüglich Verknüpfungen und des Lösens von Verknüpfungen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-141">The predefined dataflow block types handle all thread-safety aspects of linking and unlinking.</span></span>  
  
 <span data-ttu-id="a4c3a-142">Ein Beispiel für die Verbindung von Datenflussblöcken zum Erstellen einer einfachen Pipeline finden Sie unter [Exemplarische Vorgehensweise: Erstellen einer Datenflusspipeline](walkthrough-creating-a-dataflow-pipeline.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-142">For an example that connects dataflow blocks to form a basic pipeline, see [Walkthrough: Creating a Dataflow Pipeline](walkthrough-creating-a-dataflow-pipeline.md).</span></span> <span data-ttu-id="a4c3a-143">Ein Beispiel, in dem Datenflussblöcke verbunden werden, um ein komplexeres Netzwerk zu erstellen, finden Sie unter [Exemplarische Vorgehensweise: Verwenden eines Datenflusses in einer Windows Forms-Anwendung](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-143">For an example that connects dataflow blocks to form a more complex network, see [Walkthrough: Using Dataflow in a Windows Forms Application](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span> <span data-ttu-id="a4c3a-144">Ein Beispiel, bei dem die Verknüpfung eines Ziels mit einer Quelle gelöst wird, nachdem die Quelle dem Ziel eine Nachricht anbietet, finden Sie unter [Gewusst wie: Aufheben der Verknüpfungen für Datenflussblöcke](how-to-unlink-dataflow-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-144">For an example that unlinks a target from a source after the source offers the target a message, see [How to: Unlink Dataflow Blocks](how-to-unlink-dataflow-blocks.md).</span></span>  
  
#### <a name="filtering"></a><span data-ttu-id="a4c3a-145">Filterung</span><span class="sxs-lookup"><span data-stu-id="a4c3a-145">Filtering</span></span>  
 <span data-ttu-id="a4c3a-146">Wenn Sie die <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType>-Methode aufrufen, um eine Quelle mit einem Ziel zu verknüpfen, können Sie einen Delegaten bereitstellen, der anhand des Werts einer Nachricht bestimmt, ob der Zielblock die Nachricht annimmt oder ablehnt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-146">When you call the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> method to link a source to a target, you can supply a delegate that determines whether the target block accepts or rejects a message based on the value of that message.</span></span> <span data-ttu-id="a4c3a-147">Dieser Filtermechanismus ist eine hilfreiche Möglichkeit, um sicherzustellen, dass nur bestimmte Werte von einem Datenflussblock empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-147">This filtering mechanism is a useful way to guarantee that a dataflow block receives only certain values.</span></span> <span data-ttu-id="a4c3a-148">Für die meisten der vordefinierten Datenflussblocktypen gilt, dass eine Nachricht von der Quelle dem nächsten Ziel angeboten wird, wenn ein Quellblock mit mehreren Zielblöcken verbunden ist und ein Zielblock die Nachricht ablehnt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-148">For most of the predefined dataflow block types, if a source block is connected to multiple target blocks, when a target block rejects a message, the source offers that message to the next target.</span></span> <span data-ttu-id="a4c3a-149">Die Reihenfolge, in der Nachrichten von einer Quelle Zielen angeboten werden, wird durch die Quelle definiert und kann je nach Typ der Quelle variieren.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-149">The order in which a source offers messages to targets is defined by the source and can vary according to the type of the source.</span></span> <span data-ttu-id="a4c3a-150">Die meisten Quellblocktypen bieten eine Nachricht nicht weiter an, nachdem diese von einem Ziel akzeptiert wurde.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-150">Most source block types stop offering a message after one target accepts that message.</span></span> <span data-ttu-id="a4c3a-151">Eine Ausnahme dieser Regel ist die <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>-Klasse, die jede Nachricht allen Zielen anbietet, auch wenn einige Ziele die Nachricht ablehnen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-151">One exception to this rule is the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, which offers each message to all targets, even if some targets reject the message.</span></span> <span data-ttu-id="a4c3a-152">Ein Beispiel, in dem Filterung verwendet wird, um nur bestimmte Nachrichten zu verarbeiten, finden Sie unter [Exemplarische Vorgehensweise: Verwenden eines Datenflusses in einer Windows Forms-Anwendung](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-152">For an example that uses filtering to process only certain messages, see [Walkthrough: Using Dataflow in a Windows Forms Application](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="a4c3a-153">Da jeder vordefinierte Quelldatenflussblocktyp sicherstellt, dass Nachrichten in der Reihenfolge weitergegeben werden, in der sie empfangen werden, muss jede Nachricht vom Quellblock gelesen werden, bevor der Quellblock die nächste Nachricht verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-153">Because each predefined source dataflow block type guarantees that messages are propagated out in the order in which they are received, every message must be read from the source block before the source block can process the next message.</span></span> <span data-ttu-id="a4c3a-154">Wenn Sie daher Filter verwenden, um mehrere Ziele mit einer Quelle zu verbinden, sollten Sie sicherstellen, dass jede Nachricht von mindestens einem Zielblock empfangen wird.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-154">Therefore, when you use filtering to connect multiple targets to a source, make sure that at least one target block receives each message.</span></span> <span data-ttu-id="a4c3a-155">Andernfalls kann bei der Anwendung ein Deadlock auftreten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-155">Otherwise, your application might deadlock.</span></span>  
  
### <a name="message-passing"></a><span data-ttu-id="a4c3a-156">Nachrichtenübergabe</span><span class="sxs-lookup"><span data-stu-id="a4c3a-156">Message Passing</span></span>  
 <span data-ttu-id="a4c3a-157">Das Datenflussprogrammiermodell bezieht sich auf das Konzept der *Nachrichtenübergabe*, bei dem unabhängige Komponenten eines Programms miteinander kommunizieren, indem sie Nachrichten senden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-157">The dataflow programming model is related to the concept of *message passing*, where independent components of a program communicate with one another by sending messages.</span></span> <span data-ttu-id="a4c3a-158">Eine Möglichkeit, Nachrichten zwischen Anwendungskomponenten weiterzugeben, besteht darin, die <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A>- und die <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType>-Methode aufzurufen, um Nachrichten an Zieldatenflussblöcke zu senden (<xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> agiert synchron, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A> agiert asynchron), und die <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A>-, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A>- und <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A>-Methoden aufzurufen, um Nachrichten von Quellblöcken zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-158">One way to propagate messages among application components is to call the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> methods to send messages to target dataflow blocks post (<xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> acts synchronously; <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A> acts asynchronously) and the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A>, and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A> methods to receive messages from source blocks.</span></span> <span data-ttu-id="a4c3a-159">Sie können diese Methoden mit Datenflusspipelines oder -netzwerken kombinieren, indem Sie Eingabedaten an den Hauptknoten (ein Zielblock) senden und Ausgabedaten vom Terminalknoten der Pipeline bzw. von den Terminalknoten des Netzwerks (ein oder mehrere Quellblöcke) empfangen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-159">You can combine these methods with dataflow pipelines or networks by sending input data to the head node (a target block), and receiving output data from the terminal node of the pipeline or the terminal nodes of the network (one or more source blocks).</span></span> <span data-ttu-id="a4c3a-160">Sie können auch die <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Choose%2A>-Methode verwenden, um aus der ersten der bereitgestellten Quellen zu lesen, die Daten zur Verfügung stellt, und Aktionen für diese Daten ausführen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-160">You can also use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Choose%2A> method to read from the first of the provided sources that has data available and perform action on that data.</span></span>  
  
 <span data-ttu-id="a4c3a-161">Quellblöcke bieten Zielblöcken Daten an, indem die <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A?displayProperty=nameWithType>-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-161">Source blocks offer data to target blocks by calling the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="a4c3a-162">Der Zielblock reagiert auf eine angebotene Nachricht auf eine von drei Arten: Er kann die Nachricht akzeptieren, ablehnen oder zurückstellen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-162">The target block responds to an offered message in one of three ways: it can accept the message, decline the message, or postpone the message.</span></span> <span data-ttu-id="a4c3a-163">Wenn das Ziel die Nachricht akzeptiert, gibt die <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A>-Methode <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Accepted> zurück.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-163">When the target accepts the message, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Accepted>.</span></span> <span data-ttu-id="a4c3a-164">Wenn das Ziel die Nachricht ablehnt, gibt die <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A>-Methode <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Declined> zurück.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-164">When the target declines the message, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Declined>.</span></span> <span data-ttu-id="a4c3a-165">Wenn das Ziel erfordert, dass es keine weiteren Nachrichten mehr von der Quelle empfängt, gibt die <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A>-Methode <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.DecliningPermanently> zurück.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-165">When the target requires that it no longer receives any messages from the source, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.DecliningPermanently>.</span></span> <span data-ttu-id="a4c3a-166">Die vordefinierten Quellblocktypen bieten verknüpften Zielen keine Nachrichten an, nachdem ein solcher Rückgabewert empfangen wird, und die Verknüpfung zu solchen Zielen wird automatisch gelöst.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-166">The predefined source block types do not offer messages to linked targets after such a return value is received, and they automatically unlink from such targets.</span></span>  
  
 <span data-ttu-id="a4c3a-167">Wenn ein Zielblock die Nachricht für die spätere Verwendung zurückstellt, gibt die <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A>-Methode <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Postponed> zurück.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-167">When a target block postpones the message for later use, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Postponed>.</span></span> <span data-ttu-id="a4c3a-168">Ein Zielblock, der eine Nachricht zurückstellt, kann später die Methode <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReserveMessage%2A?displayProperty=nameWithType> aufrufen, um zu versuchen, die angebotene Nachricht zu reservieren.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-168">A target block that postpones a message can later call the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReserveMessage%2A?displayProperty=nameWithType> method to try to reserve the offered message.</span></span> <span data-ttu-id="a4c3a-169">In diesem Moment ist die Nachricht entweder weiterhin verfügbar und kann vom Zielblock verwendet werden, oder die Nachricht wurde von einem anderen Ziel angenommen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-169">At this point, the message is either still available and can be used by the target block, or the message has been taken by another target.</span></span> <span data-ttu-id="a4c3a-170">Wenn der Zielblock die Nachricht später benötigt oder die Nachricht nicht mehr benötigt, wird die <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType>- bzw. die <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReleaseReservation%2A>-Methode aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-170">When the target block later requires the message or no longer needs the message, it calls the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> or <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReleaseReservation%2A> method, respectively.</span></span> <span data-ttu-id="a4c3a-171">Nachrichtenreservierung wird in der Regel von Datenflussblocktypen verwendet, die sich im nicht gierigen Modus befinden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-171">Message reservation is typically used by the dataflow block types that operate in non-greedy mode.</span></span> <span data-ttu-id="a4c3a-172">"Nicht gieriger Modus" wird weiter unten in diesem Dokument erläutert.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-172">Non-greedy mode is explained later in this document.</span></span> <span data-ttu-id="a4c3a-173">Anstatt eine zurückgestellte Nachricht zu reservieren, kann ein Zielblock auch die <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType>-Methode verwenden, um zu versuchen, die zurückgestellte Nachricht direkt zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-173">Instead of reserving a postponed message, a target block can also use the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> method to attempt to directly consume the postponed message.</span></span>  
  
### <a name="dataflow-block-completion"></a><span data-ttu-id="a4c3a-174">Abschluss von Datenflussblöcken</span><span class="sxs-lookup"><span data-stu-id="a4c3a-174">Dataflow Block Completion</span></span>  
 <span data-ttu-id="a4c3a-175">Datenflussblöcke unterstützen auch das Konzept des *Abschlusses*.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-175">Dataflow blocks also support the concept of *completion*.</span></span> <span data-ttu-id="a4c3a-176">Ein Datenflussblock, der sich im abgeschlossenen Zustand befindet, führt keine weitere Arbeit mehr aus.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-176">A dataflow block that is in the completed state does not perform any further work.</span></span> <span data-ttu-id="a4c3a-177">Jeder Datenflussblock verfügt über ein zugehöriges <xref:System.Threading.Tasks.Task?displayProperty=nameWithType>-Objekt, das als *Abschlussaufgabe* bezeichnet wird und den Abschlusszustand des Blocks darstellt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-177">Each dataflow block has an associated <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> object, known as a *completion task*, that represents the completion status of the block.</span></span> <span data-ttu-id="a4c3a-178">Da Sie mithilfe von Abschlussaufgaben darauf warten können, dass ein <xref:System.Threading.Tasks.Task>-Objekt abgeschlossen wird, können Sie auf den Abschluss von einem oder mehreren Terminalknoten eines Datenflussnetzwerks warten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-178">Because you can wait for a <xref:System.Threading.Tasks.Task> object to finish, by using completion tasks, you can wait for one or more terminal nodes of a dataflow network to finish.</span></span> <span data-ttu-id="a4c3a-179">Die <xref:System.Threading.Tasks.Dataflow.IDataflowBlock>-Schnittstelle definiert die <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A>-Methode, die den Datenflussblock über eine abzuschließende Anforderung informiert, sowie die <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A>-Eigenschaft, die die Abschlussaufgabe für den Datenflussblock zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-179">The <xref:System.Threading.Tasks.Dataflow.IDataflowBlock> interface defines the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method, which informs the dataflow block of a request for it to complete, and the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property, which returns the completion task for the dataflow block.</span></span> <span data-ttu-id="a4c3a-180"><xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> und <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> erben beide von der <xref:System.Threading.Tasks.Dataflow.IDataflowBlock>-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-180">Both <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> and <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> inherit the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock> interface.</span></span>  
  
 <span data-ttu-id="a4c3a-181">Es gibt zwei Möglichkeiten, um zu bestimmen, ob ein Datenflussblock ohne Fehler abgeschlossen wurde, ob mindestens ein Fehler aufgetreten ist oder ob er abgebrochen wurde.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-181">There are two ways to determine whether a dataflow block completed without error, encountered one or more errors, or was canceled.</span></span> <span data-ttu-id="a4c3a-182">Die erste Möglichkeit besteht darin, die <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType>-Methode für die Abschlussaufgabe in einem `try`---Block (`catch``Try``Catch` in Visual Basic) aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-182">The first way is to call the <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> method on the completion task in a `try`-`catch` block (`Try`-`Catch` in Visual Basic).</span></span> <span data-ttu-id="a4c3a-183">Im folgenden Beispiel wird ein <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Objekt erstellt, das <xref:System.ArgumentOutOfRangeException> auslöst, wenn der Eingabewert kleiner als null ist.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-183">The following example creates an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object that throws <xref:System.ArgumentOutOfRangeException> if its input value is less than zero.</span></span> <span data-ttu-id="a4c3a-184"><xref:System.AggregateException> wird ausgelöst, wenn in diesem Beispiel <xref:System.Threading.Tasks.Task.Wait%2A> für die Abschlussaufgabe aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-184"><xref:System.AggregateException> is thrown when this example calls <xref:System.Threading.Tasks.Task.Wait%2A> on the completion task.</span></span> <span data-ttu-id="a4c3a-185">Der Zugriff auf <xref:System.ArgumentOutOfRangeException> erfolgt über die <xref:System.AggregateException.InnerExceptions%2A>-Eigenschaft des <xref:System.AggregateException>-Objekts.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-185">The <xref:System.ArgumentOutOfRangeException> is accessed through the <xref:System.AggregateException.InnerExceptions%2A> property of the <xref:System.AggregateException> object.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#10](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#10)]
 [!code-vb[TPLDataflow_Overview#10](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#10)]  
  
 <span data-ttu-id="a4c3a-186">In diesem Beispiel wird der Fall erläutert, in dem eine Ausnahme im Delegaten eines Ausführungsdatenflussblocks unbehandelt bleibt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-186">This example demonstrates the case in which an exception goes unhandled in the delegate of an execution dataflow block.</span></span> <span data-ttu-id="a4c3a-187">Es wird empfohlen, Ausnahmen in den Codetexten solcher Blöcke zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-187">We recommend that you handle exceptions in the bodies of such blocks.</span></span> <span data-ttu-id="a4c3a-188">Wenn dies jedoch nicht möglich ist, verhält sich der Block, als ob er abgebrochen wurde, und verarbeitet keine eingehenden Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-188">However, if you are unable to do so, the block behaves as though it was canceled and does not process incoming messages.</span></span>  
  
 <span data-ttu-id="a4c3a-189">Wenn ein Datenflussblock explizit abgebrochen wird, enthält das <xref:System.AggregateException>-Objekt <xref:System.OperationCanceledException> in der <xref:System.AggregateException.InnerExceptions%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-189">When a dataflow block is canceled explicitly, the <xref:System.AggregateException> object contains <xref:System.OperationCanceledException> in the <xref:System.AggregateException.InnerExceptions%2A> property.</span></span> <span data-ttu-id="a4c3a-190">Weitere Informationen zum Abbrechen von Datenflüssen finden Sie im Abschnitt [Aktivieren des Abbruchs](#enabling-cancellation).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-190">For more information about dataflow cancellation, see [Enabling Cancellation](#enabling-cancellation) section.</span></span>  
  
 <span data-ttu-id="a4c3a-191">Die zweite Möglichkeit, den Abschlussstatus eines Datenflussblocks zu bestimmen, ist die Verwendung einer Fortsetzung außerhalb der Abschlussaufgabe oder die Verwendung der asynchronen Sprachfunktionen von C# und Visual Basic, um auf die Abschlussaufgabe asynchron zu warten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-191">The second way to determine the completion status of a dataflow block is to use a continuation of the completion task, or to use the asynchronous language features of C# and Visual Basic to asynchronously wait for the completion task.</span></span> <span data-ttu-id="a4c3a-192">Der Delegat, den Sie für die <xref:System.Threading.Tasks.Task.ContinueWith%2A?displayProperty=nameWithType>-Methode bereitstellen, nimmt ein <xref:System.Threading.Tasks.Task>-Objekt an, das die vorangehende Aufgabe darstellt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-192">The delegate that you provide to the <xref:System.Threading.Tasks.Task.ContinueWith%2A?displayProperty=nameWithType> method takes a <xref:System.Threading.Tasks.Task> object that represents the antecedent task.</span></span> <span data-ttu-id="a4c3a-193">Im Fall der <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A>-Eigenschaft nimmt der Delegat für die Fortsetzung die Abschlussaufgabe selbst an.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-193">In the case of the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property, the delegate for the continuation takes the completion task itself.</span></span> <span data-ttu-id="a4c3a-194">Das folgende Beispiel ähnelt dem vorherigen, es wird jedoch auch die <xref:System.Threading.Tasks.Task.ContinueWith%2A>-Methode verwendet, um eine Abschlussaufgabe zu erstellen, die den Status des gesamten Datenflussvorgangs ausgibt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-194">The following example resembles the previous one, except that it also uses the <xref:System.Threading.Tasks.Task.ContinueWith%2A> method to create a continuation task that prints the status of the overall dataflow operation.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#11](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#11)]
 [!code-vb[TPLDataflow_Overview#11](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#11)]  
  
 <span data-ttu-id="a4c3a-195">Sie können auch Eigenschaften wie <xref:System.Threading.Tasks.Task.IsCanceled%2A> im Codetext der Fortsetzungsaufgabe verwenden, um zusätzliche Informationen über den Abschlussstatus eines Datenflussblocks zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-195">You can also use properties such as <xref:System.Threading.Tasks.Task.IsCanceled%2A> in the body of the continuation task to determine additional information about the completion status of a dataflow block.</span></span> <span data-ttu-id="a4c3a-196">Weitere Informationen zu Fortsetzungsaufgaben und deren Beziehung zum Abbruch und zur Fehlerbehandlung finden Sie unter [Verketten von Aufgaben durch Fortsetzungsaufgaben](chaining-tasks-by-using-continuation-tasks.md), [Aufgabenabbruch](task-cancellation.md) und [Ausnahmebehandlung](exception-handling-task-parallel-library.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-196">For more information about continuation tasks and how they relate to cancellation and error handling, see [Chaining Tasks by Using Continuation Tasks](chaining-tasks-by-using-continuation-tasks.md), [Task Cancellation](task-cancellation.md), and [Exception Handling](exception-handling-task-parallel-library.md).</span></span>  

## <a name="predefined-dataflow-block-types"></a><span data-ttu-id="a4c3a-197">Vordefinierte Datenflussblocktypen</span><span class="sxs-lookup"><span data-stu-id="a4c3a-197">Predefined Dataflow Block Types</span></span>  
 <span data-ttu-id="a4c3a-198">Die TPL-Datenflussbibliothek enthält mehrere vordefinierte Datenflussblocktypen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-198">The TPL Dataflow Library provides several predefined dataflow block types.</span></span> <span data-ttu-id="a4c3a-199">Diese Typen sind in drei Kategorien unterteilt: *Pufferblöcke*, *Ausführungsblöcke* und *Gruppierungsblöcke*.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-199">These types are divided into three categories: *buffering blocks*, *execution blocks*, and *grouping blocks*.</span></span> <span data-ttu-id="a4c3a-200">In den folgenden Abschnitten werden die Blocktypen dieser Kategorien beschrieben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-200">The following sections describe the block types that make up these categories.</span></span>  
  
### <a name="buffering-blocks"></a><span data-ttu-id="a4c3a-201">Pufferblöcke</span><span class="sxs-lookup"><span data-stu-id="a4c3a-201">Buffering Blocks</span></span>  
 <span data-ttu-id="a4c3a-202">Pufferblöcke enthalten Daten zur Verwendung durch Datenconsumer.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-202">Buffering blocks hold data for use by data consumers.</span></span> <span data-ttu-id="a4c3a-203">Die TPL-Datenflussbibliothek enthält drei Pufferblocktypen: <xref:System.Threading.Tasks.Dataflow.BufferBlock%601?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601?displayProperty=nameWithType> und <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-203">The TPL Dataflow Library provides three buffering block types: <xref:System.Threading.Tasks.Dataflow.BufferBlock%601?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601?displayProperty=nameWithType>.</span></span>  
  
#### <a name="bufferblockt"></a><span data-ttu-id="a4c3a-204">BufferBlock(T)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-204">BufferBlock(T)</span></span>  
 <span data-ttu-id="a4c3a-205">Die <xref:System.Threading.Tasks.Dataflow.BufferBlock%601>-Klasse stellt eine allgemeine asynchrone Nachrichtenstruktur dar.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-205">The <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> class represents a general-purpose asynchronous messaging structure.</span></span> <span data-ttu-id="a4c3a-206">Diese Klasse speichert eine FIFO-Nachrichtenwarteschlange (First In, First Out), in die mehrere Quellen Nachrichten schreiben oder aus der mehrere Ziele Nachrichten auslesen können.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-206">This class stores a first in, first out (FIFO) queue of messages that can be written to by multiple sources or read from by multiple targets.</span></span> <span data-ttu-id="a4c3a-207">Wenn ein Ziel eine Nachricht von einem <xref:System.Threading.Tasks.Dataflow.BufferBlock%601>-Objekt empfängt, wird diese Nachricht aus der Nachrichtenwarteschlange entfernt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-207">When a target receives a message from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object, that message is removed from the message queue.</span></span> <span data-ttu-id="a4c3a-208">Daher können die einzelnen Nachrichten nur von einem Ziel empfangen werden, obwohl ein <xref:System.Threading.Tasks.Dataflow.BufferBlock%601>-Objekt mehrere Ziele haben kann.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-208">Therefore, although a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object can have multiple targets, only one target will receive each message.</span></span> <span data-ttu-id="a4c3a-209">Die <xref:System.Threading.Tasks.Dataflow.BufferBlock%601>-Klasse ist hilfreich, wenn Sie mehrere Nachrichten an eine andere Komponente übergeben möchten und diese Komponente alle Nachrichten empfangen muss.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-209">The <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> class is useful when you want to pass multiple messages to another component, and that component must receive each message.</span></span>  
  
 <span data-ttu-id="a4c3a-210">Im folgenden grundlegenden Beispiel werden mehrere <xref:System.Int32>-Werte an ein <xref:System.Threading.Tasks.Dataflow.BufferBlock%601>-Objekt gesendet und anschließend wieder aus dem Objekt gelesen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-210">The following basic example posts several <xref:System.Int32> values to a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object and then reads those values back from that object.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#1)]
 [!code-vb[TPLDataflow_Overview#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#1)]  
  
 <span data-ttu-id="a4c3a-211">Ein vollständiges Beispiel zur Veranschaulichung, wie Nachrichten in ein <xref:System.Threading.Tasks.Dataflow.BufferBlock%601>-Objekt geschrieben oder daraus gelesen werden, finden Sie unter [Gewusst wie: Meldungen in einen Datenflussblock schreiben und Meldungen daraus lesen](how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-211">For a complete example that demonstrates how to write messages to and read messages from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object, see [How to: Write Messages to and Read Messages from a Dataflow Block](how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md).</span></span>  
  
#### <a name="broadcastblockt"></a><span data-ttu-id="a4c3a-212">BroadcastBlock(T)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-212">BroadcastBlock(T)</span></span>  
 <span data-ttu-id="a4c3a-213">Die <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>-Klasse ist hilfreich, wenn mehrere Nachrichten an eine andere Komponente übergeben werden müssen, diese Komponente jedoch nur den letzten Wert benötigt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-213">The <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class is useful when you must pass multiple messages to another component, but that component needs only the most recent value.</span></span> <span data-ttu-id="a4c3a-214">Diese Klasse ist darüber hinaus auch hilfreich, wenn Sie eine Nachricht an mehreren Komponenten übertragen möchten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-214">This class is also useful when you want to broadcast a message to multiple components.</span></span>  
  
 <span data-ttu-id="a4c3a-215">Im folgenden grundlegenden Beispiel wird ein <xref:System.Double>-Wert an ein <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>-Objekt gesendet und dann mehrmals aus dem Objekt gelesen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-215">The following basic example posts a <xref:System.Double> value to a <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> object and then reads that value back from that object several times.</span></span> <span data-ttu-id="a4c3a-216">Da Werte nicht aus <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>-Objekten entfernt werden, nachdem sie gelesen wurden, ist der gleiche Wert jedes Mal verfügbar.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-216">Because values are not removed from <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> objects after they are read, the same value is available every time.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#2)]
 [!code-vb[TPLDataflow_Overview#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#2)]  
  
 <span data-ttu-id="a4c3a-217">Ein vollständiges Beispiel zur Veranschaulichung, wie eine Nachricht mit <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> an mehrere Zielblöcke gesendet wird, finden Sie unter [Gewusst wie: Einen Aufgabenplaner in einem Datenflussblock angeben](how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-217">For a complete example that demonstrates how to use <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> to broadcast a message to multiple target blocks, see [How to: Specify a Task Scheduler in a Dataflow Block](how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span></span>  
  
#### <a name="writeonceblockt"></a><span data-ttu-id="a4c3a-218">WriteOnceBlock(T)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-218">WriteOnceBlock(T)</span></span>  
 <span data-ttu-id="a4c3a-219">Die <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>-Klasse ähnelt der <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>-Klasse, ein <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>-Objekt kann jedoch nur einmal hineingeschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-219">The <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> class resembles the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, except that a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object can be written to one time only.</span></span> <span data-ttu-id="a4c3a-220"><xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> ähnelt dem [readonly](../../csharp/language-reference/keywords/readonly.md)-Schlüsselwort in C# ([ReadOnly](../../visual-basic/language-reference/modifiers/readonly.md) in Visual Basic), ein <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>-Objekt wird jedoch unveränderlich, nachdem es einen Wert anstatt einer Konstruktion empfängt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-220">You can think of <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> as being similar to the C# [readonly](../../csharp/language-reference/keywords/readonly.md) ([ReadOnly](../../visual-basic/language-reference/modifiers/readonly.md) in Visual Basic) keyword, except that a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object becomes immutable after it receives a value instead of at construction.</span></span> <span data-ttu-id="a4c3a-221">Wenn ein Ziel eine Nachricht von einem <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>-Objekt empfängt, wird diese Nachricht wie bei der <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>-Klasse nicht aus diesem Objekt entfernt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-221">Like the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, when a target receives a message from a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object, that message is not removed from that object.</span></span> <span data-ttu-id="a4c3a-222">Daher empfangen mehrere Ziele eine Kopie der Nachricht.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-222">Therefore, multiple targets receive a copy of the message.</span></span> <span data-ttu-id="a4c3a-223">Die <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>-Klasse ist hilfreich, wenn Sie nur die erste von mehreren Nachrichten weitergeben möchten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-223">The <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> class is useful when you want to propagate only the first of multiple messages.</span></span>  
  
 <span data-ttu-id="a4c3a-224">Im folgenden Beispiel werden mehrere <xref:System.String>-Werte an ein <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>-Objekt gesendet. Anschließend wird der Wert aus dem Objekt gelesen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-224">The following basic example posts multiple <xref:System.String> values to a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object and then reads the value back from that object.</span></span> <span data-ttu-id="a4c3a-225">Da in ein <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>-Objekt nur einmal geschrieben werden kann, nachdem ein <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>-Objekt eine Nachricht empfängt, werden nachfolgende Nachrichten verworfen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-225">Because a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object can be written to one time only, after a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object receives a message, it discards subsequent messages.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#3)]
 [!code-vb[TPLDataflow_Overview#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#3)]  
  
 <span data-ttu-id="a4c3a-226">Ein vollständiges Beispiel zur Veranschaulichung, wie mit <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> der Wert des ersten abgeschlossenen Vorgangs empfangen wird, finden Sie unter [Gewusst wie: Verknüpfungen für Datenflussblöcke aufheben](how-to-unlink-dataflow-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-226">For a complete example that demonstrates how to use <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> to receive the value of the first operation that finishes, see [How to: Unlink Dataflow Blocks](how-to-unlink-dataflow-blocks.md).</span></span>  
  
### <a name="execution-blocks"></a><span data-ttu-id="a4c3a-227">Ausführungsblöcke</span><span class="sxs-lookup"><span data-stu-id="a4c3a-227">Execution Blocks</span></span>  
 <span data-ttu-id="a4c3a-228">Ausführungsblöcke rufen einen vom Benutzer bereitgestellten Delegaten für jedes Element empfangener Daten auf.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-228">Execution blocks call a user-provided delegate for each piece of received data.</span></span> <span data-ttu-id="a4c3a-229">Die TPL-Datenflussbibliothek enthält drei Typen von Ausführungsblöcken: <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602?displayProperty=nameWithType> und <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-229">The TPL Dataflow Library provides three execution block types: <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602?displayProperty=nameWithType>.</span></span>  
  
#### <a name="actionblockt"></a><span data-ttu-id="a4c3a-230">ActionBlock(T)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-230">ActionBlock(T)</span></span>  
 <span data-ttu-id="a4c3a-231">Die <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Klasse ist ein Zielblock, der einen Delegaten aufruft, wenn er Daten empfängt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-231">The <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class is a target block that calls a delegate when it receives data.</span></span> <span data-ttu-id="a4c3a-232">Stellen Sie sich ein <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Objekt als Delegaten vor, der asynchron ausgeführt wird, wenn Daten verfügbar werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-232">Think of a <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object as a delegate that runs asynchronously when data becomes available.</span></span> <span data-ttu-id="a4c3a-233">Der Delegat, den Sie für ein <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Objekt bereitstellen, kann vom Typ <xref:System.Action%601> oder vom Typ `System.Func<TInput, Task>` sein.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-233">The delegate that you provide to an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object can be of type <xref:System.Action%601> or type `System.Func<TInput, Task>`.</span></span> <span data-ttu-id="a4c3a-234">Wenn Sie ein <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Objekt mit <xref:System.Action%601> verwenden, wird die Verarbeitung jedes Eingabeelements als abgeschlossen betrachtet, wenn der Delegat zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-234">When you use an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object with <xref:System.Action%601>, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="a4c3a-235">Wenn Sie ein <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Objekt mit `System.Func<TInput, Task>` verwenden, wird die Verarbeitung jedes Eingabeelements nur dann als abgeschlossen betrachtet, wenn das zurückgegebene <xref:System.Threading.Tasks.Task>-Objekt abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-235">When you use an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object with `System.Func<TInput, Task>`, processing of each input element is considered completed only when the returned <xref:System.Threading.Tasks.Task> object is completed.</span></span> <span data-ttu-id="a4c3a-236">Mit diesen beiden Mechanismen können Sie <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> zur synchronen und asynchronen Verarbeitung der einzelnen Eingabeelemente verwenden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-236">By using these two mechanisms, you can use <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> for both synchronous and asynchronous processing of each input element.</span></span>  
  
 <span data-ttu-id="a4c3a-237">Im folgenden grundlegenden Beispiel werden mehrere <xref:System.Int32>-Werte an ein <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Objekt gesendet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-237">The following basic example posts multiple <xref:System.Int32> values to an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object.</span></span> <span data-ttu-id="a4c3a-238">Das <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Objekt gibt diese Werte in der Konsole aus.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-238">The <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object prints those values to the console.</span></span> <span data-ttu-id="a4c3a-239">Im Beispiel wird der Block dann in den abgeschlossenen Zustand versetzt, und es wird gewartet, bis alle Datenflussaufgaben abgeschlossen sind.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-239">This example then sets the block to the completed state and waits for all dataflow tasks to finish.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#4)]
 [!code-vb[TPLDataflow_Overview#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#4)]  
  
 <span data-ttu-id="a4c3a-240">Vollständige Beispiele für die Verwendung von Delegaten mit der <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Klasse finden Sie unter [Gewusst wie: Eine Aktion ausführen, wenn ein Datenflussblock Daten empfängt](how-to-perform-action-when-a-dataflow-block-receives-data.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-240">For complete examples that demonstrate how to use delegates with the <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class, see [How to: Perform Action When a Dataflow Block Receives Data](how-to-perform-action-when-a-dataflow-block-receives-data.md).</span></span>  
  
#### <a name="transformblocktinput-toutput"></a><span data-ttu-id="a4c3a-241">TransformBlock(TInput, TOutput)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-241">TransformBlock(TInput, TOutput)</span></span>  
 <span data-ttu-id="a4c3a-242">Die <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>-Klasse ähnelt der <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-Klasse, sie fungiert jedoch als Quelle und als Ziel.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-242">The <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> class resembles the <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class, except that it acts as both a source and as a target.</span></span> <span data-ttu-id="a4c3a-243">Der Delegat, den Sie an ein <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>-Objekt übergeben, gibt einen Wert vom Typ `TOutput` zurück.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-243">The delegate that you pass to a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object returns a value of type `TOutput`.</span></span> <span data-ttu-id="a4c3a-244">Der Delegat, den Sie für ein <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>-Objekt bereitstellen, kann vom Typ `System.Func<TInput, TOutput>` oder vom Typ `System.Func<TInput, Task<TOutput>>` sein.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-244">The delegate that you provide to a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object can be of type `System.Func<TInput, TOutput>` or type `System.Func<TInput, Task<TOutput>>`.</span></span> <span data-ttu-id="a4c3a-245">Wenn Sie ein <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>-Objekt mit `System.Func<TInput, TOutput>` verwenden, wird die Verarbeitung jedes Eingabeelements als abgeschlossen betrachtet, wenn der Delegat zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-245">When you use a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object with `System.Func<TInput, TOutput>`, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="a4c3a-246">Wenn Sie ein <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>-Objekt mit `System.Func<TInput, Task<TOutput>>` verwenden, wird die Verarbeitung jedes Eingabeelements nur dann als abgeschlossen betrachtet, wenn das zurückgegebene <xref:System.Threading.Tasks.Task%601>-Objekt abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-246">When you use a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object used with `System.Func<TInput, Task<TOutput>>`, processing of each input element is considered completed only when the returned <xref:System.Threading.Tasks.Task%601> object is completed.</span></span> <span data-ttu-id="a4c3a-247">Wie bei <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> können Sie mit diesen beiden Mechanismen <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> zur synchronen und asynchronen Verarbeitung der einzelnen Eingabeelemente verwenden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-247">As with <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, by using these two mechanisms, you can use <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> for both synchronous and asynchronous processing of each input element.</span></span>  
  
 <span data-ttu-id="a4c3a-248">Im folgenden grundlegenden Beispiel wird ein <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>-Objekt erstellt, das die Quadratwurzel seiner Eingabe berechnet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-248">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object that computes the square root of its input.</span></span> <span data-ttu-id="a4c3a-249">Das <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>-Objekt nimmt <xref:System.Int32>-Werte als Eingabe an und erzeugt <xref:System.Double>-Werte als Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-249">The <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object takes <xref:System.Int32> values as input and produces <xref:System.Double> values as output.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#5](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#5)]
 [!code-vb[TPLDataflow_Overview#5](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#5)]  
  
 <span data-ttu-id="a4c3a-250">Ausführliche Beispiele für die Verwendung von <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> in einem Netzwerk von Datenflussblöcken, das eine Bildverarbeitung in einer Windows Forms-Anwendung ausführt, finden Sie unter [Exemplarische Vorgehensweise: Datenfluss in einer Windows Forms-Anwendung verwenden](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-250">For complete examples that uses <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> in a network of dataflow blocks that performs image processing in a Windows Forms application, see [Walkthrough: Using Dataflow in a Windows Forms Application](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
#### <a name="transformmanyblocktinput-toutput"></a><span data-ttu-id="a4c3a-251">TransformManyBlock(TInput, TOutput)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-251">TransformManyBlock(TInput, TOutput)</span></span>  
 <span data-ttu-id="a4c3a-252">Die <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Klasse ähnelt der <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>-Klasse, außer dass <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> null oder mehr Ausgabewerte für jeden Eingabewert erzeugt, anstatt nur eines Ausgabewerts für jeden Eingabewert.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-252">The <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> class resembles the <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> class, except that <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> produces zero or more output values for each input value, instead of only one output value for each input value.</span></span> <span data-ttu-id="a4c3a-253">Der Delegat, den Sie für ein <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Objekt bereitstellen, kann vom Typ `System.Func<TInput, IEnumerable<TOutput>>` oder vom Typ `System.Func<TInput, Task<IEnumerable<TOutput>>>` sein.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-253">The delegate that you provide to a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object can be of type `System.Func<TInput, IEnumerable<TOutput>>` or type `System.Func<TInput, Task<IEnumerable<TOutput>>>`.</span></span> <span data-ttu-id="a4c3a-254">Wenn Sie ein <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Objekt mit `System.Func<TInput, IEnumerable<TOutput>>` verwenden, wird die Verarbeitung jedes Eingabeelements als abgeschlossen betrachtet, wenn der Delegat zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-254">When you use a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object with `System.Func<TInput, IEnumerable<TOutput>>`, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="a4c3a-255">Wenn Sie ein <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Objekt mit `System.Func<TInput, Task<IEnumerable<TOutput>>>` verwenden, wird die Verarbeitung jedes Eingabeelements nur dann als abgeschlossen betrachtet, wenn das zurückgegebene `System.Threading.Tasks.Task<IEnumerable<TOutput>>`-Objekt abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-255">When you use a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object with `System.Func<TInput, Task<IEnumerable<TOutput>>>`, processing of each input element is considered complete only when the returned `System.Threading.Tasks.Task<IEnumerable<TOutput>>` object is completed.</span></span>  
  
 <span data-ttu-id="a4c3a-256">Im folgenden grundlegenden Beispiel wird ein <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Objekt erstellt, das Zeichenfolgen in ihre einzelnen Zeichensequenzen aufteilt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-256">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object that splits strings into their individual character sequences.</span></span> <span data-ttu-id="a4c3a-257">Das <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Objekt nimmt <xref:System.String>-Werte als Eingabe an und erzeugt <xref:System.Char>-Werte als Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-257">The <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object takes <xref:System.String> values as input and produces <xref:System.Char> values as output.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#6)]
 [!code-vb[TPLDataflow_Overview#6](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#6)]  
  
 <span data-ttu-id="a4c3a-258">Ausführliche Beispiele, bei denen mit <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> mehrere unabhängige Ausgaben für jede Eingabe in einer Datenflusspipeline erzeugt werden, finden Sie unter [Exemplarische Vorgehensweise: Erstellen einer Datenflusspipeline](walkthrough-creating-a-dataflow-pipeline.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-258">For complete examples that use <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> to produce multiple independent outputs for each input in a dataflow pipeline, see [Walkthrough: Creating a Dataflow Pipeline](walkthrough-creating-a-dataflow-pipeline.md).</span></span>  
  
#### <a name="degree-of-parallelism"></a><span data-ttu-id="a4c3a-259">Grad der Parallelität</span><span class="sxs-lookup"><span data-stu-id="a4c3a-259">Degree of Parallelism</span></span>  
 <span data-ttu-id="a4c3a-260">Jedes <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>- und <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Objekt puffert eingehende Nachrichten, bis der Block bereit für die Verarbeitung ist.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-260">Every <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object buffers input messages until the block is ready to process them.</span></span> <span data-ttu-id="a4c3a-261">In der Standardeinstellung verarbeiten diese Klassen Nachrichten nacheinander in der Reihenfolge, in der sie empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-261">By default, these classes process messages in the order in which they are received, one message at a time.</span></span> <span data-ttu-id="a4c3a-262">Sie können auch den Grad der Parallelität angeben, sodass <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>- und <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Objekte mehrere Nachrichten gleichzeitig verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-262">You can also specify the degree of parallelism to enable <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objects to process multiple messages concurrently.</span></span> <span data-ttu-id="a4c3a-263">Weitere Informationen über die gleichzeitige Ausführung finden Sie im Abschnitt "Festlegen des Grads der Parallelität" weiter unten in diesem Dokument.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-263">For more information about concurrent execution, see the section Specifying the Degree of Parallelism later in this document.</span></span> <span data-ttu-id="a4c3a-264">Ein Beispiel, bei dem der Grad der Parallelität so festgelegt wird, dass ein Ausführungsdatenflussblock mehrere Nachrichten gleichzeitig verarbeiten kann, finden Sie unter [Gewusst wie: Festlegen des Parallelitätsgrads in einem Datenflussblock](how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-264">For an example that sets the degree of parallelism to enable an execution dataflow block to process more than one message at a time, see [How to: Specify the Degree of Parallelism in a Dataflow Block](how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span></span>  
  
#### <a name="summary-of-delegate-types"></a><span data-ttu-id="a4c3a-265">Übersicht über Delegattypen</span><span class="sxs-lookup"><span data-stu-id="a4c3a-265">Summary of Delegate Types</span></span>  
 <span data-ttu-id="a4c3a-266">In der folgenden Tabelle sind die Delegattypen zusammengefasst, die Sie für <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>-, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>- und <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>-Objekte bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-266">The following table summarizes the delegate types that you can provide to <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objects.</span></span> <span data-ttu-id="a4c3a-267">In dieser Tabelle wird auch angegeben, ob der Delegattyp synchron oder asynchron arbeitet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-267">This table also specifies whether the delegate type operates synchronously or asynchronously.</span></span>  
  
|<span data-ttu-id="a4c3a-268">Geben Sie Folgendes ein:</span><span class="sxs-lookup"><span data-stu-id="a4c3a-268">Type</span></span>|<span data-ttu-id="a4c3a-269">Synchroner Delegattyp</span><span class="sxs-lookup"><span data-stu-id="a4c3a-269">Synchronous Delegate Type</span></span>|<span data-ttu-id="a4c3a-270">Asynchroner Delegattyp</span><span class="sxs-lookup"><span data-stu-id="a4c3a-270">Asynchronous Delegate Type</span></span>|  
|----------|-------------------------------|--------------------------------|  
|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|`System.Action`|`System.Func<TInput, Task>`|  
|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|`System.Func<TInput, TOutput>`|`System.Func<TInput, Task<TOutput>>`|  
|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|`System.Func<TInput, IEnumerable<TOutput>>`|`System.Func<TInput, Task<IEnumerable<TOutput>>>`|  
  
 <span data-ttu-id="a4c3a-271">Sie können auch Lambda-Ausdrücke verwenden, wenn Sie mit Ausführungsblocktypen arbeiten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-271">You can also use lambda expressions when you work with execution block types.</span></span> <span data-ttu-id="a4c3a-272">Ein Beispiel zum Verwenden eines Lambdaausdruck mit einem Ausführungsblock finden Sie unter [Gewusst wie: Ausführen einer Aktion, wenn ein Datenflussblock Daten empfängt](how-to-perform-action-when-a-dataflow-block-receives-data.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-272">For an example that shows how to use a lambda expression with an execution block, see [How to: Perform Action When a Dataflow Block Receives Data](how-to-perform-action-when-a-dataflow-block-receives-data.md).</span></span>  
  
### <a name="grouping-blocks"></a><span data-ttu-id="a4c3a-273">Gruppierungsblöcke</span><span class="sxs-lookup"><span data-stu-id="a4c3a-273">Grouping Blocks</span></span>  
 <span data-ttu-id="a4c3a-274">Gruppierungsblöcke kombinieren Daten aus einer oder mehreren Quellen und unter verschiedenen Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-274">Grouping blocks combine data from one or more sources and under various constraints.</span></span> <span data-ttu-id="a4c3a-275">Die TPL-Datenflussbibliothek enthält drei Typen von Gruppierungsblöcken: <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> und <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-275">The TPL Dataflow Library provides three join block types: <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>.</span></span>  
  
#### <a name="batchblockt"></a><span data-ttu-id="a4c3a-276">BatchBlock(T)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-276">BatchBlock(T)</span></span>  
 <span data-ttu-id="a4c3a-277">Die <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Klasse kombiniert Sätze von Eingabedaten, die als Batches bezeichnet werden, in Arrays von Ausgabedaten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-277">The <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class combines sets of input data, which are known as batches, into arrays of output data.</span></span> <span data-ttu-id="a4c3a-278">Beim Erstellen eines <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekts geben Sie die Größe von jedem Batch an.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-278">You specify the size of each batch when you create a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object.</span></span> <span data-ttu-id="a4c3a-279">Wenn das <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekt die angegebene Anzahl von Eingabeelementen empfängt, wird ein Array mit diesen Elementen asynchron weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-279">When the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object receives the specified count of input elements, it asynchronously propagates out an array that contains those elements.</span></span> <span data-ttu-id="a4c3a-280">Wenn ein <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekt in den abgeschlossenen Zustand versetzt wird, jedoch nicht genügend Elemente zum Bilden eines Batches enthält, wird ein abschließendes Array mit den restlichen Eingabeelementen weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-280">If a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object is set to the completed state but does not contain enough elements to form a batch, it propagates out a final array that contains the remaining input elements.</span></span>  
  
 <span data-ttu-id="a4c3a-281">Die <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Klasse arbeitet entweder im *gierigen* oder im *nicht gierigen* Modus.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-281">The <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class operates in either *greedy* or *non-greedy* mode.</span></span> <span data-ttu-id="a4c3a-282">Im gierigen Modus (Standard) nimmt ein <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekt jede Nachricht an, die angeboten wird, und gibt ein Array weiter, nachdem die angegebene Anzahl von Elementen empfangen wurde.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-282">In greedy mode, which is the default, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object accepts every message that it is offered and propagates out an array after it receives the specified count of elements.</span></span> <span data-ttu-id="a4c3a-283">Im nicht gierigen Modus stellt ein <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekt alle eingehenden Nachrichten zurück, bis dem Block genügend Nachrichten von Quellen angeboten wurden, um einen Batch zu bilden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-283">In non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object postpones all incoming messages until enough sources have offered messages to the block to form a batch.</span></span> <span data-ttu-id="a4c3a-284">Der gierige Modus erzielt in der Regel eine bessere Leistung als der nicht gierige Modus, da er weniger Verarbeitungsaufwand erfordert.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-284">Greedy mode typically performs better than non-greedy mode because it requires less processing overhead.</span></span> <span data-ttu-id="a4c3a-285">Sie können den nicht gierigen Modus jedoch verwenden, wenn Sie die Nutzung von mehreren Quellen auf atomische Weise koordinieren müssen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-285">However, you can use non-greedy mode when you must coordinate consumption from multiple sources in an atomic fashion.</span></span> <span data-ttu-id="a4c3a-286">Legen Sie den nicht gierigen Modus fest, indem Sie <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> auf `False` im `dataflowBlockOptions` Parameter im <xref:System.Threading.Tasks.Dataflow.BatchBlock%601.%23ctor%2A>-Konstruktor festlegen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-286">Specify non-greedy mode by setting <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> to `False` in the `dataflowBlockOptions` parameter in the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601.%23ctor%2A> constructor.</span></span>  
  
 <span data-ttu-id="a4c3a-287">Im folgenden grundlegenden Beispiel werden mehrere <xref:System.Int32>-Werte an ein <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekt gesendet, das zehn Elemente in einem Batch enthält.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-287">The following basic example posts several <xref:System.Int32> values to a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object that holds ten elements in a batch.</span></span> <span data-ttu-id="a4c3a-288">Um sicherzustellen, dass alle Werte aus <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> weitergegeben werden, wird in diesem Beispiel die <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A>-Methode aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-288">To guarantee that all values propagate out of the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, this example calls the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method.</span></span> <span data-ttu-id="a4c3a-289">Die <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A>-Methode legt das <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekt auf den abgeschlossenen Zustand fest. Daher werden vom <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekt alle verbleibenden Elemente in einem abschließenden Batch weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-289">The <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method sets the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object to the completed state, and therefore, the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object propagates out any remaining elements as a final batch.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#7)]
 [!code-vb[TPLDataflow_Overview#7](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#7)]  
  
 <span data-ttu-id="a4c3a-290">Ein vollständiges Beispiel, das <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> zur Verbesserung der Effizienz von Datenbankeinfügevorgängen verwendet, finden Sie unter [Exemplarische Vorgehensweise: Effizienzverbesserung durch Verwendung von BatchBlock und BatchedJoinBlock](walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-290">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> to improve the efficiency of database insert operations, see [Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency](walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span></span>  
  
#### <a name="joinblockt1-t2-"></a><span data-ttu-id="a4c3a-291">JoinBlock(T1, T2, ...)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-291">JoinBlock(T1, T2, ...)</span></span>  
 <span data-ttu-id="a4c3a-292">Die <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>- und die <xref:System.Threading.Tasks.Dataflow.JoinBlock%603>-Klasse sammeln Eingabeelemente und geben <xref:System.Tuple%602?displayProperty=nameWithType>- oder <xref:System.Tuple%603?displayProperty=nameWithType>-Objekte weiter, die diese Elemente enthalten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-292">The <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> classes collect input elements and propagate out <xref:System.Tuple%602?displayProperty=nameWithType> or <xref:System.Tuple%603?displayProperty=nameWithType> objects that contain those elements.</span></span> <span data-ttu-id="a4c3a-293">Die <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>- und die <xref:System.Threading.Tasks.Dataflow.JoinBlock%603>-Klasse erben nicht von <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-293">The <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> classes do not inherit from <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span> <span data-ttu-id="a4c3a-294">Stattdessen stellen sie die Eigenschaften <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target1%2A>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target2%2A> und <xref:System.Threading.Tasks.Dataflow.JoinBlock%603.Target3%2A> bereit, die <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> implementieren.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-294">Instead, they provide properties, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target1%2A>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target2%2A>, and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603.Target3%2A>, that implement <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span>  
  
 <span data-ttu-id="a4c3a-295">Wie <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> arbeiten auch <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> und <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> entweder im gierigen oder im nicht gierigen Modus.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-295">Like <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> operate in either greedy or non-greedy mode.</span></span> <span data-ttu-id="a4c3a-296">Im gierigen Modus (Standard) nimmt ein <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>- oder <xref:System.Threading.Tasks.Dataflow.JoinBlock%603>-Objekt jede Nachricht an, die angeboten wird, und gibt ein Tupel weiter, nachdem jedes der zugehörigen Ziele mindestens eine Nachricht empfangen hat.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-296">In greedy mode, which is the default, a <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> or <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object accepts every message that it is offered and propagates out a tuple after each of its targets receives at least one message.</span></span> <span data-ttu-id="a4c3a-297">Im nicht gierigen Modus stellt ein <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>- oder <xref:System.Threading.Tasks.Dataflow.JoinBlock%603>-Objekt alle eingehenden Nachrichten zurück, bis allen Zielen die Daten angeboten wurden, die zum Erstellen eines Tupels erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-297">In non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> or <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object postpones all incoming messages until all targets have been offered the data that is required to create a tuple.</span></span> <span data-ttu-id="a4c3a-298">An diesem Punkt initiiert der Block ein Zweiphasencommit-Protokoll, um alle erforderlichen Elemente aus den Quellen atomar abzurufen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-298">At this point, the block engages in a two-phase commit protocol to atomically retrieve all required items from the sources.</span></span> <span data-ttu-id="a4c3a-299">Durch diese Zurückstellung ist es möglich, dass eine andere Entität die Daten in der Zwischenzeit nutzt, sodass das gesamte System mit der Verarbeitung fortschreitet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-299">This postponement makes it possible for another entity to consume the data in the meantime, to allow the overall system to make forward progress.</span></span>  
  
 <span data-ttu-id="a4c3a-300">Das folgende grundlegende Beispiel zeigt einen Fall, in dem ein <xref:System.Threading.Tasks.Dataflow.JoinBlock%603>-Objekt mehrere Daten benötigt, einen Wert zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-300">The following basic example demonstrates a case in which a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object requires multiple data to compute a value.</span></span> <span data-ttu-id="a4c3a-301">In diesem Beispiel wird ein <xref:System.Threading.Tasks.Dataflow.JoinBlock%603>-Objekt erstellt, das zwei <xref:System.Int32>-Werte und einen <xref:System.Char>-Wert erfordert, um eine arithmetische Operation durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-301">This example creates a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object that requires two <xref:System.Int32> values and a <xref:System.Char> value to perform an arithmetic operation.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#8](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#8)]
 [!code-vb[TPLDataflow_Overview#8](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#8)]  
  
 <span data-ttu-id="a4c3a-302">Ein vollständiges Beispiel für die Verwendung von <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>-Objekten im nicht gierigen Modus zur kooperativen Nutzung einer Ressource finden Sie unter [Gewusst wie: JoinBlock zum Lesen aus mehreren Quellen verwenden](how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-302">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> objects in non-greedy mode to cooperatively share a resource, see [How to: Use JoinBlock to Read Data From Multiple Sources](how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span></span>  
  
#### <a name="batchedjoinblockt1-t2-"></a><span data-ttu-id="a4c3a-303">BatchedJoinBlock(T1, T2, ...)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-303">BatchedJoinBlock(T1, T2, ...)</span></span>  
 <span data-ttu-id="a4c3a-304">Die <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>- und die <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%603>-Klasse sammeln Batches von Eingabeelementen und geben `System.Tuple(IList(T1), IList(T2))`- oder `System.Tuple(IList(T1), IList(T2), IList(T3))`-Objekte weiter, die diese Elemente enthalten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-304">The <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%603> classes collect batches of input elements and propagate out `System.Tuple(IList(T1), IList(T2))` or `System.Tuple(IList(T1), IList(T2), IList(T3))` objects that contain those elements.</span></span> <span data-ttu-id="a4c3a-305">Stellen Sie sich <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> als eine Kombination aus <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> und <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> vor.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-305">Think of <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> as a combination of <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>.</span></span> <span data-ttu-id="a4c3a-306">Beim Erstellen eines <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>-Objekts geben Sie die Größe von jedem Batch an.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-306">Specify the size of each batch when you create a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object.</span></span> <span data-ttu-id="a4c3a-307"><xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> stellt außerdem die Eigenschaften <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> und <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A> bereit, die <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> implementieren.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-307"><xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> also provides properties, <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A>, that implement <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span> <span data-ttu-id="a4c3a-308">Wenn die angegebene Anzahl von Eingabeelementen auf allen Zielen empfangen wurde, gibt das <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>-Objekt ein `System.Tuple(IList(T1), IList(T2))`-Objekt asynchron weiter, das die Elemente enthält.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-308">When the specified count of input elements are received from across all targets, the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object asynchronously propagates out a `System.Tuple(IList(T1), IList(T2))` object that contains those elements.</span></span>  
  
 <span data-ttu-id="a4c3a-309">Im folgenden grundlegenden Beispiel wird ein <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>-Objekt erstellt, das Ergebnisse, <xref:System.Int32>-Werte und Fehler enthält, bei denen es sich um <xref:System.Exception>-Objekte handelt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-309">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object that holds results, <xref:System.Int32> values, and errors that are <xref:System.Exception> objects.</span></span> <span data-ttu-id="a4c3a-310">In diesem Beispiel werden mehrere Vorgänge durchgeführt. Ergebnisse werden in die <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A>-Eigenschaft und Fehler in die <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A>-Eigenschaft des <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>-Objekts geschrieben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-310">This example performs multiple operations and writes results to the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> property, and errors to the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A> property, of the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object.</span></span> <span data-ttu-id="a4c3a-311">Da die Anzahl der erfolgreichen und fehlgeschlagenen Vorgänge im Voraus unbekannt ist, ermöglichen die <xref:System.Collections.Generic.IList%601>-Objekte, dass jedes Ziel null oder mehr Werte empfängt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-311">Because the count of successful and failed operations is unknown in advance, the <xref:System.Collections.Generic.IList%601> objects enable each target to receive zero or more values.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#9](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#9)]
 [!code-vb[TPLDataflow_Overview#9](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#9)]  
  
 <span data-ttu-id="a4c3a-312">Ein vollständiges Beispiel, bei dem mit <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> die Ergebnisse und Ausnahmen erfasst werden, die beim Lesen des Programms aus einer Datenbank auftreten, finden Sie unter [Exemplarische Vorgehensweise: Effizienzverbesserung durch Verwendung von BatchBlock und BatchedJoinBlock](walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-312">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> to capture both the results and any exceptions that occur while the program reads from a database, see [Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency](walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span></span>  

## <a name="configuring-dataflow--block-behavior"></a><span data-ttu-id="a4c3a-313">Konfigurieren des Datenflussblockverhaltens</span><span class="sxs-lookup"><span data-stu-id="a4c3a-313">Configuring Dataflow  Block Behavior</span></span>  
 <span data-ttu-id="a4c3a-314">Sie können zusätzliche Optionen aktivieren, indem Sie ein <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType>-Objekt für den Konstruktor von Datenflussblocktypen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-314">You can enable additional options by providing a <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType> object to the constructor of dataflow block types.</span></span> <span data-ttu-id="a4c3a-315">Diese Optionen steuern das Verhalten wie z. B. den Planer, der die zugrunde liegende Aufgabe und den Grad der Parallelität verwaltet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-315">These options control behavior such the scheduler that manages the underlying task and the degree of parallelism.</span></span> <span data-ttu-id="a4c3a-316"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> verfügt außerdem über abgeleitete Typen, die das Verhalten für bestimmte Datenflussblocktypen festlegen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-316">The <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> also has derived types that specify behavior that is specific to certain dataflow block types.</span></span> <span data-ttu-id="a4c3a-317">In der folgenden Tabelle ist zusammengefasst, welcher Optionstyp den einzelnen Datenflussblocktypen zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-317">The following table summarizes which options type is associated with each dataflow block type.</span></span>  
  
|<span data-ttu-id="a4c3a-318">Datenflussblocktyp</span><span class="sxs-lookup"><span data-stu-id="a4c3a-318">Dataflow Block Type</span></span>|<span data-ttu-id="a4c3a-319"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>-Typ</span><span class="sxs-lookup"><span data-stu-id="a4c3a-319"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> type</span></span>|  
|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<xref:System.Threading.Tasks.Dataflow.BufferBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BatchBlock%601>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.JoinBlock%602>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
  
 <span data-ttu-id="a4c3a-320">Die folgenden Abschnitte enthalten zusätzliche Informationen über die wichtigen Arten von Optionen für Datenflussblöcke, die durch die Klassen <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions?displayProperty=nameWithType> und <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions?displayProperty=nameWithType> zur Verfügung stehen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-320">The following sections provide additional information about the important kinds of dataflow block options that are available through the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions?displayProperty=nameWithType> classes.</span></span>  
  
### <a name="specifying-the-task-scheduler"></a><span data-ttu-id="a4c3a-321">Festlegen des Aufgabenplaners</span><span class="sxs-lookup"><span data-stu-id="a4c3a-321">Specifying the Task Scheduler</span></span>  
 <span data-ttu-id="a4c3a-322">Jeder vordefinierte Datenflussblock verwendet den TPL-Aufgabenplanungsmechanismus zum Durchführen von Aktivitäten, wie das Weitergeben von Daten an ein Ziel, das Empfangen von Daten aus einer Quelle und das Ausführen benutzerdefinierter Delegate, wenn Daten verfügbar werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-322">Every predefined dataflow block uses the TPL task scheduling mechanism to perform activities such as propagating data to a target, receiving data from a source, and running user-defined delegates when data becomes available.</span></span> <span data-ttu-id="a4c3a-323"><xref:System.Threading.Tasks.TaskScheduler> ist eine abstrakte Klasse, die einen Aufgabenplaner darstellt, der Aufgaben in Warteschlangen für Threads stellt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-323"><xref:System.Threading.Tasks.TaskScheduler> is an abstract class that represents a task scheduler that queues tasks onto threads.</span></span> <span data-ttu-id="a4c3a-324">Der Standardtaskplaner <xref:System.Threading.Tasks.TaskScheduler.Default%2A> verwendet die <xref:System.Threading.ThreadPool>-Klasse, um Arbeit in die Warteschlange zu stellen und auszuführen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-324">The default task scheduler, <xref:System.Threading.Tasks.TaskScheduler.Default%2A>, uses the <xref:System.Threading.ThreadPool> class to queue and execute work.</span></span> <span data-ttu-id="a4c3a-325">Sie können den Standardtaskplaner überschreiben, indem Sie die <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.TaskScheduler%2A>-Eigenschaft festlegen, wenn Sie ein Datenflussblockobjekt erstellen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-325">You can override the default task scheduler by setting the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.TaskScheduler%2A> property when you construct a dataflow block object.</span></span>  
  
 <span data-ttu-id="a4c3a-326">Wenn der gleiche Aufgabenplaner mehrere Datenflussblöcke verwaltet, kann er Richtlinien für sie erzwingen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-326">When the same task scheduler manages multiple dataflow blocks, it can enforce policies across them.</span></span> <span data-ttu-id="a4c3a-327">Wenn beispielsweise für mehrere Datenflussblöcke jeweils der exklusive Planer des gleichen <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair>-Objekts als Ziel konfiguriert ist, wird die gesamte Arbeit serialisiert, die auf diesen Blöcken ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-327">For example, if multiple dataflow blocks are each configured to target the exclusive scheduler of the same <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> object, all work that runs across these blocks is serialized.</span></span> <span data-ttu-id="a4c3a-328">Wenn für diese Blöcke der parallele Planer des gleichen <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair>-Objekts als Ziel konfiguriert wird und dieser Planer für die maximale Nebenläufigkeitsebene konfiguriert ist, wird die gesamte Arbeit von diesen Blöcken auf diese Anzahl paralleler Vorgänge beschränkt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-328">Similarly, if these blocks are configured to target the concurrent scheduler of the same <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> object, and that scheduler is configured to have a maximum concurrency level, all work from these blocks is limited to that number of concurrent operations.</span></span> <span data-ttu-id="a4c3a-329">Ein Beispiel, bei dem mithilfe der <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair>-Klasse Lesevorgänge parallel ausgeführt werden, Schreibvorgänge jedoch exklusiv von allen anderen Vorgängen erfolgen, finden Sie unter [Gewusst wie: Einen Aufgabenplaner in einem Datenflussblock angeben](how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-329">For an example that uses the <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> class to enable read operations to occur in parallel, but write operations to occur exclusively of all other operations, see [How to: Specify a Task Scheduler in a Dataflow Block](how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span></span> <span data-ttu-id="a4c3a-330">Weitere Informationen zum Taskplaner in der TPL finden Sie im Thema zur <xref:System.Threading.Tasks.TaskScheduler>-Klasse.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-330">For more information about task schedulers in the TPL, see the <xref:System.Threading.Tasks.TaskScheduler> class topic.</span></span>  
  
### <a name="specifying-the-degree-of-parallelism"></a><span data-ttu-id="a4c3a-331">Festlegen des Grads der Parallelität</span><span class="sxs-lookup"><span data-stu-id="a4c3a-331">Specifying the Degree of Parallelism</span></span>  
 <span data-ttu-id="a4c3a-332">In der Standardeinstellung verarbeitet die drei Ausführungsblocktypen, die die TPL-Datenflussbibliothek bereitstellt, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> und <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>, jeweils nur eine Nachricht.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-332">By default, the three execution block types that the TPL Dataflow Library provides, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>, process one message at a time.</span></span> <span data-ttu-id="a4c3a-333">Diese Datenflussblocktypen verarbeiten Nachrichten ebenfalls in der Reihenfolge, in der sie empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-333">These dataflow block types also process messages in the order in which they are received.</span></span> <span data-ttu-id="a4c3a-334">Damit diese Datenflussblöcke Nachrichten gleichzeitig verarbeiten können, muss die <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A?displayProperty=nameWithType>-Eigenschaft beim Erstellen des Datenflussblockobjekts festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-334">To enable these dataflow blocks to process messages concurrently, set the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A?displayProperty=nameWithType> property when you construct the dataflow block object.</span></span>  
  
 <span data-ttu-id="a4c3a-335">Der Standardwert von <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> ist 1. Dadurch wird gewährleistet, dass der Datenflussblock jeweils nur eine Nachricht verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-335">The default value of <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> is 1, which guarantees that the dataflow block processes one message at a time.</span></span> <span data-ttu-id="a4c3a-336">Durch das Festlegen dieser Eigenschaft auf einen Wert, der größer als 1 ist, kann der Datenflussblock mehrere Nachrichten gleichzeitig verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-336">Setting this property to a value that is larger than 1 enables the dataflow block to process multiple messages concurrently.</span></span> <span data-ttu-id="a4c3a-337">Durch das Festlegen dieser Eigenschaft auf <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType> kann der zugrunde liegende Aufgabenplaner den maximalen Grad von Nebenläufigkeit verwalten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-337">Setting this property to <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType> enables the underlying task scheduler to manage the maximum degree of concurrency.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="a4c3a-338">Wenn Sie einen maximalen Grad an Parallelität angeben, der größer als 1 ist, werden mehrere Nachrichten gleichzeitig verarbeitet. Daher werden Nachrichten möglicherweise nicht in der Reihenfolge verarbeitet, in der sie empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-338">When you specify a maximum degree of parallelism that is larger than 1, multiple messages are processed simultaneously, and therefore messages might not be processed in the order in which they are received.</span></span> <span data-ttu-id="a4c3a-339">Die Reihenfolge, in der die Nachrichten aus dem Block ausgegeben werden, ist jedoch mit der Reihenfolge identisch, in der sie empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-339">The order in which the messages are output from the block is, however, the same one in which they are received.</span></span>  
  
 <span data-ttu-id="a4c3a-340">Da die <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A>-Eigenschaft den maximalen Grad an Parallelität darstellt, wird der Datenflussblock u. U. mit einem geringeren Grad an Parallelität ausgeführt als angegeben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-340">Because the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property represents the maximum degree of parallelism, the dataflow block might execute with a lesser degree of parallelism than you specify.</span></span> <span data-ttu-id="a4c3a-341">Der Datenflussblock kann zum Erfüllen seiner Funktionsanforderungen oder aufgrund eines Mangels an verfügbaren Systemressourcen einen geringeren Grad an Parallelität verwenden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-341">The dataflow block might use a lesser degree of parallelism to meet its functional requirements or because there is a lack of available system resources.</span></span> <span data-ttu-id="a4c3a-342">Ein Datenflussblock wird nie mit mehr Parallelität ausgeführt als Sie angeben.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-342">A dataflow block never chooses more parallelism than you specify.</span></span>  
  
 <span data-ttu-id="a4c3a-343">Der Wert der <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A>-Eigenschaft ist exklusiv für jedes Datenflussblockobjekt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-343">The value of the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property is exclusive to each dataflow block object.</span></span> <span data-ttu-id="a4c3a-344">Wenn beispielsweise für vier Datenflussblockobjekte als maximaler Grad an Parallelität jeweils 1 angegeben wird, können u. U. alle vier Datenflussblockobjekte parallel ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-344">For example, if four dataflow block objects each specify 1 for the maximum degree of parallelism, all four dataflow block objects can potentially run in parallel.</span></span>  
  
 <span data-ttu-id="a4c3a-345">Ein Beispiel, bei dem der maximale Grad an Parallelität so festgelegt wird, dass lang andauernde Operationen parallel ausgeführt werden können, finden Sie unter [Gewusst wie: Festlegen des Parallelitätsgrads in einem Datenflussblock](how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-345">For an example that sets the maximum degree of parallelism to enable lengthy operations to occur in parallel, see [How to: Specify the Degree of Parallelism in a Dataflow Block](how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span></span>  
  
### <a name="specifying-the-number-of-messages-per-task"></a><span data-ttu-id="a4c3a-346">Festlegen der Anzahl von Nachrichten pro Aufgabe</span><span class="sxs-lookup"><span data-stu-id="a4c3a-346">Specifying the Number of Messages per Task</span></span>  
 <span data-ttu-id="a4c3a-347">Die vordefinierten Datenflussblocktypen verwenden Aufgaben, um mehrere Eingabeelemente zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-347">The predefined dataflow block types use tasks to process multiple input elements.</span></span> <span data-ttu-id="a4c3a-348">Dadurch kann die Anzahl der zum Verarbeiten von Daten erforderlichen Aufgabenobjekte minimiert werden, sodass Anwendungen effizienter ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-348">This helps minimize the number of task objects that are required to process data, which enables applications to run more efficiently.</span></span> <span data-ttu-id="a4c3a-349">Wenn Daten von den Aufgaben aus einem Satz von Datenflussblöcken verarbeitet werden, müssen die Aufgaben von anderen Datenflussblöcken jedoch möglicherweise auf Verarbeitungszeit warten, indem Nachrichten in die Warteschlange gestellt werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-349">However, when the tasks from one set of dataflow blocks are processing data, the tasks from other dataflow blocks might need to wait for processing time by queuing messages.</span></span> <span data-ttu-id="a4c3a-350">Legen Sie die Eigenschaft <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> fest, um eine bessere Ausgewogenheit zwischen Datenflussaufgaben zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-350">To enable better fairness among dataflow tasks, set the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> property.</span></span> <span data-ttu-id="a4c3a-351">Wenn <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> auf <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType> (Standard) festgelegt ist, verarbeitet die von einem Datenflussblock verwendete Aufgabe alle verfügbaren Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-351">When <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> is set to <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType>, which is the default, the task used by a dataflow block processes as many messages as are available.</span></span> <span data-ttu-id="a4c3a-352">Wenn <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> auf einen anderen Wert als <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded> festgelegt wird, verarbeitet der Datenflussblock höchstens diese Anzahl an Nachrichten pro <xref:System.Threading.Tasks.Task>-Objekt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-352">When <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> is set to a value other than <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded>, the dataflow block processes at most this number of messages per <xref:System.Threading.Tasks.Task> object.</span></span> <span data-ttu-id="a4c3a-353">Obwohl das Festlegen der <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A>-Eigenschaft die Ausgewogenheit zwischen Aufgaben erhöhen kann, werden vom System u. U. mehr Aufgaben als notwendig erstellt, sodass die Leistung beeinträchtigt wird.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-353">Although setting the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> property can increase fairness among tasks, it can cause the system to create more tasks than are necessary, which can decrease performance.</span></span>  
  
### <a name="enabling-cancellation"></a><span data-ttu-id="a4c3a-354">Aktivieren des Abbruchs</span><span class="sxs-lookup"><span data-stu-id="a4c3a-354">Enabling Cancellation</span></span>  
 <span data-ttu-id="a4c3a-355">Die TPL bietet einen Mechanismus, durch den Aufgaben Abbrüche kooperative koordinieren können.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-355">The TPL provides a mechanism that enables tasks to coordinate cancellation in a cooperative manner.</span></span> <span data-ttu-id="a4c3a-356">Legen Sie die <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A>-Eigenschaft fest, damit Datenflussblöcke diesen Abbruchmechanismus nutzen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-356">To enable dataflow blocks to participate in this cancellation mechanism, set the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> property.</span></span> <span data-ttu-id="a4c3a-357">Wenn dieses <xref:System.Threading.CancellationToken>-Objekt in den abgebrochenen Zustand versetzt wird, beenden alle Datenflussblöcke, die dieses Token überwachen, die Ausführung ihres aktuellen Elements, beginnen jedoch nicht mit der Verarbeitung nachfolgender Elemente.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-357">When this <xref:System.Threading.CancellationToken> object is set to the canceled state, all dataflow blocks that monitor this token finish execution of their current item but do not start processing subsequent items.</span></span> <span data-ttu-id="a4c3a-358">Diese Datenflussblöcke löschen außerdem alle gepufferten Nachrichten, geben Verbindungen zu allen Quell- und Zielblöcken frei und wechseln in den abgebrochenen Zustand.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-358">These dataflow blocks also clear any buffered messages, release connections to any source and target blocks, and transition to the canceled state.</span></span> <span data-ttu-id="a4c3a-359">Durch den Übergang in den abgebrochenen Zustand, wird die <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A>-Eigenschaft der <xref:System.Threading.Tasks.Task.Status%2A>-Eigenschaft auf <xref:System.Threading.Tasks.TaskStatus.Canceled> festgelegt, wenn während der Verarbeitung keine Aufnahme aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-359">By transitioning to the canceled state, the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property has the <xref:System.Threading.Tasks.Task.Status%2A> property set to <xref:System.Threading.Tasks.TaskStatus.Canceled>, unless an exception occurred during processing.</span></span> <span data-ttu-id="a4c3a-360">In diesem Fall wird <xref:System.Threading.Tasks.Task.Status%2A> auf <xref:System.Threading.Tasks.TaskStatus.Faulted> festgelegt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-360">In that case, <xref:System.Threading.Tasks.Task.Status%2A> is set to <xref:System.Threading.Tasks.TaskStatus.Faulted>.</span></span>  
  
 <span data-ttu-id="a4c3a-361">Ein Beispiel für die Verwendung eines Abbruchs in einer Windows Forms-Anwendung finden Sie unter [Gewusst wie: Abbrechen eines Datenflussblocks](how-to-cancel-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-361">For an example that demonstrates how to use cancellation in a Windows Forms application, see [How to: Cancel a Dataflow Block](how-to-cancel-a-dataflow-block.md).</span></span> <span data-ttu-id="a4c3a-362">Weitere Informationen über Abbrüche in der TPL finden Sie unter [Aufgabenabbruch](task-cancellation.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-362">For more information about cancellation in the TPL, see [Task Cancellation](task-cancellation.md).</span></span>  
  
### <a name="specifying-greedy-versus-non-greedy-behavior"></a><span data-ttu-id="a4c3a-363">Festlegen von gierigem Verhalten im Vergleich zu nicht gierigem Verhalten</span><span class="sxs-lookup"><span data-stu-id="a4c3a-363">Specifying Greedy Versus Non-Greedy Behavior</span></span>  
 <span data-ttu-id="a4c3a-364">Mehrere Gruppierungsdatenflussblock-Typen können im *gierigen* oder im *nicht gierigen* Modus arbeiten.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-364">Several grouping dataflow block types can operate in either *greedy* or *non-greedy* mode.</span></span> <span data-ttu-id="a4c3a-365">In der Standardeinstellung arbeiten die vordefinierten Datenflussblocktypen im gierigen Modus.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-365">By default, the predefined dataflow block types operate in greedy mode.</span></span>  
  
 <span data-ttu-id="a4c3a-366">Bei Gruppierungsblocktypen wie <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> bedeutet der gierige Modus, dass Daten vom Block sofort angenommen werden, auch wenn die entsprechenden Daten, mit denen eine gemeinsame Gruppierung erfolgt, noch nicht verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-366">For join block types such as <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, greedy mode means that the block immediately accepts data even if the corresponding data with which to join is not yet available.</span></span> <span data-ttu-id="a4c3a-367">Nicht gieriger Modus bedeutet, dass der Block alle eingehenden Nachrichten zurückstellt, bis eine Nachricht an jedem der zugehörigen Ziele verfügbar ist, um die Gruppierung zu vervollständigen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-367">Non-greedy mode means that the block postpones all incoming messages until one is available on each of its targets to complete the join.</span></span> <span data-ttu-id="a4c3a-368">Wenn eine der zurückgestellten Nachrichten nicht mehr verfügbar ist, gibt der Gruppierungsblock alle zurückgestellten Nachrichten frei und startet den Prozess neu.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-368">If any of the postponed messages are no longer available, the join block releases all postponed messages and restarts the process.</span></span> <span data-ttu-id="a4c3a-369">Bei der <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Klasse ist das gierige und das nicht gierige Verhalten ähnlich, außer dass ein <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Objekt im nicht gierigen Modus alle eingehenden Nachrichten zurückstellt, bis genügend Nachrichten aus verschiedenen Quellen verfügbar sind, um einen Batch zu vervollständigen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-369">For the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class, greedy and non-greedy behavior is similar, except that under non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object postpones all incoming messages until enough are available from distinct sources to complete a batch.</span></span>  
  
 <span data-ttu-id="a4c3a-370">Legen Sie <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> auf `False` fest, um den nicht gierigen Modus für einen Datenflussblock festzulegen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-370">To specify non-greedy mode for a dataflow block, set <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> to `False`.</span></span> <span data-ttu-id="a4c3a-371">Ein Beispiel für die Verwendung des nicht gierigen Modus, sodass mehrere Gruppierungsblöcke eine Datenquelle effizienter gemeinsam verwenden können, finden Sie unter [Gewusst wie: Verwenden von JoinBlock zum Lesen aus mehreren Quellen](how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-371">For an example that demonstrates how to use non-greedy mode to enable multiple join blocks to share a data source more efficiently, see [How to: Use JoinBlock to Read Data From Multiple Sources](how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span></span>

## <a name="custom-dataflow-blocks"></a><span data-ttu-id="a4c3a-372">Benutzerdefinierte Datenflussblöcke</span><span class="sxs-lookup"><span data-stu-id="a4c3a-372">Custom Dataflow Blocks</span></span>  
 <span data-ttu-id="a4c3a-373">Obwohl die TPL-Datenflussbibliothek viele vordefinierte Blocktypen bereitstellt, können Sie zusätzliche Blockstypen mit einem benutzerdefinierten Verhalten erstellen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-373">Although the TPL Dataflow Library provides many predefined block types, you can create additional block types that perform custom behavior.</span></span> <span data-ttu-id="a4c3a-374">Implementieren Sie direkt die <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>- oder die <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>-Schnittstelle, oder verwenden Sie die <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Encapsulate%2A>-Methode, um einen komplexen Block zu erstellen, der das Verhalten vorhandener Blocktypen kapselt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-374">Implement the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> or <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> interfaces directly or use the  <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Encapsulate%2A> method to build a complex block that encapsulates the behavior of existing block types.</span></span> <span data-ttu-id="a4c3a-375">Beispiele für die Implementierung benutzerdefinierter Datenflussblockfunktionen finden Sie unter [Exemplarische Vorgehensweise: Erstellen eines Datenflussblocktyps](walkthrough-creating-a-custom-dataflow-block-type.md).</span><span class="sxs-lookup"><span data-stu-id="a4c3a-375">For examples that show how to implement custom dataflow block functionality, see [Walkthrough: Creating a Custom Dataflow Block Type](walkthrough-creating-a-custom-dataflow-block-type.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="a4c3a-376">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="a4c3a-376">Related Topics</span></span>  
  
|<span data-ttu-id="a4c3a-377">Titel</span><span class="sxs-lookup"><span data-stu-id="a4c3a-377">Title</span></span>|<span data-ttu-id="a4c3a-378">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="a4c3a-378">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="a4c3a-379">Gewusst wie: Schreiben und Lesen von Nachrichten in einem Datenflussblock</span><span class="sxs-lookup"><span data-stu-id="a4c3a-379">How to: Write Messages to and Read Messages from a Dataflow Block</span></span>](how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md)|<span data-ttu-id="a4c3a-380">Veranschaulicht, wie Nachrichten in ein <xref:System.Threading.Tasks.Dataflow.BufferBlock%601>-Objekt geschrieben und daraus gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-380">Demonstrates how to write messages to and read messages from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object.</span></span>|  
|[<span data-ttu-id="a4c3a-381">Gewusst wie: Implementieren eines Producer-Consumer-Musters</span><span class="sxs-lookup"><span data-stu-id="a4c3a-381">How to: Implement a Producer-Consumer Dataflow Pattern</span></span>](how-to-implement-a-producer-consumer-dataflow-pattern.md)|<span data-ttu-id="a4c3a-382">Beschreibt, wie mit dem Datenflussmodell ein Producer-Consumer-Muster implementiert wird, bei dem der Producer Nachrichten an einen Datenflussblock sendet und der Consumer Nachrichten aus diesem Block liest.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-382">Describes how to use the dataflow model to implement a producer-consumer pattern, where the producer sends messages to a dataflow block, and the consumer reads messages from that block.</span></span>|  
|[<span data-ttu-id="a4c3a-383">Gewusst wie: Ausführen einer Aktion, wenn ein Datenflussblock Daten empfängt</span><span class="sxs-lookup"><span data-stu-id="a4c3a-383">How to: Perform Action When a Dataflow Block Receives Data</span></span>](how-to-perform-action-when-a-dataflow-block-receives-data.md)|<span data-ttu-id="a4c3a-384">Beschreibt, wie Delegaten für die Ausführungsdatenflussblocktypen <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> und <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-384">Describes how to provide delegates to the execution dataflow block types, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>.</span></span>|  
|[<span data-ttu-id="a4c3a-385">Exemplarische Vorgehensweise: Erstellen einer Datenflusspipeline</span><span class="sxs-lookup"><span data-stu-id="a4c3a-385">Walkthrough: Creating a Dataflow Pipeline</span></span>](walkthrough-creating-a-dataflow-pipeline.md)|<span data-ttu-id="a4c3a-386">Beschreibt, wie eine Datenflusspipeline erstellt wird, die Text aus dem Web herunterlädt und Vorgänge für diesen Text ausführt.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-386">Describes how to create a dataflow pipeline that downloads text from the web and performs operations on that text.</span></span>|  
|[<span data-ttu-id="a4c3a-387">Gewusst wie: Aufheben der Verknüpfungen für Datenflussblöcke</span><span class="sxs-lookup"><span data-stu-id="a4c3a-387">How to: Unlink Dataflow Blocks</span></span>](how-to-unlink-dataflow-blocks.md)|<span data-ttu-id="a4c3a-388">Veranschaulicht, wie mit der <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A>-Methode die Verknüpfung zwischen einem Zielblock und der zugehörigen Quelle aufgelöst wird, nachdem die Quelle dem Ziel eine Nachricht anbietet.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-388">Demonstrates how to use the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> method to unlink a target block from its source after the source offers a message to the target.</span></span>|  
|[<span data-ttu-id="a4c3a-389">Exemplarische Vorgehensweise: Verwenden eines Datenflusses in einer Windows Forms-Anwendung</span><span class="sxs-lookup"><span data-stu-id="a4c3a-389">Walkthrough: Using Dataflow in a Windows Forms Application</span></span>](walkthrough-using-dataflow-in-a-windows-forms-application.md)|<span data-ttu-id="a4c3a-390">Veranschaulicht, wie ein Netzwerk von Datenflussblöcken erstellt wird, die eine Bildverarbeitung in einer Windows Forms-Anwendung durchführen.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-390">Demonstrates how to create a network of dataflow blocks that perform image processing in a Windows Forms application.</span></span>|  
|[<span data-ttu-id="a4c3a-391">Gewusst wie: Abbrechen eines Datenflussblocks</span><span class="sxs-lookup"><span data-stu-id="a4c3a-391">How to: Cancel a Dataflow Block</span></span>](how-to-cancel-a-dataflow-block.md)|<span data-ttu-id="a4c3a-392">Veranschaulicht die Verwendung von Abbrüchen in einer Windows Forms-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-392">Demonstrates how to use cancellation in a Windows Forms application.</span></span>|  
|[<span data-ttu-id="a4c3a-393">Gewusst wie: Verwenden von JoinBlock zum Lesen aus mehreren Quellen</span><span class="sxs-lookup"><span data-stu-id="a4c3a-393">How to: Use JoinBlock to Read Data From Multiple Sources</span></span>](how-to-use-joinblock-to-read-data-from-multiple-sources.md)|<span data-ttu-id="a4c3a-394">Erläutert die Verwendung der <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>-Klasse, um einen Vorgang durchzuführen, wenn Daten aus mehreren Quellen zur Verfügung stehen, sowie die Verwendung des nicht gierigen Modus, sodass mehrere Gruppierungsblöcke eine Datenquelle effizienter gemeinsam verwenden können.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-394">Explains how to use the <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> class to perform an operation when data is available from multiple sources, and how to use non-greedy mode to enable multiple join blocks to share a data source more efficiently.</span></span>|  
|[<span data-ttu-id="a4c3a-395">Gewusst wie: Festlegen des Parallelitätsgrads in einem Datenflussblock</span><span class="sxs-lookup"><span data-stu-id="a4c3a-395">How to: Specify the Degree of Parallelism in a Dataflow Block</span></span>](how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md)|<span data-ttu-id="a4c3a-396">Beschreibt, wie die <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A>-Eigenschaft festgelegt wird, damit ein Ausführungsdatenflussblock mehrere Nachrichten gleichzeitig verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-396">Describes how to set the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property to enable an execution dataflow block to process more than one message at a time.</span></span>|  
|[<span data-ttu-id="a4c3a-397">Gewusst wie: Angeben eines Aufgabenplaners in einem Datenflussblock</span><span class="sxs-lookup"><span data-stu-id="a4c3a-397">How to: Specify a Task Scheduler in a Dataflow Block</span></span>](how-to-specify-a-task-scheduler-in-a-dataflow-block.md)|<span data-ttu-id="a4c3a-398">Veranschaulicht, wie ein bestimmter Aufgabenplaner zugeordnet wird, wenn Sie Datenfluss in Ihrer Anwendung verwenden.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-398">Demonstrates how to associate a specific task scheduler when you use dataflow in your application.</span></span>|  
|[<span data-ttu-id="a4c3a-399">Exemplarische Vorgehensweise: Effizienzverbesserung durch Verwendung von BatchBlock und BatchedJoinBlock</span><span class="sxs-lookup"><span data-stu-id="a4c3a-399">Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency</span></span>](walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md)|<span data-ttu-id="a4c3a-400">Beschreibt, wie mit der <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>-Klasse die Effizienz von Datenbankeinfügevorgängen verbessert wird und wie mit der <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>-Klasse sowohl die Ergebnisse als auch Ausnahmen erfasst werden, die auftreten, während das Programm aus einer Datenbank liest.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-400">Describes how to use the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class to improve the efficiency of database insert operations, and how to use the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> class to capture both the results and any exceptions that occur while the program reads from a database.</span></span>|  
|[<span data-ttu-id="a4c3a-401">Exemplarische Vorgehensweise: Erstellen eines Datenflussblocktyps</span><span class="sxs-lookup"><span data-stu-id="a4c3a-401">Walkthrough: Creating a Custom Dataflow Block Type</span></span>](walkthrough-creating-a-custom-dataflow-block-type.md)|<span data-ttu-id="a4c3a-402">Veranschaulicht zwei Möglichkeiten, einen Datenflussblocktyp zu erstellen, der benutzerdefiniertes Verhalten implementiert.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-402">Demonstrates two ways to create a dataflow block type that implements custom behavior.</span></span>|  
|[<span data-ttu-id="a4c3a-403">Task Parallel Library (TPL)</span><span class="sxs-lookup"><span data-stu-id="a4c3a-403">Task Parallel Library (TPL)</span></span>](task-parallel-library-tpl.md)|<span data-ttu-id="a4c3a-404">Stellt die TPL vor, eine Bibliothek, die die parallele Programmierung in .NET Framework-Anwendungen vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="a4c3a-404">Introduces the TPL, a library that simplifies parallel and concurrent programming in .NET Framework applications.</span></span>|
