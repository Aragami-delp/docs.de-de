---
title: Serialisierungskonzepte
ms.date: 08/07/2017
ms.assetid: e1ff4740-20a1-4c76-a8ad-d857db307054
ms.openlocfilehash: 1a7fa7c3e5561fc9e48cf627a703abc747a72ba0
ms.sourcegitcommit: 00aa62e2f469c2272a457b04e66b4cc3c97a800b
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/28/2020
ms.locfileid: "78159831"
---
# <a name="serialization-concepts"></a><span data-ttu-id="53a11-102">Serialisierungskonzepte</span><span class="sxs-lookup"><span data-stu-id="53a11-102">Serialization concepts</span></span>
<span data-ttu-id="53a11-103">Warum ist es sinnvoll, die Serialisierung zu verwenden?</span><span class="sxs-lookup"><span data-stu-id="53a11-103">Why would you want to use serialization?</span></span> <span data-ttu-id="53a11-104">Die beiden wichtigsten Gründe bestehen darin, dass der Objektstatus auf einem Speichermedium dauerhaft gespeichert werden soll, damit zu einem späteren Zeitpunkt eine genaue Kopie angefertigt werden kann, und dass das Objekt als Wert von einer Anwendungsdomäne zu einer anderen Anwendungsdomäne übertragen werden soll.</span><span class="sxs-lookup"><span data-stu-id="53a11-104">The two most important reasons are to persist the state of an object to a storage medium so an exact copy can be re-created at a later stage, and to send the object by value from one application domain to another.</span></span> <span data-ttu-id="53a11-105">Die Serialisierung wird beispielsweise eingesetzt, um den Sitzungsstatus in ASP.NET zu speichern und Objekte in die Zwischenablage von Windows&#160;Forms zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="53a11-105">For example, serialization is used to save session state in ASP.NET and to copy objects to the Clipboard in Windows Forms.</span></span> <span data-ttu-id="53a11-106">Sie wird auch vom Remotingsystem verwendet, um Objekte als Wert von einer Anwendungsdomäne an eine andere zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="53a11-106">It is also used by remoting to pass objects by value from one application domain to another.</span></span>

[!INCLUDE [binary-serialization-warning](../../../includes/binary-serialization-warning.md)]

## <a name="persistent-storage"></a><span data-ttu-id="53a11-107">Dauerhafte Speicherung</span><span class="sxs-lookup"><span data-stu-id="53a11-107">Persistent storage</span></span>
<span data-ttu-id="53a11-108">Es ist häufig notwendig, die Werte der Felder eines Objekts auf einem Datenträger zu speichern und diese Daten später abzurufen.</span><span class="sxs-lookup"><span data-stu-id="53a11-108">It is often necessary to store the value of the fields of an object to disk and then, later, retrieve this data.</span></span> <span data-ttu-id="53a11-109">Dies lässt sich zwar auch ohne die Serialisierung erreichen, aber dieser Ansatz ist häufig mühsam und fehleranfällig und wird zunehmend komplex, wenn eine Hierarchie von Objekten verfolgt werden muss.</span><span class="sxs-lookup"><span data-stu-id="53a11-109">Although this is easy to achieve without relying on serialization, this approach is often cumbersome and error prone, and becomes progressively more complex when you need to track a hierarchy of objects.</span></span> <span data-ttu-id="53a11-110">Stellen Sie sich vor, Sie programmieren eine große Geschäftsanwendung mit Tausenden von Objekten und müssen Code schreiben, mit dem die Felder und Eigenschaften der einzelnen Objekte auf dem Datenträger gespeichert und von diesem wieder abgerufen und in den jeweiligen Objekten wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="53a11-110">Imagine writing a large business application, that contains thousands of objects, and having to write code to save and restore the fields and properties to and from disk for each object.</span></span> <span data-ttu-id="53a11-111">Die Serialisierung stellt einen zweckmäßigen Mechanismus zur Erreichung dieses Ziels bereit.</span><span class="sxs-lookup"><span data-stu-id="53a11-111">Serialization provides a convenient mechanism for achieving this objective.</span></span>

<span data-ttu-id="53a11-112">Die Common Language Runtime verwaltet, wie Objekte im Speicher gespeichert werden und stellt einen automatischen Serialisierungsmechanismus bereit, der sich auf die [Reflektion](../../../docs/framework/reflection-and-codedom/reflection.md) stützt.</span><span class="sxs-lookup"><span data-stu-id="53a11-112">The common language runtime manages how objects are stored in memory and provides an automated serialization mechanism by using [reflection](../../../docs/framework/reflection-and-codedom/reflection.md).</span></span> <span data-ttu-id="53a11-113">Wenn ein Objekt serialisiert wird, werden der Name der Klasse, die Assembly und alle Datenmember der Klasseninstanz auf das Speichermedium geschrieben.</span><span class="sxs-lookup"><span data-stu-id="53a11-113">When an object is serialized, the name of the class, the assembly, and all the data members of the class instance are written to storage.</span></span> <span data-ttu-id="53a11-114">Objekte speichern oft in Membervariablen Verweise auf andere Instanzen.</span><span class="sxs-lookup"><span data-stu-id="53a11-114">Objects often store references to other instances in member variables.</span></span> <span data-ttu-id="53a11-115">Beim Serialisieren der Klasse verfolgt die Serialisierungs-Engine Objekte, auf die verwiesen wird und die bereits serialsiert sind, um sicherzustellen, dass ein Objekt nicht zweimal serialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="53a11-115">When the class is serialized, the serialization engine tracks referenced objects, already serialized, to ensure that the same object is not serialized more than once.</span></span> <span data-ttu-id="53a11-116">Die mit dem .NET Framework bereitgestellte Serialisierungsarchitektur behandelt Objektdiagramme und Zirkelbezüge automatisch richtig.</span><span class="sxs-lookup"><span data-stu-id="53a11-116">The serialization architecture provided with the .NET Framework correctly handles object graphs and circular references automatically.</span></span> <span data-ttu-id="53a11-117">Objektdiagramme müssen nur die Anforderung erfüllen, dass alle Objekte, auf die das serialisierte Objekt verweist, auch als `Serializable` markiert sein müssen (weitere Informationen finden Sie unter [Einfache Serialisierung](basic-serialization.md)).</span><span class="sxs-lookup"><span data-stu-id="53a11-117">The only requirement placed on object graphs is that all objects, referenced by the serialized object, must also be marked as `Serializable` (for more information, see [Basic Serialization](basic-serialization.md)).</span></span> <span data-ttu-id="53a11-118">Ist dies nicht der Fall, wird eine Ausnahme ausgelöst, wenn versucht wird, das nicht markierte Objekt zu serialisieren.</span><span class="sxs-lookup"><span data-stu-id="53a11-118">If this is not done, an exception will be thrown when the serializer attempts to serialize the unmarked object.</span></span>

<span data-ttu-id="53a11-119">Wenn die serialisierte Klasse deserialisiert wird, wird sie neu erstellt, und die Werte aller Datenmember werden automatisch wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="53a11-119">When the serialized class is deserialized, the class is recreated and the values of all the data members are automatically restored.</span></span>

## <a name="marshal-by-value"></a><span data-ttu-id="53a11-120">Marshal als Wert</span><span class="sxs-lookup"><span data-stu-id="53a11-120">Marshal by value</span></span>
<span data-ttu-id="53a11-121">Objekte sind in nur der Anwendungsdomäne gültig, in der sie erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="53a11-121">Objects are valid only in the application domain where they are created.</span></span> <span data-ttu-id="53a11-122">Jeder Versuch, das Objekt als Parameter zu übergeben oder es als Ergebnis zurückzugeben, schlägt fehl, sofern das Objekt nicht von `MarshalByRefObject` abgeleitet wurde oder mit dem Attribut `Serializable` markiert ist.</span><span class="sxs-lookup"><span data-stu-id="53a11-122">Any attempt to pass the object as a parameter or return it as a result will fail unless the object derives from `MarshalByRefObject` or is marked as `Serializable`.</span></span> <span data-ttu-id="53a11-123">Wenn das Objekt als `Serializable` markiert ist, wird das Objekt automatisch serialisiert, von einer Anwendungsdomäne in die andere transportiert und dann deserialisiert, um in der zweiten Anwendungsdomäne eine genaue Kopie des Objekts zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="53a11-123">If the object is marked as `Serializable`, the object will automatically be serialized, transported from the one application domain to the other, and then deserialized to produce an exact copy of the object in the second application domain.</span></span> <span data-ttu-id="53a11-124">Dieser Vorgang wird in der Regel "Mashallen als Wert" genannt.</span><span class="sxs-lookup"><span data-stu-id="53a11-124">This process is typically referred to as marshal-by-value.</span></span>

<span data-ttu-id="53a11-125">Wenn ein Objekt von `MarshalByRefObject` abgeleitet ist, wird statt des Objekts ein Objektverweis von einer Anwendungsdomäne einer anderen Anwendungsdomäne übergeben.</span><span class="sxs-lookup"><span data-stu-id="53a11-125">When an object derives from `MarshalByRefObject`, an object reference is passed from one application domain to another, rather than the object itself.</span></span> <span data-ttu-id="53a11-126">Sie können auch ein Objekt, das von `MarshalByRefObject` abgeleitet ist, als `Serializable` kennzeichnen.</span><span class="sxs-lookup"><span data-stu-id="53a11-126">You can also mark an object that derives from `MarshalByRefObject` as `Serializable`.</span></span> <span data-ttu-id="53a11-127">Wenn dieses Objekt in Verbindung mit Remoting verwendet wird, übernimmt das für die Serialisierung zuständige Formatierungsprogramm, das mit einem Ersatzselektor (`SurrogateSelector`) vorkonfiguriert wurde, die Steuerung des Serialisierungsvorgangs und ersetzt alle von `MarshalByRefObject` abgeleiteten Objekte durch einen Proxy.</span><span class="sxs-lookup"><span data-stu-id="53a11-127">When this object is used with remoting, the formatter responsible for serialization, which has been preconfigured with a surrogate selector (`SurrogateSelector`), takes control of the serialization process, and replaces all objects derived from `MarshalByRefObject` with a proxy.</span></span> <span data-ttu-id="53a11-128">Wenn kein `SurrogateSelector` gegeben ist, hält sich die Serialisierungsarchitektur an die Standardregeln für die Serialisierung, die unter [Schritte im Serialisierungsprozess](steps-in-the-serialization-process.md) beschrieben sind.</span><span class="sxs-lookup"><span data-stu-id="53a11-128">Without the `SurrogateSelector` in place, the serialization architecture follows the standard serialization rules described in [Steps in the Serialization Process](steps-in-the-serialization-process.md).</span></span>  

## <a name="related-sections"></a><span data-ttu-id="53a11-129">Verwandte Abschnitte</span><span class="sxs-lookup"><span data-stu-id="53a11-129">Related sections</span></span>  
 [<span data-ttu-id="53a11-130">Binäre Serialisierung</span><span class="sxs-lookup"><span data-stu-id="53a11-130">Binary Serialization</span></span>](../../../docs/standard/serialization/binary-serialization.md)  
 <span data-ttu-id="53a11-131">Beschreibt den binären Serialisierungsmechanismus, der in der Common Language Runtime enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="53a11-131">Describes the binary serialization mechanism that is included with the common language runtime.</span></span>  
  
 <span data-ttu-id="53a11-132">[.NET-Remotezugriff](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="53a11-132">[.NET Remoting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span></span>\
 <span data-ttu-id="53a11-133">Beschreibt die verschiedenen Kommunikationsverfahren, die in .NET&#160;Framework für die Remotekommunikation zur Verfügung stehen.</span><span class="sxs-lookup"><span data-stu-id="53a11-133">Describes the various communications methods available in the .NET Framework for remote communications.</span></span>  
  
 [<span data-ttu-id="53a11-134">XML- und SOAP-Serialisierung</span><span class="sxs-lookup"><span data-stu-id="53a11-134">XML and SOAP Serialization</span></span>](../../../docs/standard/serialization/xml-and-soap-serialization.md)  
 <span data-ttu-id="53a11-135">Beschreibt den XML- und SOAP-Serialisierungsmechanismus, der in der Common Language Runtime enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="53a11-135">Describes the XML and SOAP serialization mechanism that is included with the common language runtime.</span></span>
